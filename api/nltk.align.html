<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>nltk.align package &mdash; NLTK 3.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="NLTK 3.0 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">NLTK 3.0 documentation</a></div>
        <div class="rel">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="nltk-align-package">
<h1>nltk.align package<a class="headerlink" href="#nltk-align-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-nltk.align.api">
<span id="nltk-align-api-module"></span><h2>nltk.align.api module<a class="headerlink" href="#module-nltk.align.api" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nltk.align.api.AlignedSent">
<em class="property">class </em><tt class="descclassname">nltk.align.api.</tt><tt class="descname">AlignedSent</tt><big>(</big><em>words=[]</em>, <em>mots=[]</em>, <em>alignment=''</em>, <em>encoding='utf8'</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/api.html#AlignedSent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.api.AlignedSent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">builtins.object</span></tt></p>
<p>Return an aligned sentence object, which encapsulates two sentences
along with an <tt class="docutils literal"><span class="pre">Alignment</span></tt> between them.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.align</span> <span class="kn">import</span> <span class="n">AlignedSent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algnsent</span> <span class="o">=</span> <span class="n">AlignedSent</span><span class="p">([</span><span class="s">&#39;klein&#39;</span><span class="p">,</span> <span class="s">&#39;ist&#39;</span><span class="p">,</span> <span class="s">&#39;das&#39;</span><span class="p">,</span> <span class="s">&#39;Haus&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;house&#39;</span><span class="p">,</span> <span class="s">&#39;is&#39;</span><span class="p">,</span> <span class="s">&#39;small&#39;</span><span class="p">],</span> <span class="s">&#39;0-2 1-3 2-1 3-0&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algnsent</span><span class="o">.</span><span class="n">words</span>
<span class="go">[&#39;klein&#39;, &#39;ist&#39;, &#39;das&#39;, &#39;Haus&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algnsent</span><span class="o">.</span><span class="n">mots</span>
<span class="go">[&#39;the&#39;, &#39;house&#39;, &#39;is&#39;, &#39;small&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algnsent</span><span class="o">.</span><span class="n">alignment</span>
<span class="go">Alignment([(0, 2), (1, 3), (2, 1), (3, 0)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algnsent</span><span class="o">.</span><span class="n">precision</span><span class="p">(</span><span class="s">&#39;0-2 1-3 2-1 3-3&#39;</span><span class="p">)</span>
<span class="go">0.75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">comtrans</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">comtrans</span><span class="o">.</span><span class="n">aligned_sents</span><span class="p">()[</span><span class="mi">54</span><span class="p">])</span>
<span class="go">&lt;AlignedSent: &#39;Weshalb also sollten...&#39; -&gt; &#39;So why should EU arm...&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">comtrans</span><span class="o">.</span><span class="n">aligned_sents</span><span class="p">()[</span><span class="mi">54</span><span class="p">]</span><span class="o">.</span><span class="n">alignment</span><span class="p">)</span>
<span class="go">0-0 0-1 1-0 2-2 3-4 3-5 4-7 5-8 6-3 7-9 8-9 9-10 9-11 10-12 11-6 12-6 13-13</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>words</strong> (<em>list(str)</em>) &#8211; source language words</li>
<li><strong>mots</strong> (<em>list(str)</em>) &#8211; target language words</li>
<li><strong>alignment</strong> (<em>Alignment</em>) &#8211; the word-level alignments between the source
and target language</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="nltk.align.api.AlignedSent.alignment">
<tt class="descname">alignment</tt><a class="headerlink" href="#nltk.align.api.AlignedSent.alignment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nltk.align.api.AlignedSent.alignment_error_rate">
<tt class="descname">alignment_error_rate</tt><big>(</big><em>reference</em>, <em>possible=None</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/api.html#AlignedSent.alignment_error_rate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.api.AlignedSent.alignment_error_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Alignment Error Rate (AER) of an aligned sentence
with respect to a &#8220;gold standard&#8221; reference <tt class="docutils literal"><span class="pre">AlignedSent</span></tt>.</p>
<p>Return an error rate between 0.0 (perfect alignment) and 1.0 (no
alignment).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.align</span> <span class="kn">import</span> <span class="n">AlignedSent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">AlignedSent</span><span class="p">([</span><span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;cat&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;le&quot;</span><span class="p">,</span> <span class="s">&quot;chat&quot;</span><span class="p">],</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">alignment_error_rate</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">0.0</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reference</strong> (<em>AlignedSent or Alignment</em>) &#8211; A &#8220;gold standard&#8221; reference aligned sentence.</li>
<li><strong>possible</strong> (<em>AlignedSent or Alignment or None</em>) &#8211; A &#8220;gold standard&#8221; reference of possible alignments
(defaults to <em>reference</em> if None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nltk.align.api.AlignedSent.invert">
<tt class="descname">invert</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/nltk/align/api.html#AlignedSent.invert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.api.AlignedSent.invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the aligned sentence pair, reversing the directionality</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">AlignedSent</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nltk.align.api.AlignedSent.mots">
<tt class="descname">mots</tt><a class="reference internal" href="../_modules/nltk/align/api.html#AlignedSent.mots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.api.AlignedSent.mots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nltk.align.api.AlignedSent.precision">
<tt class="descname">precision</tt><big>(</big><em>reference</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/api.html#AlignedSent.precision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.api.AlignedSent.precision" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the precision of an aligned sentence with respect to a
&#8220;gold standard&#8221; reference <tt class="docutils literal"><span class="pre">AlignedSent</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reference</strong> (<em>AlignedSent or Alignment</em>) &#8211; A &#8220;gold standard&#8221; reference aligned sentence.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nltk.align.api.AlignedSent.recall">
<tt class="descname">recall</tt><big>(</big><em>reference</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/api.html#AlignedSent.recall"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.api.AlignedSent.recall" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the recall of an aligned sentence with respect to a
&#8220;gold standard&#8221; reference <tt class="docutils literal"><span class="pre">AlignedSent</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reference</strong> (<em>AlignedSent or Alignment</em>) &#8211; A &#8220;gold standard&#8221; reference aligned sentence.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nltk.align.api.AlignedSent.unicode_repr">
<tt class="descname">unicode_repr</tt><big>(</big><big>)</big><a class="headerlink" href="#nltk.align.api.AlignedSent.unicode_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string representation for this <tt class="docutils literal"><span class="pre">AlignedSent</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nltk.align.api.AlignedSent.words">
<tt class="descname">words</tt><a class="reference internal" href="../_modules/nltk/align/api.html#AlignedSent.words"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.api.AlignedSent.words" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="nltk.align.api.Alignment">
<em class="property">class </em><tt class="descclassname">nltk.align.api.</tt><tt class="descname">Alignment</tt><a class="reference internal" href="../_modules/nltk/align/api.html#Alignment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.api.Alignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">builtins.frozenset</span></tt></p>
<p>A storage class for representing alignment between two sequences, s1, s2.
In general, an alignment is a set of tuples of the form (i, j, ...)
representing an alignment between the i-th element of s1 and the
j-th element of s2.  Tuples are extensible (they might contain
additional data, such as a boolean to indicate sure vs possible alignments).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.align</span> <span class="kn">import</span> <span class="n">Alignment</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Alignment</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">invert</span><span class="p">()</span>
<span class="go">Alignment([(0, 0), (1, 0), (2, 1), (2, 2)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">invert</span><span class="p">())</span>
<span class="go">0-0 1-0 2-1 2-2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">[(0, 1), (0, 0)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">invert</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">[(2, 1), (2, 2)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">Alignment</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Alignment</span><span class="p">(</span><span class="s">&#39;0-0 0-1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">==</span> <span class="n">c</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="method">
<dt id="nltk.align.api.Alignment.invert">
<tt class="descname">invert</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/nltk/align/api.html#Alignment.invert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.api.Alignment.invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an Alignment object, being the inverted mapping.</p>
</dd></dl>

<dl class="method">
<dt id="nltk.align.api.Alignment.range">
<tt class="descname">range</tt><big>(</big><em>positions=None</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/api.html#Alignment.range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.api.Alignment.range" title="Permalink to this definition">¶</a></dt>
<dd><p>Work out the range of the mapping from the given positions.
If no positions are specified, compute the range of the entire mapping.</p>
</dd></dl>

<dl class="method">
<dt id="nltk.align.api.Alignment.unicode_repr">
<tt class="descname">unicode_repr</tt><big>(</big><big>)</big><a class="headerlink" href="#nltk.align.api.Alignment.unicode_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a Giza-formatted string representing the alignment.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-nltk.align.bleu_score">
<span id="nltk-align-bleu-score-module"></span><h2>nltk.align.bleu_score module<a class="headerlink" href="#module-nltk.align.bleu_score" title="Permalink to this headline">¶</a></h2>
<p>BLEU score implementation.</p>
<dl class="function">
<dt id="nltk.align.bleu_score.bleu">
<tt class="descclassname">nltk.align.bleu_score.</tt><tt class="descname">bleu</tt><big>(</big><em>candidate</em>, <em>references</em>, <em>weights</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/bleu_score.html#bleu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.bleu_score.bleu" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate BLEU score (Bilingual Evaluation Understudy)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>candidate</strong> (<em>list(str)</em>) &#8211; a candidate sentence</li>
<li><strong>references</strong> (<em>list(list(str))</em>) &#8211; reference sentences</li>
<li><strong>weights</strong> (<em>list(float)</em>) &#8211; weights for unigrams, bigrams, trigrams and so on</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidate1</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;is&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;guide&#39;</span><span class="p">,</span> <span class="s">&#39;to&#39;</span><span class="p">,</span> <span class="s">&#39;action&#39;</span><span class="p">,</span> <span class="s">&#39;which&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s">&#39;ensures&#39;</span><span class="p">,</span> <span class="s">&#39;that&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;military&#39;</span><span class="p">,</span> <span class="s">&#39;always&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s">&#39;obeys&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;commands&#39;</span><span class="p">,</span> <span class="s">&#39;of&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;party&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">candidate2</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;is&#39;</span><span class="p">,</span> <span class="s">&#39;to&#39;</span><span class="p">,</span> <span class="s">&#39;insure&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;troops&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s">&#39;forever&#39;</span><span class="p">,</span> <span class="s">&#39;hearing&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;activity&#39;</span><span class="p">,</span> <span class="s">&#39;guidebook&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s">&#39;that&#39;</span><span class="p">,</span> <span class="s">&#39;party&#39;</span><span class="p">,</span> <span class="s">&#39;direct&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">reference1</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;is&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;guide&#39;</span><span class="p">,</span> <span class="s">&#39;to&#39;</span><span class="p">,</span> <span class="s">&#39;action&#39;</span><span class="p">,</span> <span class="s">&#39;that&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s">&#39;ensures&#39;</span><span class="p">,</span> <span class="s">&#39;that&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;military&#39;</span><span class="p">,</span> <span class="s">&#39;will&#39;</span><span class="p">,</span> <span class="s">&#39;forever&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s">&#39;heed&#39;</span><span class="p">,</span> <span class="s">&#39;Party&#39;</span><span class="p">,</span> <span class="s">&#39;commands&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">reference2</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;is&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;guiding&#39;</span><span class="p">,</span> <span class="s">&#39;principle&#39;</span><span class="p">,</span> <span class="s">&#39;which&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s">&#39;guarantees&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;military&#39;</span><span class="p">,</span> <span class="s">&#39;forces&#39;</span><span class="p">,</span> <span class="s">&#39;always&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s">&#39;being&#39;</span><span class="p">,</span> <span class="s">&#39;under&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;command&#39;</span><span class="p">,</span> <span class="s">&#39;of&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s">&#39;Party&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">reference3</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;is&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;practical&#39;</span><span class="p">,</span> <span class="s">&#39;guide&#39;</span><span class="p">,</span> <span class="s">&#39;for&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s">&#39;army&#39;</span><span class="p">,</span> <span class="s">&#39;always&#39;</span><span class="p">,</span> <span class="s">&#39;to&#39;</span><span class="p">,</span> <span class="s">&#39;heed&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;directions&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s">&#39;of&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;party&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bleu</span><span class="p">(</span><span class="n">candidate1</span><span class="p">,</span> <span class="p">[</span><span class="n">reference1</span><span class="p">,</span> <span class="n">reference2</span><span class="p">,</span> <span class="n">reference3</span><span class="p">],</span> <span class="n">weights</span><span class="p">)</span>
<span class="go">0.504...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bleu</span><span class="p">(</span><span class="n">candidate2</span><span class="p">,</span> <span class="p">[</span><span class="n">reference1</span><span class="p">,</span> <span class="n">reference2</span><span class="p">,</span> <span class="n">reference3</span><span class="p">],</span> <span class="n">weights</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Papineni, Kishore, et al. &#8220;BLEU: A method for automatic evaluation of
machine translation.&#8221; Proceedings of the 40th annual meeting on association for
computational linguistics. Association for Computational Linguistics, 2002.
<a class="reference external" href="http://www.aclweb.org/anthology/P02-1040.pdf">http://www.aclweb.org/anthology/P02-1040.pdf</a></p>
</dd></dl>

</div>
<div class="section" id="module-nltk.align.gale_church">
<span id="nltk-align-gale-church-module"></span><h2>nltk.align.gale_church module<a class="headerlink" href="#module-nltk.align.gale_church" title="Permalink to this headline">¶</a></h2>
<p>A port of the Gale-Church Aligner.</p>
<p>Gale &amp; Church (1993), A Program for Aligning Sentences in Bilingual Corpora.
<a class="reference external" href="http://aclweb.org/anthology/J93-1004.pdf">http://aclweb.org/anthology/J93-1004.pdf</a></p>
<dl class="class">
<dt id="nltk.align.gale_church.LanguageIndependent">
<em class="property">class </em><tt class="descclassname">nltk.align.gale_church.</tt><tt class="descname">LanguageIndependent</tt><a class="reference internal" href="../_modules/nltk/align/gale_church.html#LanguageIndependent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.gale_church.LanguageIndependent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">builtins.object</span></tt></p>
<dl class="attribute">
<dt id="nltk.align.gale_church.LanguageIndependent.AVERAGE_CHARACTERS">
<tt class="descname">AVERAGE_CHARACTERS</tt><em class="property"> = 1</em><a class="headerlink" href="#nltk.align.gale_church.LanguageIndependent.AVERAGE_CHARACTERS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nltk.align.gale_church.LanguageIndependent.PRIORS">
<tt class="descname">PRIORS</tt><em class="property"> = {(0, 1): 0.0099, (1, 2): 0.089, (2, 2): 0.011, (1, 0): 0.0099, (1, 1): 0.89, (2, 1): 0.089}</em><a class="headerlink" href="#nltk.align.gale_church.LanguageIndependent.PRIORS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nltk.align.gale_church.LanguageIndependent.VARIANCE_CHARACTERS">
<tt class="descname">VARIANCE_CHARACTERS</tt><em class="property"> = 6.8</em><a class="headerlink" href="#nltk.align.gale_church.LanguageIndependent.VARIANCE_CHARACTERS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="nltk.align.gale_church.align_blocks">
<tt class="descclassname">nltk.align.gale_church.</tt><tt class="descname">align_blocks</tt><big>(</big><em>source_sents</em>, <em>target_sents</em>, <em>params=&lt;class 'nltk.align.gale_church.LanguageIndependent'&gt;</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/gale_church.html#align_blocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.gale_church.align_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sentence alignment of two text blocks (usually paragraphs).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">align_blocks</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">])</span>
<span class="go">[(0, 0), (1, 1), (2, 2)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align_blocks</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">20</span><span class="p">])</span>
<span class="go">[(0, 0), (1, 1), (2, 1)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align_blocks</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span><span class="mi">20</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="go">[(0, 0), (1, 1), (1, 2)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align_blocks</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">12</span><span class="p">])</span>
<span class="go">[(0, 0), (1, 1), (2, 2), (3, 2), (4, 3), (5, 4)]</span>
</pre></div>
</div>
<p>&#64;param source_sents: The list of source sentence lengths.
&#64;param target_sents: The list of target sentence lengths.
&#64;param params: the sentence alignment parameters.
&#64;return: The sentence alignments, a list of index pairs.</p>
</dd></dl>

<dl class="function">
<dt id="nltk.align.gale_church.align_log_prob">
<tt class="descclassname">nltk.align.gale_church.</tt><tt class="descname">align_log_prob</tt><big>(</big><em>i</em>, <em>j</em>, <em>source_sents</em>, <em>target_sents</em>, <em>alignment</em>, <em>params</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/gale_church.html#align_log_prob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.gale_church.align_log_prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log probability of the two sentences C{source_sents[i]}, C{target_sents[j]}
being aligned with a specific C{alignment}.</p>
<p>&#64;param i: The offset of the source sentence.
&#64;param j: The offset of the target sentence.
&#64;param source_sents: The list of source sentence lengths.
&#64;param target_sents: The list of target sentence lengths.
&#64;param alignment: The alignment type, a tuple of two integers.
&#64;param params: The sentence alignment parameters.</p>
<p>&#64;returns: The log probability of a specific alignment between the two sentences, given the parameters.</p>
</dd></dl>

<dl class="function">
<dt id="nltk.align.gale_church.align_texts">
<tt class="descclassname">nltk.align.gale_church.</tt><tt class="descname">align_texts</tt><big>(</big><em>source_blocks</em>, <em>target_blocks</em>, <em>params=&lt;class 'nltk.align.gale_church.LanguageIndependent'&gt;</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/gale_church.html#align_texts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.gale_church.align_texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the sentence alignment of two texts.</p>
<p>Texts can consist of several blocks. Block boundaries cannot be crossed by sentence 
alignment links.</p>
<p>Each block consists of a list that contains the lengths (in characters) of the sentences
in this block.</p>
<p>&#64;param source_blocks: The list of blocks in the source text.
&#64;param target_blocks: The list of blocks in the target text.
&#64;param params: the sentence alignment parameters.</p>
<p>&#64;returns: A list of sentence alignment lists</p>
</dd></dl>

<dl class="function">
<dt id="nltk.align.gale_church.erfcc">
<tt class="descclassname">nltk.align.gale_church.</tt><tt class="descname">erfcc</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/gale_church.html#erfcc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.gale_church.erfcc" title="Permalink to this definition">¶</a></dt>
<dd><p>Complementary error function.</p>
</dd></dl>

<dl class="function">
<dt id="nltk.align.gale_church.norm_cdf">
<tt class="descclassname">nltk.align.gale_church.</tt><tt class="descname">norm_cdf</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/gale_church.html#norm_cdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.gale_church.norm_cdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the area under the normal distribution from M{-∞..x}.</p>
</dd></dl>

<dl class="function">
<dt id="nltk.align.gale_church.norm_logsf">
<tt class="descclassname">nltk.align.gale_church.</tt><tt class="descname">norm_logsf</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/gale_church.html#norm_logsf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.gale_church.norm_logsf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="nltk.align.gale_church.parse_token_stream">
<tt class="descclassname">nltk.align.gale_church.</tt><tt class="descname">parse_token_stream</tt><big>(</big><em>stream</em>, <em>soft_delimiter</em>, <em>hard_delimiter</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/gale_church.html#parse_token_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.gale_church.parse_token_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a stream of tokens and splits it into sentences (using C{soft_delimiter} tokens) 
and blocks (using C{hard_delimiter} tokens) for use with the L{align_texts} function.</p>
</dd></dl>

<dl class="function">
<dt id="nltk.align.gale_church.split_at">
<tt class="descclassname">nltk.align.gale_church.</tt><tt class="descname">split_at</tt><big>(</big><em>it</em>, <em>split_value</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/gale_church.html#split_at"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.gale_church.split_at" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits an iterator C{it} at values of C{split_value}.</p>
<p>Each instance of C{split_value} is swallowed. The iterator produces
subiterators which need to be consumed fully before the next subiterator
can be used.</p>
</dd></dl>

<dl class="function">
<dt id="nltk.align.gale_church.trace">
<tt class="descclassname">nltk.align.gale_church.</tt><tt class="descname">trace</tt><big>(</big><em>backlinks</em>, <em>source</em>, <em>target</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/gale_church.html#trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.gale_church.trace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-nltk.align.gdfa">
<span id="nltk-align-gdfa-module"></span><h2>nltk.align.gdfa module<a class="headerlink" href="#module-nltk.align.gdfa" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nltk.align.gdfa.grow_diag_final_and">
<tt class="descclassname">nltk.align.gdfa.</tt><tt class="descname">grow_diag_final_and</tt><big>(</big><em>srclen</em>, <em>trglen</em>, <em>e2f</em>, <em>f2e</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/gdfa.html#grow_diag_final_and"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.gdfa.grow_diag_final_and" title="Permalink to this definition">¶</a></dt>
<dd><p>This module symmetrisatizes the source-to-target and target-to-source
word alignment output and produces, aka. GDFA algorithm (Koehn, 2005).</p>
<p>Step 1: Find the intersection of the bidirectional alignment.</p>
<dl class="docutils">
<dt>Step 2: Search for additional neighbor alignment points to be added, given</dt>
<dd>these criteria: (i) neighbor alignments points are not in the
intersection and (ii) neighbor alignments are in the union.</dd>
<dt>Step 3: Add all other alignment points thats not in the intersection, not in</dt>
<dd><blockquote class="first">
<div>the neighboring alignments that met the criteria but in the original
foward/backward alignment outputs.</div></blockquote>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">forw</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;0-0 2-1 9-2 21-3 10-4 7-5 11-6 9-7 12-8 1-9 3-10 &#39;</span>
<span class="gp">... </span>        <span class="s">&#39;4-11 17-12 17-13 25-14 13-15 24-16 11-17 28-18&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">back</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;0-0 1-9 2-9 3-10 4-11 5-12 6-6 7-5 8-6 9-7 10-4 &#39;</span>
<span class="gp">... </span>        <span class="s">&#39;11-6 12-8 13-12 15-12 17-13 18-13 19-12 20-13 &#39;</span>
<span class="gp">... </span>        <span class="s">&#39;21-3 22-12 23-14 24-17 25-15 26-17 27-18 28-18&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">srctext</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;この よう な ハロー 白色 わい 星 の Ｌ 関数 &quot;</span>
<span class="gp">... </span>           <span class="s">&quot;は Ｌ と 共 に 不連続 に 増加 する こと が &quot;</span>
<span class="gp">... </span>           <span class="s">&quot;期待 さ れる こと を 示し た 。&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trgtext</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;Therefore , we expect that the luminosity function &quot;</span>
<span class="gp">... </span>           <span class="s">&quot;of such halo white dwarfs increases discontinuously &quot;</span>
<span class="gp">... </span>           <span class="s">&quot;with the luminosity .&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">srclen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">srctext</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trglen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">trgtext</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gdfa</span> <span class="o">=</span> <span class="n">grow_diag_final_and</span><span class="p">(</span><span class="n">srclen</span><span class="p">,</span> <span class="n">trglen</span><span class="p">,</span> <span class="n">forw</span><span class="p">,</span> <span class="n">back</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gdfa</span> <span class="o">==</span> <span class="nb">set</span><span class="p">([(</span><span class="mi">28</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
<span class="gp">... </span>        <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="mi">26</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span> <span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span>
<span class="gp">... </span>        <span class="mi">13</span><span class="p">),</span> <span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
<span class="gp">... </span>        <span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">22</span><span class="p">,</span>
<span class="gp">... </span>        <span class="mi">12</span><span class="p">),</span> <span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span> <span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>        <span class="mi">12</span><span class="p">),</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">)])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd>
</dl>
<p>References:
Koehn, P., A. Axelrod, A. Birch, C. Callison, M. Osborne, and D. Talbot. 
2005. Edinburgh System Description for the 2005 IWSLT Speech 
Translation Evaluation. In MT Eval Workshop.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>srclen</strong> (<em>int</em>) &#8211; the number of tokens in the source language</li>
<li><strong>trglen</strong> (<em>int</em>) &#8211; the number of tokens in the target language</li>
<li><strong>e2f</strong> (<em>str</em>) &#8211; the forward word alignment outputs from source-to-target
language (in pharaoh output format)</li>
<li><strong>f2e</strong> (<em>str</em>) &#8211; the backward word alignment outputs from target-to-source
language (in pharaoh output format)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">set(tuple(int))</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the symmetrized alignment points from the GDFA algorithm</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-nltk.align.ibm1">
<span id="nltk-align-ibm1-module"></span><h2>nltk.align.ibm1 module<a class="headerlink" href="#module-nltk.align.ibm1" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nltk.align.ibm1.IBMModel1">
<em class="property">class </em><tt class="descclassname">nltk.align.ibm1.</tt><tt class="descname">IBMModel1</tt><big>(</big><em>align_sents</em>, <em>num_iter</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/ibm1.html#IBMModel1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm1.IBMModel1" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">builtins.object</span></tt></p>
<p>This class implements the algorithm of Expectation Maximization for 
the IBM Model 1.</p>
<dl class="docutils">
<dt>Step 1 - Collect the evidence of a English word being translated by a </dt>
<dd>foreign language word.</dd>
<dt>Step 2 - Estimate the probability of translation according to the </dt>
<dd>evidence from Step 1.</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bitexts</span> <span class="o">=</span> <span class="n">comtrans</span><span class="o">.</span><span class="n">aligned_sents</span><span class="p">()[:</span><span class="mi">100</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibm</span> <span class="o">=</span> <span class="n">IBMModel1</span><span class="p">(</span><span class="n">bitexts</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_sent</span> <span class="o">=</span> <span class="n">ibm</span><span class="o">.</span><span class="n">align</span><span class="p">(</span><span class="n">bitexts</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_sent</span><span class="o">.</span><span class="n">alignment</span>
<span class="go">Alignment([(0, 0), (1, 1), (2, 2), (3, 7), (4, 7), (5, 8)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&#39;{0:.3f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bitexts</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">precision</span><span class="p">(</span><span class="n">aligned_sent</span><span class="p">)))</span>
<span class="go">0.556</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&#39;{0:.3f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bitexts</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">recall</span><span class="p">(</span><span class="n">aligned_sent</span><span class="p">)))</span>
<span class="go">0.833</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&#39;{0:.3f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bitexts</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">alignment_error_rate</span><span class="p">(</span><span class="n">aligned_sent</span><span class="p">)))</span>
<span class="go">0.333</span>
</pre></div>
</div>
<dl class="method">
<dt id="nltk.align.ibm1.IBMModel1.align">
<tt class="descname">align</tt><big>(</big><em>align_sent</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/ibm1.html#IBMModel1.align"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm1.IBMModel1.align" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the alignment result for one sentence pair.</p>
</dd></dl>

<dl class="method">
<dt id="nltk.align.ibm1.IBMModel1.train">
<tt class="descname">train</tt><big>(</big><em>align_sents</em>, <em>num_iter</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/ibm1.html#IBMModel1.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm1.IBMModel1.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translation probability model trained by IBM model 1.</p>
<p>Arguments:
align_sents   &#8211; A list of instances of AlignedSent class, which</p>
<blockquote>
<div>contains sentence pairs.</div></blockquote>
<p>num_iter     &#8211; The number of iterations.</p>
<p>Returns:
t_ef         &#8211; A dictionary of translation probabilities.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-nltk.align.ibm2">
<span id="nltk-align-ibm2-module"></span><h2>nltk.align.ibm2 module<a class="headerlink" href="#module-nltk.align.ibm2" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nltk.align.ibm2.IBMModel2">
<em class="property">class </em><tt class="descclassname">nltk.align.ibm2.</tt><tt class="descname">IBMModel2</tt><big>(</big><em>align_sents</em>, <em>num_iter</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/ibm2.html#IBMModel2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm2.IBMModel2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">builtins.object</span></tt></p>
<p>This class implements the algorithm of Expectation Maximization for 
the IBM Model 2.</p>
<dl class="docutils">
<dt>Step 1 - Run a number of iterations of IBM Model 1 and get the initial</dt>
<dd>distribution of translation probability.</dd>
<dt>Step 2 - Collect the evidence of an English word being translated by a </dt>
<dd>foreign language word.</dd>
<dt>Step 3 - Estimate the probability of translation and alignment according </dt>
<dd>to the evidence from Step 2.</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bitexts</span> <span class="o">=</span> <span class="n">comtrans</span><span class="o">.</span><span class="n">aligned_sents</span><span class="p">()[:</span><span class="mi">100</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibm</span> <span class="o">=</span> <span class="n">IBMModel2</span><span class="p">(</span><span class="n">bitexts</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_sent</span> <span class="o">=</span> <span class="n">ibm</span><span class="o">.</span><span class="n">align</span><span class="p">(</span><span class="n">bitexts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_sent</span><span class="o">.</span><span class="n">words</span>
<span class="go">[&#39;Wiederaufnahme&#39;, &#39;der&#39;, &#39;Sitzungsperiode&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_sent</span><span class="o">.</span><span class="n">mots</span>
<span class="go">[&#39;Resumption&#39;, &#39;of&#39;, &#39;the&#39;, &#39;session&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_sent</span><span class="o">.</span><span class="n">alignment</span>
<span class="go">Alignment([(0, 0), (1, 2), (2, 3)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitexts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">precision</span><span class="p">(</span><span class="n">aligned_sent</span><span class="p">)</span>
<span class="go">0.75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitexts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">recall</span><span class="p">(</span><span class="n">aligned_sent</span><span class="p">)</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitexts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">alignment_error_rate</span><span class="p">(</span><span class="n">aligned_sent</span><span class="p">)</span>
<span class="go">0.1428571428571429</span>
</pre></div>
</div>
<dl class="method">
<dt id="nltk.align.ibm2.IBMModel2.align">
<tt class="descname">align</tt><big>(</big><em>align_sent</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/ibm2.html#IBMModel2.align"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm2.IBMModel2.align" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the alignment result for one sentence pair.</p>
</dd></dl>

<dl class="method">
<dt id="nltk.align.ibm2.IBMModel2.train">
<tt class="descname">train</tt><big>(</big><em>align_sents</em>, <em>num_iter</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/ibm2.html#IBMModel2.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm2.IBMModel2.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translation and alignment probability distributions
trained by the Expectation Maximization algorithm for IBM Model 2.</p>
<p>Arguments:
align_sents   &#8211; A list contains some sentence pairs.
num_iter     &#8211; The number of iterations.</p>
<p>Returns:
t_ef         &#8211; A distribution of translation probabilities.
align        &#8211; A distribution of alignment probabilities.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-nltk.align.ibm3">
<span id="nltk-align-ibm3-module"></span><h2>nltk.align.ibm3 module<a class="headerlink" href="#module-nltk.align.ibm3" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nltk.align.ibm3.HashableDict">
<em class="property">class </em><tt class="descclassname">nltk.align.ibm3.</tt><tt class="descname">HashableDict</tt><a class="reference internal" href="../_modules/nltk/align/ibm3.html#HashableDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm3.HashableDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">builtins.dict</span></tt></p>
<p>This class implements a hashable dict, which can be 
put into a set.</p>
</dd></dl>

<dl class="class">
<dt id="nltk.align.ibm3.IBMModel3">
<em class="property">class </em><tt class="descclassname">nltk.align.ibm3.</tt><tt class="descname">IBMModel3</tt><big>(</big><em>align_sents</em>, <em>num_iter</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/ibm3.html#IBMModel3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm3.IBMModel3" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">builtins.object</span></tt></p>
<p>This class implements the algorithm of Expectation Maximization for 
the IBM Model 3.</p>
<dl class="docutils">
<dt>Step 1 - Run a number of iterations of IBM Model 2 and get the initial</dt>
<dd>distribution of translation probability.</dd>
</dl>
<p>Step 2 - Sample the alignment spaces by using the hillclimb approach.</p>
<dl class="docutils">
<dt>Step 3 - Collect the evidence of translation probabilities, distortion, </dt>
<dd>the probability of null insertion, and fertility.</dd>
<dt>Step 4 - Estimate the new probabilities according to the evidence from </dt>
<dd>Step 3.</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">align_sents</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align_sents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AlignedSent</span><span class="p">([</span><span class="s">&#39;klein&#39;</span><span class="p">,</span> <span class="s">&#39;ist&#39;</span><span class="p">,</span> <span class="s">&#39;das&#39;</span><span class="p">,</span> <span class="s">&#39;Haus&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;house&#39;</span><span class="p">,</span> <span class="s">&#39;is&#39;</span><span class="p">,</span> <span class="s">&#39;small&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align_sents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AlignedSent</span><span class="p">([</span><span class="s">&#39;das&#39;</span><span class="p">,</span> <span class="s">&#39;Haus&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;house&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align_sents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AlignedSent</span><span class="p">([</span><span class="s">&#39;das&#39;</span><span class="p">,</span> <span class="s">&#39;Buch&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;book&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align_sents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AlignedSent</span><span class="p">([</span><span class="s">&#39;ein&#39;</span><span class="p">,</span> <span class="s">&#39;Buch&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;book&#39;</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ibm3</span> <span class="o">=</span> <span class="n">IBMModel3</span><span class="p">(</span><span class="n">align_sents</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&#39;{0:.1f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ibm3</span><span class="o">.</span><span class="n">probabilities</span><span class="p">[</span><span class="s">&#39;Buch&#39;</span><span class="p">][</span><span class="s">&#39;book&#39;</span><span class="p">]))</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&#39;{0:.1f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ibm3</span><span class="o">.</span><span class="n">probabilities</span><span class="p">[</span><span class="s">&#39;das&#39;</span><span class="p">][</span><span class="s">&#39;book&#39;</span><span class="p">]))</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&#39;{0:.1f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ibm3</span><span class="o">.</span><span class="n">probabilities</span><span class="p">[</span><span class="bp">None</span><span class="p">][</span><span class="s">&#39;book&#39;</span><span class="p">]))</span>
<span class="go">0.0</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_sent</span> <span class="o">=</span> <span class="n">ibm3</span><span class="o">.</span><span class="n">align</span><span class="p">(</span><span class="n">align_sents</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_sent</span><span class="o">.</span><span class="n">words</span>
<span class="go">[&#39;klein&#39;, &#39;ist&#39;, &#39;das&#39;, &#39;Haus&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_sent</span><span class="o">.</span><span class="n">mots</span>
<span class="go">[&#39;the&#39;, &#39;house&#39;, &#39;is&#39;, &#39;small&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_sent</span><span class="o">.</span><span class="n">alignment</span>
<span class="go">Alignment([(0, 2), (1, 3), (2, 0), (3, 1)])</span>
</pre></div>
</div>
<dl class="method">
<dt id="nltk.align.ibm3.IBMModel3.align">
<tt class="descname">align</tt><big>(</big><em>align_sent</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/ibm3.html#IBMModel3.align"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm3.IBMModel3.align" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the alignment result for one sentence pair.</p>
</dd></dl>

<dl class="method">
<dt id="nltk.align.ibm3.IBMModel3.hillclimb">
<tt class="descname">hillclimb</tt><big>(</big><em>a</em>, <em>j_pegged</em>, <em>es</em>, <em>fs</em>, <em>fert</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/ibm3.html#IBMModel3.hillclimb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm3.IBMModel3.hillclimb" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns the best alignment on local. It gets 
some neighboring alignments and finds out the alignment with 
highest probability in those alignment spaces. If the current
alignment recorded has the highest probability, then stop the
search loop. If not, then continue the search loop until it 
finds out the highest probability of alignment in local.</p>
</dd></dl>

<dl class="method">
<dt id="nltk.align.ibm3.IBMModel3.neighboring">
<tt class="descname">neighboring</tt><big>(</big><em>a</em>, <em>j_pegged</em>, <em>es</em>, <em>fs</em>, <em>fert</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/ibm3.html#IBMModel3.neighboring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm3.IBMModel3.neighboring" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns the neighboring alignments from
the given alignment by moving or swapping one distance.</p>
</dd></dl>

<dl class="method">
<dt id="nltk.align.ibm3.IBMModel3.probability">
<tt class="descname">probability</tt><big>(</big><em>a</em>, <em>es</em>, <em>fs</em>, <em>Fert</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/ibm3.html#IBMModel3.probability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm3.IBMModel3.probability" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns the probability given an alignment. 
The Fert variable is math syntax &#8216;Phi&#8217; in the fomula, which 
represents the fertility according to the current alignment,
which records how many output words are generated by each 
input word.</p>
</dd></dl>

<dl class="method">
<dt id="nltk.align.ibm3.IBMModel3.sample">
<tt class="descname">sample</tt><big>(</big><em>e</em>, <em>f</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/ibm3.html#IBMModel3.sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm3.IBMModel3.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns a sample from the entire alignment space.
First, it pegs one alignment point and finds out the best alignment
through the IBM model 2. Then, using the hillclimb approach, it 
finds out the best alignment on local and returns all its neighborings,
which are swapped or moved one distance from the best alignment.</p>
</dd></dl>

<dl class="method">
<dt id="nltk.align.ibm3.IBMModel3.train">
<tt class="descname">train</tt><big>(</big><em>align_sents</em>, <em>num_iter</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/ibm3.html#IBMModel3.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.ibm3.IBMModel3.train" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is the main process of training model, which
initialize all the probability distributions and executes 
a specific number of iterations.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-nltk.align.phrase_based">
<span id="nltk-align-phrase-based-module"></span><h2>nltk.align.phrase_based module<a class="headerlink" href="#module-nltk.align.phrase_based" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nltk.align.phrase_based.extract">
<tt class="descclassname">nltk.align.phrase_based.</tt><tt class="descname">extract</tt><big>(</big><em>f_start</em>, <em>f_end</em>, <em>e_start</em>, <em>e_end</em>, <em>alignment</em>, <em>e_aligned</em>, <em>f_aligned</em>, <em>srctext</em>, <em>trgtext</em>, <em>srclen</em>, <em>trglen</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/phrase_based.html#extract"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.phrase_based.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>This function checks for alignment point consistency and extracts 
phrases using the chunk of consistent phrases.</p>
<p>A phrase pair (e, f ) is consistent with an alignment A if and only if:</p>
<ol class="lowerroman">
<li><p class="first">No English words in the phrase pair are aligned to words outside it.</p>
<blockquote>
<div><p>∀e i ∈ e, (e i , f j ) ∈ A ⇒ f j ∈ f</p>
</div></blockquote>
</li>
<li><p class="first">No Foreign words in the phrase pair are aligned to words outside it.</p>
<blockquote>
<div><p>∀f j ∈ f , (e i , f j ) ∈ A ⇒ e i ∈ e</p>
</div></blockquote>
</li>
<li><p class="first">The phrase pair contains at least one alignment point.</p>
<blockquote>
<div><p>∃e i ∈ e  ̄ , f j ∈ f  ̄ s.t. (e i , f j ) ∈ A</p>
</div></blockquote>
</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>f_start</strong> (<em>int</em>) &#8211; Starting index of the possible foreign language phrases</li>
<li><strong>f_end</strong> (<em>int</em>) &#8211; Starting index of the possible foreign language phrases</li>
<li><strong>e_start</strong> (<em>int</em>) &#8211; Starting index of the possible source language phrases</li>
<li><strong>e_end</strong> (<em>int</em>) &#8211; Starting index of the possible source language phrases</li>
<li><strong>srctext</strong> (<em>list</em>) &#8211; The source language tokens, a list of string.</li>
<li><strong>trgtext</strong> (<em>list</em>) &#8211; The target language tokens, a list of string.</li>
<li><strong>srclen</strong> (<em>int</em>) &#8211; The number of tokens in the source language tokens.</li>
<li><strong>trglen</strong> (<em>int</em>) &#8211; The number of tokens in the target language tokens.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nltk.align.phrase_based.phrase_extraction">
<tt class="descclassname">nltk.align.phrase_based.</tt><tt class="descname">phrase_extraction</tt><big>(</big><em>srctext</em>, <em>trgtext</em>, <em>alignment</em><big>)</big><a class="reference internal" href="../_modules/nltk/align/phrase_based.html#phrase_extraction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nltk.align.phrase_based.phrase_extraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Phrase extraction algorithm extracts all consistent phrase pairs from 
a word-aligned sentence pair.</p>
<p>The idea is to loop over all possible source language (e) phrases and find 
the minimal foreign phrase (f) that matches each of them. Matching is done 
by identifying all alignment points for the source phrase and finding the 
shortest foreign phrase that includes all the foreign counterparts for the 
source words.</p>
<p>In short, a phrase alignment has to 
(a) contain all alignment points for all covered words
(b) contain at least one alignment point</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">srctext</span> <span class="o">=</span> <span class="s">&quot;michael assumes that he will stay in the house&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trgtext</span> <span class="o">=</span> <span class="s">&quot;michael geht davon aus , dass er im haus bleibt&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alignment</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span> 
<span class="gp">... </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phrases</span> <span class="o">=</span> <span class="n">phrase_extraction</span><span class="p">(</span><span class="n">srctext</span><span class="p">,</span> <span class="n">trgtext</span><span class="p">,</span> <span class="n">alignment</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">phrases</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">((0, 1), (0, 1), &#39;michael&#39;, &#39;michael&#39;)</span>
<span class="go">((0, 2), (0, 4), &#39;michael assumes&#39;, &#39;michael geht davon aus&#39;)</span>
<span class="go">((0, 2), (0, 4), &#39;michael assumes&#39;, &#39;michael geht davon aus ,&#39;)</span>
<span class="go">((0, 3), (0, 6), &#39;michael assumes that&#39;, &#39;michael geht davon aus , dass&#39;)</span>
<span class="go">((0, 4), (0, 7), &#39;michael assumes that he&#39;, &#39;michael geht davon aus , dass er&#39;)</span>
<span class="go">((0, 9), (0, 10), &#39;michael assumes that he will stay in the house&#39;, &#39;michael geht davon aus , dass er im haus bleibt&#39;)</span>
<span class="go">((1, 2), (1, 4), &#39;assumes&#39;, &#39;geht davon aus&#39;)</span>
<span class="go">((1, 2), (1, 4), &#39;assumes&#39;, &#39;geht davon aus ,&#39;)</span>
<span class="go">((1, 3), (1, 6), &#39;assumes that&#39;, &#39;geht davon aus , dass&#39;)</span>
<span class="go">((1, 4), (1, 7), &#39;assumes that he&#39;, &#39;geht davon aus , dass er&#39;)</span>
<span class="go">((1, 9), (1, 10), &#39;assumes that he will stay in the house&#39;, &#39;geht davon aus , dass er im haus bleibt&#39;)</span>
<span class="go">((2, 3), (5, 6), &#39;that&#39;, &#39;, dass&#39;)</span>
<span class="go">((2, 3), (5, 6), &#39;that&#39;, &#39;dass&#39;)</span>
<span class="go">((2, 4), (5, 7), &#39;that he&#39;, &#39;, dass er&#39;)</span>
<span class="go">((2, 4), (5, 7), &#39;that he&#39;, &#39;dass er&#39;)</span>
<span class="go">((2, 9), (5, 10), &#39;that he will stay in the house&#39;, &#39;, dass er im haus bleibt&#39;)</span>
<span class="go">((2, 9), (5, 10), &#39;that he will stay in the house&#39;, &#39;dass er im haus bleibt&#39;)</span>
<span class="go">((3, 4), (6, 7), &#39;he&#39;, &#39;er&#39;)</span>
<span class="go">((3, 9), (6, 10), &#39;he will stay in the house&#39;, &#39;er im haus bleibt&#39;)</span>
<span class="go">((4, 6), (9, 10), &#39;will stay&#39;, &#39;bleibt&#39;)</span>
<span class="go">((4, 9), (7, 10), &#39;will stay in the house&#39;, &#39;im haus bleibt&#39;)</span>
<span class="go">((6, 8), (7, 8), &#39;in the&#39;, &#39;im&#39;)</span>
<span class="go">((6, 9), (7, 9), &#39;in the house&#39;, &#39;im haus&#39;)</span>
<span class="go">((8, 9), (8, 9), &#39;house&#39;, &#39;haus&#39;)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>srctext</strong> (<em>str</em>) &#8211; The sentence string from the source language.</li>
<li><strong>trgtext</strong> (<em>str</em>) &#8211; The sentence string from the target language.</li>
<li><strong>alignment</strong> (<em>str</em>) &#8211; The word alignment outputs as list of tuples, where</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>the first elements of tuples are the source words&#8217; indices and
second elements are the target words&#8217; indices. This is also the output
format of nltk/align/ibm1.py</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list(tuple)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of tuples, each element in a list is a phrase and each</td>
</tr>
</tbody>
</table>
<p>phrase is a tuple made up of (i) its source location, (ii) its target 
location, (iii) the source phrase and (iii) the target phrase. The phrase
list of tuples represents all the possible phrases extracted from the 
word alignments.</p>
</dd></dl>

</div>
<div class="section" id="module-nltk.align.util">
<span id="nltk-align-util-module"></span><h2>nltk.align.util module<a class="headerlink" href="#module-nltk.align.util" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-nltk.align">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-nltk.align" title="Permalink to this headline">¶</a></h2>
<p>Experimental functionality for bitext alignment.
These interfaces are prone to change.</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">NLTK News</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Installing NLTK Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute to NLTK</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference internal" href="nltk.html">API</a></li>
<li class="toctree-l1"><a class="reference external" href="http://www.nltk.org/howto">HOWTO</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="../search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="../_sources/api/nltk.align.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2015, NLTK Project.
      Last updated on Mar 13, 2015.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>