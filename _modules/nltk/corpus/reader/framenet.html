<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>nltk.corpus.reader.framenet &mdash; NLTK 3.0 documentation</title>
    
    <link rel="stylesheet" href="../../../../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <link rel="top" title="NLTK 3.0 documentation" href="../../../../index.html" />
    <link rel="up" title="nltk.corpus.reader" href="../reader.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="../../../../index.html">NLTK 3.0 documentation</a></div>
        <div class="rel">
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for nltk.corpus.reader.framenet</h1><div class="highlight"><pre>
<span class="c"># Natural Language Toolkit: Framenet Corpus Reader</span>
<span class="c">#</span>
<span class="c"># Copyright (C) 2001-2015 NLTK Project</span>
<span class="c"># Authors: Chuck Wooters &lt;wooters@icsi.berkeley.edu&gt;,</span>
<span class="c">#          Nathan Schneider &lt;nschneid@cs.cmu.edu&gt;</span>
<span class="c"># URL: &lt;http://nltk.org/&gt;</span>
<span class="c"># For license information, see LICENSE.TXT</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span><span class="p">,</span> <span class="n">unicode_literals</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Corpus reader for the Framenet 1.5 Corpus.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">__docformat__</span> <span class="o">=</span> <span class="s">&#39;epytext en&#39;</span>

<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">textwrap</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span><span class="p">,</span> <span class="n">pformat</span>
<span class="kn">from</span> <span class="nn">nltk.internals</span> <span class="kn">import</span> <span class="n">ElementWrapper</span>
<span class="kn">from</span> <span class="nn">nltk.corpus.reader</span> <span class="kn">import</span> <span class="n">XMLCorpusReader</span><span class="p">,</span> <span class="n">XMLCorpusView</span>
<span class="kn">from</span> <span class="nn">nltk.compat</span> <span class="kn">import</span> <span class="n">text_type</span><span class="p">,</span> <span class="n">string_types</span><span class="p">,</span> <span class="n">python_2_unicode_compatible</span>
<span class="kn">from</span> <span class="nn">nltk.util</span> <span class="kn">import</span> <span class="n">AbstractLazySequence</span><span class="p">,</span> <span class="n">LazyMap</span>


<span class="k">def</span> <span class="nf">_pretty_longstring</span><span class="p">(</span><span class="n">defstr</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">wrap_at</span><span class="o">=</span><span class="mi">65</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function for pretty-printing a long string.</span>

<span class="sd">    :param defstr: The string to be printed.</span>
<span class="sd">    :type defstr: str</span>
<span class="sd">    :return: A nicely formated string representation of the long string.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">outstr</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">defstr</span><span class="p">,</span> <span class="n">wrap_at</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">):</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="n">prefix</span> <span class="o">+</span> <span class="n">line</span> <span class="o">+</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span>
    <span class="k">return</span> <span class="n">outstr</span>

<span class="k">def</span> <span class="nf">_pretty_any</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function for pretty-printing any AttrDict object.</span>

<span class="sd">    :param obj: The obj to be printed.</span>
<span class="sd">    :type obj: AttrDict</span>
<span class="sd">    :return: A nicely formated string representation of the AttrDict object.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">outstr</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">string_types</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">65</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[{0}]</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;{0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">_pretty_longstring</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">))</span>
            <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[{0}] {1}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">obj</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">outstr</span>

<span class="k">def</span> <span class="nf">_pretty_semtype</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function for pretty-printing a semantic type.</span>

<span class="sd">    :param st: The semantic type to be printed.</span>
<span class="sd">    :type st: AttrDict</span>
<span class="sd">    :return: A nicely formated string representation of the semantic type.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">semkeys</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">semkeys</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="s">&quot;&lt;None&gt;&quot;</span>

    <span class="n">outstr</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;semantic type ({0.ID}): {0.name}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;abbrev&#39;</span> <span class="ow">in</span> <span class="n">semkeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[abbrev] {0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">abbrev</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;definition&#39;</span> <span class="ow">in</span> <span class="n">semkeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[definition]</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="n">_pretty_longstring</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">definition</span><span class="p">,</span><span class="s">&#39;  &#39;</span><span class="p">)</span>
    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[rootType] {0}({1})</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">rootType</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">st</span><span class="o">.</span><span class="n">rootType</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">st</span><span class="o">.</span><span class="n">superType</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[superType] &lt;None&gt;</span><span class="se">\n</span><span class="s">&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[superType] {0}({1})</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">superType</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">st</span><span class="o">.</span><span class="n">superType</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span>
    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[subTypes] {0} subtypes</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">subTypes</span><span class="p">))</span>
    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;  &quot;</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;{0}({1})&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">st</span><span class="o">.</span><span class="n">subTypes</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">*</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">subTypes</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">outstr</span>

<span class="k">def</span> <span class="nf">_pretty_frame_relation_type</span><span class="p">(</span><span class="n">freltyp</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function for pretty-printing a frame relation type.</span>

<span class="sd">    :param freltyp: The frame relation type to be printed.</span>
<span class="sd">    :type freltyp: AttrDict</span>
<span class="sd">    :return: A nicely formated string representation of the frame relation type.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">outstr</span> <span class="o">=</span> <span class="s">&quot;&lt;frame relation type ({0.ID}): {0.superFrameName} -- {0.name} -&gt; {0.subFrameName}&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">freltyp</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">outstr</span>

<span class="k">def</span> <span class="nf">_pretty_frame_relation</span><span class="p">(</span><span class="n">frel</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function for pretty-printing a frame relation.</span>

<span class="sd">    :param frel: The frame relation to be printed.</span>
<span class="sd">    :type frel: AttrDict</span>
<span class="sd">    :return: A nicely formated string representation of the frame relation.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">outstr</span> <span class="o">=</span> <span class="s">&quot;&lt;{0.type.superFrameName}={0.superFrameName} -- {0.type.name} -&gt; {0.type.subFrameName}={0.subFrameName}&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">frel</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">outstr</span>

<span class="k">def</span> <span class="nf">_pretty_fe_relation</span><span class="p">(</span><span class="n">ferel</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function for pretty-printing an FE relation.</span>

<span class="sd">    :param ferel: The FE relation to be printed.</span>
<span class="sd">    :type ferel: AttrDict</span>
<span class="sd">    :return: A nicely formated string representation of the FE relation.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">outstr</span> <span class="o">=</span> <span class="s">&quot;&lt;{0.type.superFrameName}={0.frameRelation.superFrameName}.{0.superFEName} -- {0.type.name} -&gt; {0.type.subFrameName}={0.frameRelation.subFrameName}.{0.subFEName}&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ferel</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">outstr</span>

<span class="k">def</span> <span class="nf">_pretty_lu</span><span class="p">(</span><span class="n">lu</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function for pretty-printing a lexical unit.</span>

<span class="sd">    :param lu: The lu to be printed.</span>
<span class="sd">    :type lu: AttrDict</span>
<span class="sd">    :return: A nicely formated string representation of the lexical unit.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">lukeys</span> <span class="o">=</span> <span class="n">lu</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="n">outstr</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;lexical unit ({0.ID}): {0.name}</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lu</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;definition&#39;</span> <span class="ow">in</span> <span class="n">lukeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[definition]</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="n">_pretty_longstring</span><span class="p">(</span><span class="n">lu</span><span class="o">.</span><span class="n">definition</span><span class="p">,</span><span class="s">&#39;  &#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;frame&#39;</span> <span class="ow">in</span> <span class="n">lukeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">[frame] {0}({1})</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lu</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">lu</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;incorporatedFE&#39;</span> <span class="ow">in</span> <span class="n">lukeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">[incorporatedFE] {0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lu</span><span class="o">.</span><span class="n">incorporatedFE</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;POS&#39;</span> <span class="ow">in</span> <span class="n">lukeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">[POS] {0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lu</span><span class="o">.</span><span class="n">POS</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;status&#39;</span> <span class="ow">in</span> <span class="n">lukeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">[status] {0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lu</span><span class="o">.</span><span class="n">status</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;totalAnnotated&#39;</span> <span class="ow">in</span> <span class="n">lukeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">[totalAnnotated] {0} annotated examples</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lu</span><span class="o">.</span><span class="n">totalAnnotated</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;lexemes&#39;</span> <span class="ow">in</span> <span class="n">lukeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">[lexemes] {0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;{0}/{1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lex</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">lex</span><span class="o">.</span><span class="n">POS</span><span class="p">)</span> <span class="k">for</span> <span class="n">lex</span> <span class="ow">in</span> <span class="n">lu</span><span class="o">.</span><span class="n">lexemes</span><span class="p">))</span>
    <span class="k">if</span> <span class="s">&#39;semTypes&#39;</span> <span class="ow">in</span> <span class="n">lukeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">[semTypes] {0} semantic types</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lu</span><span class="o">.</span><span class="n">semTypes</span><span class="p">))</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;  &quot;</span><span class="o">*</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lu</span><span class="o">.</span><span class="n">semTypes</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;{0}({1})&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lu</span><span class="o">.</span><span class="n">semTypes</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">*</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lu</span><span class="o">.</span><span class="n">semTypes</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;subCorpus&#39;</span> <span class="ow">in</span> <span class="n">lukeys</span><span class="p">:</span>
        <span class="n">subc</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lu</span><span class="o">.</span><span class="n">subCorpus</span><span class="p">]</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">[subCorpus] {0} subcorpora</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lu</span><span class="o">.</span><span class="n">subCorpus</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">subc</span><span class="p">)),</span> <span class="mi">60</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">):</span>
            <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;  {0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">outstr</span>

<span class="k">def</span> <span class="nf">_pretty_fe</span><span class="p">(</span><span class="n">fe</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function for pretty-printing a frame element.</span>

<span class="sd">    :param fe: The frame element to be printed.</span>
<span class="sd">    :type fe: AttrDict</span>
<span class="sd">    :return: A nicely formated string representation of the frame element.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fekeys</span> <span class="o">=</span> <span class="n">fe</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="n">outstr</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;frame element ({0.ID}): {0.name}</span><span class="se">\n</span><span class="s">    of {1.name}({1.ID})</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fe</span><span class="p">,</span> <span class="n">fe</span><span class="o">.</span><span class="n">frame</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;definition&#39;</span> <span class="ow">in</span> <span class="n">fekeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[definition]</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="n">_pretty_longstring</span><span class="p">(</span><span class="n">fe</span><span class="o">.</span><span class="n">definition</span><span class="p">,</span><span class="s">&#39;  &#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;abbrev&#39;</span> <span class="ow">in</span> <span class="n">fekeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[abbrev] {0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fe</span><span class="o">.</span><span class="n">abbrev</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;coreType&#39;</span> <span class="ow">in</span> <span class="n">fekeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[coreType] {0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fe</span><span class="o">.</span><span class="n">coreType</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;requiresFE&#39;</span> <span class="ow">in</span> <span class="n">fekeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[requiresFE] &quot;</span>
        <span class="k">if</span> <span class="n">fe</span><span class="o">.</span><span class="n">requiresFE</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;&lt;None&gt;</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;{0}({1})</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fe</span><span class="o">.</span><span class="n">requiresFE</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">fe</span><span class="o">.</span><span class="n">requiresFE</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;excludesFE&#39;</span> <span class="ow">in</span> <span class="n">fekeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[excludesFE] &quot;</span>
        <span class="k">if</span> <span class="n">fe</span><span class="o">.</span><span class="n">excludesFE</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;&lt;None&gt;</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;{0}({1})</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fe</span><span class="o">.</span><span class="n">excludesFE</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">fe</span><span class="o">.</span><span class="n">excludesFE</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">&#39;semType&#39;</span> <span class="ow">in</span> <span class="n">fekeys</span><span class="p">:</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[semType] &quot;</span>
        <span class="k">if</span> <span class="n">fe</span><span class="o">.</span><span class="n">semType</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;&lt;None&gt;</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">  &quot;</span> <span class="o">+</span> <span class="s">&quot;{0}({1})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fe</span><span class="o">.</span><span class="n">semType</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">fe</span><span class="o">.</span><span class="n">semType</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span>

    <span class="k">return</span> <span class="n">outstr</span>

<span class="k">def</span> <span class="nf">_pretty_frame</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function for pretty-printing a frame.</span>

<span class="sd">    :param frame: The frame to be printed.</span>
<span class="sd">    :type frame: AttrDict</span>
<span class="sd">    :return: A nicely formated string representation of the frame.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">outstr</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;frame ({0.ID}): {0.name}</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[definition]</span><span class="se">\n</span><span class="s">&quot;</span>
    <span class="n">outstr</span> <span class="o">+=</span> <span class="n">_pretty_longstring</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">definition</span><span class="p">,</span> <span class="s">&#39;  &#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span>

    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;[semTypes] {0} semantic types</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">semTypes</span><span class="p">))</span>
    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;  &quot;</span><span class="o">*</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">semTypes</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&quot;{0}({1})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">frame</span><span class="o">.</span><span class="n">semTypes</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">*</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">semTypes</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">[frameRelations] {0} frame relations</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">frameRelations</span><span class="p">))</span>
    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&#39;  &#39;</span> <span class="o">+</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">  &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">frel</span><span class="p">)</span> <span class="k">for</span> <span class="n">frel</span> <span class="ow">in</span> <span class="n">frame</span><span class="o">.</span><span class="n">frameRelations</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span>

    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">[lexUnit] {0} lexical units</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">lexUnit</span><span class="p">))</span>
    <span class="n">lustrs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">luName</span><span class="p">,</span><span class="n">lu</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">lexUnit</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="n">tmpstr</span> <span class="o">=</span> <span class="s">&#39;{0} ({1})&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">luName</span><span class="p">,</span> <span class="n">lu</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span>
        <span class="n">lustrs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmpstr</span><span class="p">)</span>
    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;{0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">_pretty_longstring</span><span class="p">(</span><span class="s">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lustrs</span><span class="p">),</span><span class="n">prefix</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">))</span>

    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">[FE] {0} frame elements</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">FE</span><span class="p">))</span>
    <span class="n">fes</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">feName</span><span class="p">,</span><span class="n">fe</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">FE</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fes</span><span class="p">[</span><span class="n">fe</span><span class="o">.</span><span class="n">coreType</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;{0} ({1})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">feName</span><span class="p">,</span> <span class="n">fe</span><span class="o">.</span><span class="n">ID</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">fes</span><span class="p">[</span><span class="n">fe</span><span class="o">.</span><span class="n">coreType</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">fes</span><span class="p">[</span><span class="n">fe</span><span class="o">.</span><span class="n">coreType</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;{0} ({1})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">feName</span><span class="p">,</span> <span class="n">fe</span><span class="o">.</span><span class="n">ID</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">ct</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">fes</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">ct2</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;Core&#39;</span><span class="p">,</span><span class="s">&#39;Core-Unexpressed&#39;</span><span class="p">,</span><span class="s">&#39;Peripheral&#39;</span><span class="p">,</span><span class="s">&#39;Extra-Thematic&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">ct2</span><span class="p">)):</span>
        <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;{0:&gt;16}: {1}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ct</span><span class="p">,</span> <span class="s">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">fes</span><span class="p">[</span><span class="n">ct</span><span class="p">])))</span>

    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">[FEcoreSets] {0} frame element core sets</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">FEcoreSets</span><span class="p">))</span>
    <span class="n">outstr</span> <span class="o">+=</span> <span class="s">&quot;  &quot;</span> <span class="o">+</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">  &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">coreSet</span><span class="p">])</span> <span class="k">for</span> <span class="n">coreSet</span> <span class="ow">in</span> <span class="n">frame</span><span class="o">.</span><span class="n">FEcoreSets</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span>

    <span class="k">return</span> <span class="n">outstr</span>

<div class="viewcode-block" id="FramenetError"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetError">[docs]</a><span class="k">class</span> <span class="nc">FramenetError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;An exception class for framenet-related errors.&quot;&quot;&quot;</span>
</div>
<span class="nd">@python_2_unicode_compatible</span>
<div class="viewcode-block" id="AttrDict"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.AttrDict">[docs]</a><span class="k">class</span> <span class="nc">AttrDict</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;A class that wraps a dict and allows accessing the keys of the</span>
<span class="sd">    dict as if they were attributes. Taken from here:</span>
<span class="sd">       http://stackoverflow.com/a/14620633/8879</span>

<span class="sd">    &gt;&gt;&gt; foo = {&#39;a&#39;:1, &#39;b&#39;:2, &#39;c&#39;:3}</span>
<span class="sd">    &gt;&gt;&gt; bar = AttrDict(foo)</span>
<span class="sd">    &gt;&gt;&gt; pprint(dict(bar))</span>
<span class="sd">    {&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 3}</span>
<span class="sd">    &gt;&gt;&gt; bar.b</span>
<span class="sd">    2</span>
<span class="sd">    &gt;&gt;&gt; bar.d = 4</span>
<span class="sd">    &gt;&gt;&gt; pprint(dict(bar))</span>
<span class="sd">    {&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 3, &#39;d&#39;: 4}</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c">#self.__dict__ = self</span>

    <span class="k">def</span> <span class="nf">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span><span class="o">==</span><span class="s">&#39;_short_repr&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_short_repr</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">v</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__getitem__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">Future</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">v</span><span class="o">.</span><span class="n">_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="k">def</span> <span class="nf">_short_repr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="s">&#39;_type&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;relation&#39;</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__repr__</span><span class="p">()</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="s">&quot;&lt;{0} ID={1} name={2}&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">],</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;ID&#39;</span><span class="p">],</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">])</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>    <span class="c"># no ID--e.g., for _type=lusubcorpus</span>
                <span class="k">return</span> <span class="s">&quot;&lt;{0} name={1}&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">],</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__repr__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outstr</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="s">&#39;_type&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">=</span> <span class="n">_pretty_any</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;frame&#39;</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">=</span> <span class="n">_pretty_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;fe&#39;</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">=</span> <span class="n">_pretty_fe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;lu&#39;</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">=</span> <span class="n">_pretty_lu</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;semtype&#39;</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">=</span> <span class="n">_pretty_semtype</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;framerelationtype&#39;</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">=</span> <span class="n">_pretty_frame_relation_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;framerelation&#39;</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">=</span> <span class="n">_pretty_frame_relation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;ferelation&#39;</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">=</span> <span class="n">_pretty_fe_relation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">outstr</span> <span class="o">=</span> <span class="n">_pretty_any</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="c"># ensure result is unicode string prior to applying the</span>
        <span class="c"># @python_2_unicode_compatible decorator (because non-ASCII characters</span>
        <span class="c"># could in principle occur in the data and would trigger an encoding error when</span>
        <span class="c"># passed as arguments to str.format()).</span>
        <span class="c"># assert isinstance(outstr, unicode) # not in Python 3.2</span>
        <span class="k">return</span> <span class="n">outstr</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__str__</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Future"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.Future">[docs]</a><span class="k">class</span> <span class="nc">Future</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Wraps and acts as a proxy for a value to be loaded lazily (on demand).</span>
<span class="sd">    Adapted from https://gist.github.com/sergey-miryanov/2935416</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">loader</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param loader: when called with no arguments, returns the value to be stored</span>
<span class="sd">        :type loader: callable</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span> <span class="p">(</span><span class="n">Future</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_loader</span> <span class="o">=</span> <span class="n">loader</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_d</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">def</span> <span class="nf">_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_loader</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loader</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loader</span> <span class="o">=</span> <span class="bp">None</span> <span class="c"># the data is now cached</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_d</span>

    <span class="k">def</span> <span class="nf">__nonzero__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">())</span>
    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="p">()</span><span class="o">.</span><span class="n">__setitem__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="p">()</span><span class="o">.</span><span class="n">__getitem__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">()</span><span class="o">.</span><span class="n">__getattr__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">()</span><span class="o">.</span><span class="n">__str__</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">()</span><span class="o">.</span><span class="n">__repr__</span><span class="p">()</span>

</div>
<span class="nd">@python_2_unicode_compatible</span>
<div class="viewcode-block" id="PrettyDict"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.PrettyDict">[docs]</a><span class="k">class</span> <span class="nc">PrettyDict</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Displays an abbreviated repr of values where possible.</span>
<span class="sd">    Inherits from AttrDict, so a callable value will</span>
<span class="sd">    be lazily converted to an actual value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">_BREAK_LINES</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">&#39;breakLines&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">PrettyDict</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">dict</span><span class="o">.</span><span class="n">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;_BREAK_LINES&#39;</span><span class="p">,</span> <span class="n">_BREAK_LINES</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">kv</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">+</span><span class="s">&#39;: &#39;</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">kv</span> <span class="o">+=</span> <span class="n">v</span><span class="o">.</span><span class="n">_short_repr</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="n">kv</span> <span class="o">+=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="n">parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kv</span><span class="p">)</span>
        <span class="k">return</span> <span class="s">&#39;{&#39;</span><span class="o">+</span><span class="p">(</span><span class="s">&#39;,</span><span class="se">\n</span><span class="s"> &#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_BREAK_LINES</span> <span class="k">else</span> <span class="s">&#39;, &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span><span class="o">+</span><span class="s">&#39;}&#39;</span>
</div>
<span class="nd">@python_2_unicode_compatible</span>
<div class="viewcode-block" id="PrettyList"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.PrettyList">[docs]</a><span class="k">class</span> <span class="nc">PrettyList</span><span class="p">(</span><span class="nb">list</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Displays an abbreviated repr of only the first several elements, not the whole list.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># from nltk.util</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_MAX_REPR_SIZE</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">&#39;maxReprSize&#39;</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_BREAK_LINES</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">&#39;breakLines&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">PrettyList</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a string representation for this corpus view that is</span>
<span class="sd">        similar to a list&#39;s representation; but if it would be more</span>
<span class="sd">        than 60 characters long, it is truncated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pieces</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">length</span> <span class="o">=</span> <span class="mi">5</span>

        <span class="k">for</span> <span class="n">elt</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">pieces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elt</span><span class="o">.</span><span class="n">_short_repr</span><span class="p">())</span> <span class="c"># key difference from inherited version: call to _short_repr()</span>
            <span class="n">length</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pieces</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MAX_REPR_SIZE</span> <span class="ow">and</span> <span class="n">length</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MAX_REPR_SIZE</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">pieces</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span> <span class="s">&quot;[</span><span class="si">%s</span><span class="s">, ...]&quot;</span> <span class="o">%</span> <span class="n">text_type</span><span class="p">(</span><span class="s">&#39;,</span><span class="se">\n</span><span class="s"> &#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_BREAK_LINES</span> <span class="k">else</span> <span class="s">&#39;, &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pieces</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="s">&quot;[</span><span class="si">%s</span><span class="s">]&quot;</span> <span class="o">%</span> <span class="n">text_type</span><span class="p">(</span><span class="s">&#39;,</span><span class="se">\n</span><span class="s"> &#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_BREAK_LINES</span> <span class="k">else</span> <span class="s">&#39;, &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pieces</span><span class="p">)</span>
</div>
<span class="nd">@python_2_unicode_compatible</span>
<div class="viewcode-block" id="PrettyLazyMap"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.PrettyLazyMap">[docs]</a><span class="k">class</span> <span class="nc">PrettyLazyMap</span><span class="p">(</span><span class="n">LazyMap</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Displays an abbreviated repr of only the first several elements, not the whole list.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># from nltk.util</span>
    <span class="n">_MAX_REPR_SIZE</span> <span class="o">=</span> <span class="mi">60</span>
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a string representation for this corpus view that is</span>
<span class="sd">        similar to a list&#39;s representation; but if it would be more</span>
<span class="sd">        than 60 characters long, it is truncated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pieces</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">length</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="k">for</span> <span class="n">elt</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">pieces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elt</span><span class="o">.</span><span class="n">_short_repr</span><span class="p">())</span> <span class="c"># key difference from inherited version: call to _short_repr()</span>
            <span class="n">length</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pieces</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">length</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MAX_REPR_SIZE</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">pieces</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span> <span class="s">&quot;[</span><span class="si">%s</span><span class="s">, ...]&quot;</span> <span class="o">%</span> <span class="n">text_type</span><span class="p">(</span><span class="s">&#39;, &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pieces</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&quot;[</span><span class="si">%s</span><span class="s">]&quot;</span> <span class="o">%</span> <span class="n">text_type</span><span class="p">(</span><span class="s">&#39;, &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pieces</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader">[docs]</a><span class="k">class</span> <span class="nc">FramenetCorpusReader</span><span class="p">(</span><span class="n">XMLCorpusReader</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A corpus reader for the Framenet Corpus.</span>

<span class="sd">    &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">    &gt;&gt;&gt; fn.lu(3238).frame.lexUnit[&#39;glint.v&#39;] is fn.lu(3238)</span>
<span class="sd">    True</span>
<span class="sd">    &gt;&gt;&gt; fn.frame_by_name(&#39;Replacing&#39;) is fn.lus(&#39;replace.v&#39;)[0].frame</span>
<span class="sd">    True</span>
<span class="sd">    &gt;&gt;&gt; fn.lus(&#39;prejudice.n&#39;)[0].frame.frameRelations == fn.frame_relations(&#39;Partiality&#39;)</span>
<span class="sd">    True</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_bad_statuses</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Problem&#39;</span><span class="p">]</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    When loading LUs for a frame, those whose status is in this list will be ignored.</span>
<span class="sd">    Due to caching, if user code modifies this, it should do so before loading any data.</span>
<span class="sd">    &#39;Problem&#39; should always be listed for FrameNet 1.5, as these LUs are not included</span>
<span class="sd">    in the XML index.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">fileids</span><span class="p">):</span>
        <span class="n">XMLCorpusReader</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">fileids</span><span class="p">)</span>

        <span class="c"># framenet corpus sub dirs</span>
        <span class="c"># sub dir containing the xml files for frames</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_dir</span> <span class="o">=</span> <span class="s">&quot;frame&quot;</span>
        <span class="c"># sub dir containing the xml files for lexical units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lu_dir</span> <span class="o">=</span> <span class="s">&quot;lu&quot;</span>
        <span class="c"># sub dir containing the xml files for fulltext annotation files</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fulltext_dir</span> <span class="o">=</span> <span class="s">&quot;fulltext&quot;</span>

        <span class="c"># Indexes used for faster look-ups</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_idx</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_frames</span> <span class="o">=</span> <span class="p">{}</span>    <span class="c"># name -&gt; ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lu_idx</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fulltext_idx</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_semtypes</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_freltyp_idx</span> <span class="o">=</span> <span class="bp">None</span>    <span class="c"># frame relation types (Inheritance, Using, etc.)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_frel_idx</span> <span class="o">=</span> <span class="bp">None</span>   <span class="c"># frame-to-frame relation instances</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ferel_idx</span> <span class="o">=</span> <span class="bp">None</span>  <span class="c"># FE-to-FE relation instances</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_frel_f_idx</span> <span class="o">=</span> <span class="bp">None</span> <span class="c"># frame-to-frame relations associated with each frame</span>

    <span class="k">def</span> <span class="nf">_buildframeindex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># The total number of Frames in Framenet is fairly small (~1200) so</span>
        <span class="c"># this index should not be very large</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frel_idx</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildrelationindex</span><span class="p">()</span>  <span class="c"># always load frame relations before frames,</span>
            <span class="c"># otherwise weird ordering effects might result in incomplete information</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_idx</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">XMLCorpusView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s">&quot;frameIndex.xml&quot;</span><span class="p">),</span>
                               <span class="s">&#39;frameIndex/frame&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_elt</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_frame_idx</span><span class="p">[</span><span class="n">f</span><span class="p">[</span><span class="s">&#39;ID&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">f</span>

    <span class="k">def</span> <span class="nf">_buildcorpusindex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># The total number of fulltext annotated documents in Framenet</span>
        <span class="c"># is fairly small (~90) so this index should not be very large</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fulltext_idx</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">doclist</span> <span class="ow">in</span> <span class="n">XMLCorpusView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s">&quot;fulltextIndex.xml&quot;</span><span class="p">),</span>
                                     <span class="s">&#39;fulltextIndex/corpus&#39;</span><span class="p">,</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">_handle_fulltextindex_elt</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">doclist</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fulltext_idx</span><span class="p">[</span><span class="n">doc</span><span class="o">.</span><span class="n">ID</span><span class="p">]</span> <span class="o">=</span> <span class="n">doc</span>

    <span class="k">def</span> <span class="nf">_buildluindex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># The number of LUs in Framenet is about 13,000 so this index</span>
        <span class="c"># should not be very large</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lu_idx</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">lu</span> <span class="ow">in</span> <span class="n">XMLCorpusView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s">&quot;luIndex.xml&quot;</span><span class="p">),</span>
                                <span class="s">&#39;luIndex/lu&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_elt</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_lu_idx</span><span class="p">[</span><span class="n">lu</span><span class="p">[</span><span class="s">&#39;ID&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">lu</span> <span class="c"># populate with LU index entries. if any of these</span>
            <span class="c"># are looked up they will be replaced by full LU objects.</span>

    <span class="k">def</span> <span class="nf">_buildrelationindex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">#print(&#39;building relation index...&#39;, file=sys.stderr)</span>
        <span class="n">freltypes</span> <span class="o">=</span> <span class="n">PrettyList</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">XMLCorpusView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s">&quot;frRelation.xml&quot;</span><span class="p">),</span>
                                            <span class="s">&#39;frameRelations/frameRelationType&#39;</span><span class="p">,</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_framerelationtype_elt</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_freltyp_idx</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_frel_idx</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_frel_f_idx</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ferel_idx</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">freltyp</span> <span class="ow">in</span> <span class="n">freltypes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_freltyp_idx</span><span class="p">[</span><span class="n">freltyp</span><span class="o">.</span><span class="n">ID</span><span class="p">]</span> <span class="o">=</span> <span class="n">freltyp</span>
            <span class="k">for</span> <span class="n">frel</span> <span class="ow">in</span> <span class="n">freltyp</span><span class="o">.</span><span class="n">frameRelations</span><span class="p">:</span>
                <span class="n">supF</span> <span class="o">=</span> <span class="n">frel</span><span class="o">.</span><span class="n">superFrame</span> <span class="o">=</span> <span class="n">frel</span><span class="p">[</span><span class="n">freltyp</span><span class="o">.</span><span class="n">superFrameName</span><span class="p">]</span> <span class="o">=</span> <span class="n">Future</span><span class="p">((</span><span class="k">lambda</span> <span class="n">fID</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_by_id</span><span class="p">(</span><span class="n">fID</span><span class="p">))(</span><span class="n">frel</span><span class="o">.</span><span class="n">supID</span><span class="p">))</span>
                <span class="n">subF</span> <span class="o">=</span> <span class="n">frel</span><span class="o">.</span><span class="n">subFrame</span> <span class="o">=</span> <span class="n">frel</span><span class="p">[</span><span class="n">freltyp</span><span class="o">.</span><span class="n">subFrameName</span><span class="p">]</span> <span class="o">=</span> <span class="n">Future</span><span class="p">((</span><span class="k">lambda</span> <span class="n">fID</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_by_id</span><span class="p">(</span><span class="n">fID</span><span class="p">))(</span><span class="n">frel</span><span class="o">.</span><span class="n">subID</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_frel_idx</span><span class="p">[</span><span class="n">frel</span><span class="o">.</span><span class="n">ID</span><span class="p">]</span> <span class="o">=</span> <span class="n">frel</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_frel_f_idx</span><span class="p">[</span><span class="n">frel</span><span class="o">.</span><span class="n">supID</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">frel</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_frel_f_idx</span><span class="p">[</span><span class="n">frel</span><span class="o">.</span><span class="n">subID</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">frel</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">ferel</span> <span class="ow">in</span> <span class="n">frel</span><span class="o">.</span><span class="n">feRelations</span><span class="p">:</span>
                    <span class="n">ferel</span><span class="o">.</span><span class="n">superFrame</span> <span class="o">=</span> <span class="n">supF</span>
                    <span class="n">ferel</span><span class="o">.</span><span class="n">subFrame</span> <span class="o">=</span> <span class="n">subF</span>
                    <span class="n">ferel</span><span class="o">.</span><span class="n">superFE</span> <span class="o">=</span> <span class="n">Future</span><span class="p">((</span><span class="k">lambda</span> <span class="n">fer</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">fer</span><span class="o">.</span><span class="n">superFrame</span><span class="o">.</span><span class="n">FE</span><span class="p">[</span><span class="n">fer</span><span class="o">.</span><span class="n">superFEName</span><span class="p">])(</span><span class="n">ferel</span><span class="p">))</span>
                    <span class="n">ferel</span><span class="o">.</span><span class="n">subFE</span> <span class="o">=</span> <span class="n">Future</span><span class="p">((</span><span class="k">lambda</span> <span class="n">fer</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">fer</span><span class="o">.</span><span class="n">subFrame</span><span class="o">.</span><span class="n">FE</span><span class="p">[</span><span class="n">fer</span><span class="o">.</span><span class="n">subFEName</span><span class="p">])(</span><span class="n">ferel</span><span class="p">))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_ferel_idx</span><span class="p">[</span><span class="n">ferel</span><span class="o">.</span><span class="n">ID</span><span class="p">]</span> <span class="o">=</span> <span class="n">ferel</span>
        <span class="c">#print(&#39;...done building relation index&#39;, file=sys.stderr)</span>

<div class="viewcode-block" id="FramenetCorpusReader.readme"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.readme">[docs]</a>    <span class="k">def</span> <span class="nf">readme</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the contents of the corpus README.txt (or README) file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&quot;README.txt&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&quot;README&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.buildindexes"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.buildindexes">[docs]</a>    <span class="k">def</span> <span class="nf">buildindexes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Build the internal indexes to make look-ups faster.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># Frames</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buildframeindex</span><span class="p">()</span>
        <span class="c"># LUs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buildluindex</span><span class="p">()</span>
        <span class="c"># Fulltext annotation corpora index</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buildcorpusindex</span><span class="p">()</span>
        <span class="c"># frame and FE relations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buildrelationindex</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.annotated_document"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.annotated_document">[docs]</a>    <span class="k">def</span> <span class="nf">annotated_document</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn_docid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the annotated document whose id number is</span>
<span class="sd">        ``fn_docid``. This id number can be obtained by calling the</span>
<span class="sd">        Documents() function.</span>

<span class="sd">        The dict that is returned from this function will contain the</span>
<span class="sd">        following keys:</span>

<span class="sd">        - &#39;_type&#39;      : &#39;fulltextannotation&#39;</span>
<span class="sd">        - &#39;sentence&#39;   : a list of sentences in the document</span>
<span class="sd">           - Each item in the list is a dict containing the following keys:</span>
<span class="sd">              - &#39;ID&#39;    : the ID number of the sentence</span>
<span class="sd">              - &#39;_type&#39; : &#39;sentence&#39;</span>
<span class="sd">              - &#39;text&#39;  : the text of the sentence</span>
<span class="sd">              - &#39;paragNo&#39; : the paragraph number</span>
<span class="sd">              - &#39;sentNo&#39;  : the sentence number</span>
<span class="sd">              - &#39;docID&#39;   : the document ID number</span>
<span class="sd">              - &#39;corpID&#39;  : the corpus ID number</span>
<span class="sd">              - &#39;aPos&#39;    : the annotation position</span>
<span class="sd">              - &#39;annotationSet&#39; : a list of annotation layers for the sentence</span>
<span class="sd">                 - Each item in the list is a dict containing the following keys:</span>
<span class="sd">                    - &#39;ID&#39;       : the ID number of the annotation set</span>
<span class="sd">                    - &#39;_type&#39;    : &#39;annotationset&#39;</span>
<span class="sd">                    - &#39;status&#39;   : either &#39;MANUAL&#39; or &#39;UNANN&#39;</span>
<span class="sd">                    - &#39;luName&#39;   : (only if status is &#39;MANUAL&#39;)</span>
<span class="sd">                    - &#39;luID&#39;     : (only if status is &#39;MANUAL&#39;)</span>
<span class="sd">                    - &#39;frameID&#39;  : (only if status is &#39;MANUAL&#39;)</span>
<span class="sd">                    - &#39;frameName&#39;: (only if status is &#39;MANUAL&#39;)</span>
<span class="sd">                    - &#39;layer&#39; : a list of labels for the layer</span>
<span class="sd">                       - Each item in the layer is a dict containing the</span>
<span class="sd">                         following keys:</span>
<span class="sd">                          - &#39;_type&#39;: &#39;layer&#39;</span>
<span class="sd">                          - &#39;rank&#39;</span>
<span class="sd">                          - &#39;name&#39;</span>
<span class="sd">                          - &#39;label&#39; : a list of labels in the layer</span>
<span class="sd">                             - Each item is a dict containing the following keys:</span>
<span class="sd">                                - &#39;start&#39;</span>
<span class="sd">                                - &#39;end&#39;</span>
<span class="sd">                                - &#39;name&#39;</span>
<span class="sd">                                - &#39;feID&#39; (optional)</span>

<span class="sd">        :param fn_docid: The Framenet id number of the document</span>
<span class="sd">        :type fn_docid: int</span>
<span class="sd">        :return: Information about the annotated document</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">xmlfname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fulltext_idx</span><span class="p">[</span><span class="n">fn_docid</span><span class="p">]</span><span class="o">.</span><span class="n">filename</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>  <span class="c"># happens when self._fulltext_idx == None</span>
            <span class="c"># build the index</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildcorpusindex</span><span class="p">()</span>
            <span class="n">xmlfname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fulltext_idx</span><span class="p">[</span><span class="n">fn_docid</span><span class="p">]</span><span class="o">.</span><span class="n">filename</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>  <span class="c"># probably means that fn_docid was not in the index</span>
            <span class="k">raise</span> <span class="n">FramenetError</span><span class="p">(</span><span class="s">&quot;Unknown document id: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fn_docid</span><span class="p">))</span>

        <span class="c"># construct the path name for the xml file containing the document info</span>
        <span class="n">locpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="s">&quot;{0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fulltext_dir</span><span class="p">,</span> <span class="n">xmlfname</span><span class="p">)</span>

        <span class="c"># Grab the top-level xml element containing the fulltext annotation</span>
        <span class="n">elt</span> <span class="o">=</span> <span class="n">XMLCorpusView</span><span class="p">(</span><span class="n">locpath</span><span class="p">,</span> <span class="s">&#39;fullTextAnnotation&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_fulltextannotation_elt</span><span class="p">(</span><span class="n">elt</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.frame_by_id"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.frame_by_id">[docs]</a>    <span class="k">def</span> <span class="nf">frame_by_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn_fid</span><span class="p">,</span> <span class="n">ignorekeys</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the details for the specified Frame using the frame&#39;s id</span>
<span class="sd">        number.</span>

<span class="sd">        Usage examples:</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; f = fn.frame_by_id(256)</span>
<span class="sd">        &gt;&gt;&gt; f.ID</span>
<span class="sd">        256</span>
<span class="sd">        &gt;&gt;&gt; f.name</span>
<span class="sd">        &#39;Medical_specialties&#39;</span>
<span class="sd">        &gt;&gt;&gt; f.definition</span>
<span class="sd">        &quot;This frame includes words that name ...&quot;</span>

<span class="sd">        :param fn_fid: The Framenet id number of the frame</span>
<span class="sd">        :type fn_fid: int</span>
<span class="sd">        :param ignorekeys: The keys to ignore. These keys will not be</span>
<span class="sd">            included in the output. (optional)</span>
<span class="sd">        :type ignorekeys: list(str)</span>
<span class="sd">        :return: Information about a frame</span>
<span class="sd">        :rtype: dict</span>

<span class="sd">        Also see the ``frame()`` function for details about what is</span>
<span class="sd">        contained in the dict that is returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c"># get the name of the frame with this id number</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fentry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frame_idx</span><span class="p">[</span><span class="n">fn_fid</span><span class="p">]</span>
            <span class="k">if</span> <span class="s">&#39;_type&#39;</span> <span class="ow">in</span> <span class="n">fentry</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">fentry</span>   <span class="c"># full frame object is cached</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">fentry</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildframeindex</span><span class="p">()</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frame_idx</span><span class="p">[</span><span class="n">fn_fid</span><span class="p">][</span><span class="s">&#39;name&#39;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">FramenetError</span><span class="p">(</span><span class="s">&#39;Unknown frame id: {0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fn_fid</span><span class="p">))</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_by_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ignorekeys</span><span class="p">,</span> <span class="n">check_cache</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.frame_by_name"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.frame_by_name">[docs]</a>    <span class="k">def</span> <span class="nf">frame_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn_fname</span><span class="p">,</span> <span class="n">ignorekeys</span><span class="o">=</span><span class="p">[],</span> <span class="n">check_cache</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the details for the specified Frame using the frame&#39;s name.</span>

<span class="sd">        Usage examples:</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; f = fn.frame_by_name(&#39;Medical_specialties&#39;)</span>
<span class="sd">        &gt;&gt;&gt; f.ID</span>
<span class="sd">        256</span>
<span class="sd">        &gt;&gt;&gt; f.name</span>
<span class="sd">        &#39;Medical_specialties&#39;</span>
<span class="sd">        &gt;&gt;&gt; f.definition</span>
<span class="sd">        &quot;This frame includes words that name ...&quot;</span>

<span class="sd">        :param fn_fname: The name of the frame</span>
<span class="sd">        :type fn_fname: str</span>
<span class="sd">        :param ignorekeys: The keys to ignore. These keys will not be</span>
<span class="sd">            included in the output. (optional)</span>
<span class="sd">        :type ignorekeys: list(str)</span>
<span class="sd">        :return: Information about a frame</span>
<span class="sd">        :rtype: dict</span>

<span class="sd">        Also see the ``frame()`` function for details about what is</span>
<span class="sd">        contained in the dict that is returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">check_cache</span> <span class="ow">and</span> <span class="n">fn_fname</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_frames</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frame_idx</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_cached_frames</span><span class="p">[</span><span class="n">fn_fname</span><span class="p">]]</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frame_idx</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildframeindex</span><span class="p">()</span>

        <span class="c"># construct the path name for the xml file containing the Frame info</span>
        <span class="n">locpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="s">&quot;{0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frame_dir</span><span class="p">,</span> <span class="n">fn_fname</span> <span class="o">+</span> <span class="s">&quot;.xml&quot;</span><span class="p">)</span>
        <span class="c">#print(locpath, file=sys.stderr)</span>
        <span class="c"># Grab the xml for the frame</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">elt</span> <span class="o">=</span> <span class="n">XMLCorpusView</span><span class="p">(</span><span class="n">locpath</span><span class="p">,</span> <span class="s">&#39;frame&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">FramenetError</span><span class="p">(</span><span class="s">&#39;Unknown frame: {0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fn_fname</span><span class="p">))</span>

        <span class="n">fentry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_frame_elt</span><span class="p">(</span><span class="n">elt</span><span class="p">,</span> <span class="n">ignorekeys</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">fentry</span>

        <span class="c"># INFERENCE RULE: propagate lexical semtypes from the frame to all its LUs</span>
        <span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="n">fentry</span><span class="o">.</span><span class="n">semTypes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">st</span><span class="o">.</span><span class="n">rootType</span><span class="o">.</span><span class="n">name</span><span class="o">==</span><span class="s">&#39;Lexical_type&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">lu</span> <span class="ow">in</span> <span class="n">fentry</span><span class="o">.</span><span class="n">lexUnit</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">st</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">lu</span><span class="o">.</span><span class="n">semTypes</span><span class="p">:</span>
                        <span class="n">lu</span><span class="o">.</span><span class="n">semTypes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_idx</span><span class="p">[</span><span class="n">fentry</span><span class="o">.</span><span class="n">ID</span><span class="p">]</span> <span class="o">=</span> <span class="n">fentry</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_frames</span><span class="p">[</span><span class="n">fentry</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">fentry</span><span class="o">.</span><span class="n">ID</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        # now set up callables to resolve the LU pointers lazily.</span>
<span class="sd">        # (could also do this here--caching avoids infinite recursion.)</span>
<span class="sd">        for luName,luinfo in fentry.lexUnit.items():</span>
<span class="sd">            fentry.lexUnit[luName] = (lambda luID: Future(lambda: self.lu(luID)))(luinfo.ID)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">fentry</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.frame"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.frame">[docs]</a>    <span class="k">def</span> <span class="nf">frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn_fid_or_fname</span><span class="p">,</span> <span class="n">ignorekeys</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the details for the specified Frame using the frame&#39;s name</span>
<span class="sd">        or id number.</span>

<span class="sd">        Usage examples:</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; f = fn.frame(256)</span>
<span class="sd">        &gt;&gt;&gt; f.name</span>
<span class="sd">        &#39;Medical_specialties&#39;</span>
<span class="sd">        &gt;&gt;&gt; f = fn.frame(&#39;Medical_specialties&#39;)</span>
<span class="sd">        &gt;&gt;&gt; f.ID</span>
<span class="sd">        256</span>
<span class="sd">        &gt;&gt;&gt; # ensure non-ASCII character in definition doesn&#39;t trigger an encoding error:</span>
<span class="sd">        &gt;&gt;&gt; fn.frame(&#39;Imposing_obligation&#39;)</span>
<span class="sd">        frame (1494): Imposing_obligation...</span>

<span class="sd">        The dict that is returned from this function will contain the</span>
<span class="sd">        following information about the Frame:</span>

<span class="sd">        - &#39;name&#39;       : the name of the Frame (e.g. &#39;Birth&#39;, &#39;Apply_heat&#39;, etc.)</span>
<span class="sd">        - &#39;definition&#39; : textual definition of the Frame</span>
<span class="sd">        - &#39;ID&#39;         : the internal ID number of the Frame</span>
<span class="sd">        - &#39;semTypes&#39;   : a list of semantic types for this frame</span>
<span class="sd">           - Each item in the list is a dict containing the following keys:</span>
<span class="sd">              - &#39;name&#39; : can be used with the semtype() function</span>
<span class="sd">              - &#39;ID&#39;   : can be used with the semtype() function</span>

<span class="sd">        - &#39;lexUnit&#39;    : a dict containing all of the LUs for this frame.</span>
<span class="sd">                         The keys in this dict are the names of the LUs and</span>
<span class="sd">                         the value for each key is itself a dict containing</span>
<span class="sd">                         info about the LU (see the lu() function for more info.)</span>

<span class="sd">        - &#39;FE&#39; : a dict containing the Frame Elements that are part of this frame</span>
<span class="sd">                 The keys in this dict are the names of the FEs (e.g. &#39;Body_system&#39;)</span>
<span class="sd">                 and the values are dicts containing the following keys</span>
<span class="sd">              - &#39;definition&#39; : The definition of the FE</span>
<span class="sd">              - &#39;name&#39;       : The name of the FE e.g. &#39;Body_system&#39;</span>
<span class="sd">              - &#39;ID&#39;         : The id number</span>
<span class="sd">              - &#39;_type&#39;      : &#39;fe&#39;</span>
<span class="sd">              - &#39;abbrev&#39;     : Abbreviation e.g. &#39;bod&#39;</span>
<span class="sd">              - &#39;coreType&#39;   : one of &quot;Core&quot;, &quot;Peripheral&quot;, or &quot;Extra-Thematic&quot;</span>
<span class="sd">              - &#39;semType&#39;    : if not None, a dict with the following two keys:</span>
<span class="sd">                 - &#39;name&#39; : name of the semantic type. can be used with</span>
<span class="sd">                            the semtype() function</span>
<span class="sd">                 - &#39;ID&#39;   : id number of the semantic type. can be used with</span>
<span class="sd">                            the semtype() function</span>
<span class="sd">              - &#39;requiresFE&#39; : if not None, a dict with the following two keys:</span>
<span class="sd">                 - &#39;name&#39; : the name of another FE in this frame</span>
<span class="sd">                 - &#39;ID&#39;   : the id of the other FE in this frame</span>
<span class="sd">              - &#39;excludesFE&#39; : if not None, a dict with the following two keys:</span>
<span class="sd">                 - &#39;name&#39; : the name of another FE in this frame</span>
<span class="sd">                 - &#39;ID&#39;   : the id of the other FE in this frame</span>

<span class="sd">        - &#39;frameRelation&#39;      : a list of objects describing frame relations</span>
<span class="sd">        - &#39;FEcoreSets&#39;  : a list of Frame Element core sets for this frame</span>
<span class="sd">           - Each item in the list is a list of FE objects</span>

<span class="sd">        :param fn_fid_or_fname: The Framenet name or id number of the frame</span>
<span class="sd">        :type fn_fid_or_fname: int or str</span>
<span class="sd">        :param ignorekeys: The keys to ignore. These keys will not be</span>
<span class="sd">            included in the output. (optional)</span>
<span class="sd">        :type ignorekeys: list(str)</span>
<span class="sd">        :return: Information about a frame</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c"># get the frame info by name or id number</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fn_fid_or_fname</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>
            <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_by_name</span><span class="p">(</span><span class="n">fn_fid_or_fname</span><span class="p">,</span> <span class="n">ignorekeys</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_by_id</span><span class="p">(</span><span class="n">fn_fid_or_fname</span><span class="p">,</span> <span class="n">ignorekeys</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">f</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.frames_by_lemma"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.frames_by_lemma">[docs]</a>    <span class="k">def</span> <span class="nf">frames_by_lemma</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pat</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of all frames that contain LUs in which the</span>
<span class="sd">        ``name`` attribute of the LU matchs the given regular expression</span>
<span class="sd">        ``pat``. Note that LU names are composed of &quot;lemma.POS&quot;, where</span>
<span class="sd">        the &quot;lemma&quot; part can be made up of either a single lexeme</span>
<span class="sd">        (e.g. &#39;run&#39;) or multiple lexemes (e.g. &#39;a little&#39;).</span>

<span class="sd">        Note: if you are going to be doing a lot of this type of</span>
<span class="sd">        searching, you&#39;d want to build an index that maps from lemmas to</span>
<span class="sd">        frames because each time frames_by_lemma() is called, it has to</span>
<span class="sd">        search through ALL of the frame XML files in the db.</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; fn.frames_by_lemma(r&#39;(?i)a little&#39;)</span>
<span class="sd">        [&lt;frame ID=189 name=Quantity&gt;, &lt;frame ID=2001 name=Degree&gt;]</span>

<span class="sd">        :return: A list of frame objects.</span>
<span class="sd">        :rtype: list(AttrDict)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PrettyList</span><span class="p">(</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">()</span> <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pat</span><span class="p">,</span> <span class="n">luName</span><span class="p">)</span> <span class="k">for</span> <span class="n">luName</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">lexUnit</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.lu_basic"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.lu_basic">[docs]</a>    <span class="k">def</span> <span class="nf">lu_basic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn_luid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns basic information about the LU whose id is</span>
<span class="sd">        ``fn_luid``. This is basically just a wrapper around the</span>
<span class="sd">        ``lu()`` function with &quot;subCorpus&quot; info excluded.</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; PrettyDict(fn.lu_basic(256), breakLines=True)</span>
<span class="sd">        {&#39;ID&#39;: 256,</span>
<span class="sd">         &#39;POS&#39;: &#39;V&#39;,</span>
<span class="sd">         &#39;_type&#39;: &#39;lu&#39;,</span>
<span class="sd">         &#39;definition&#39;: &#39;COD: be aware of beforehand; predict.&#39;,</span>
<span class="sd">         &#39;frame&#39;: &lt;frame ID=26 name=Expectation&gt;,</span>
<span class="sd">         &#39;lemmaID&#39;: 15082,</span>
<span class="sd">         &#39;lexemes&#39;: [{&#39;POS&#39;: &#39;V&#39;, &#39;breakBefore&#39;: &#39;false&#39;, &#39;headword&#39;: &#39;false&#39;, &#39;name&#39;: &#39;foresee&#39;, &#39;order&#39;: 1}],</span>
<span class="sd">         &#39;name&#39;: &#39;foresee.v&#39;,</span>
<span class="sd">         &#39;semTypes&#39;: [],</span>
<span class="sd">         &#39;sentenceCount&#39;: {&#39;annotated&#39;: 44, &#39;total&#39;: 227},</span>
<span class="sd">         &#39;status&#39;: &#39;FN1_Sent&#39;}</span>

<span class="sd">        :param fn_luid: The id number of the desired LU</span>
<span class="sd">        :type fn_luid: int</span>
<span class="sd">        :return: Basic information about the lexical unit</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lu</span><span class="p">(</span><span class="n">fn_luid</span><span class="p">,</span> <span class="n">ignorekeys</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;subCorpus&#39;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.lu"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.lu">[docs]</a>    <span class="k">def</span> <span class="nf">lu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn_luid</span><span class="p">,</span> <span class="n">ignorekeys</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get information about a specific Lexical Unit using the id number</span>
<span class="sd">        ``fn_luid``. This function reads the LU information from the xml</span>
<span class="sd">        file on disk each time it is called. You may want to cache this</span>
<span class="sd">        info if you plan to call this function with the same id number</span>
<span class="sd">        multiple times.</span>

<span class="sd">        Usage examples:</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; fn.lu(256).name</span>
<span class="sd">        &#39;foresee.v&#39;</span>
<span class="sd">        &gt;&gt;&gt; fn.lu(256).definition</span>
<span class="sd">        &#39;COD: be aware of beforehand; predict.&#39;</span>
<span class="sd">        &gt;&gt;&gt; fn.lu(256).frame.name</span>
<span class="sd">        &#39;Expectation&#39;</span>
<span class="sd">        &gt;&gt;&gt; pprint(list(map(PrettyDict, fn.lu(256).lexemes)))</span>
<span class="sd">        [{&#39;POS&#39;: &#39;V&#39;, &#39;breakBefore&#39;: &#39;false&#39;, &#39;headword&#39;: &#39;false&#39;, &#39;name&#39;: &#39;foresee&#39;, &#39;order&#39;: 1}]</span>

<span class="sd">        The dict that is returned from this function will contain most of the</span>
<span class="sd">        following information about the LU. Note that some LUs do not contain</span>
<span class="sd">        all of these pieces of information - particularly &#39;totalAnnotated&#39; and</span>
<span class="sd">        &#39;incorporatedFE&#39; may be missing in some LUs:</span>

<span class="sd">        - &#39;name&#39;       : the name of the LU (e.g. &#39;merger.n&#39;)</span>
<span class="sd">        - &#39;definition&#39; : textual definition of the LU</span>
<span class="sd">        - &#39;ID&#39;         : the internal ID number of the LU</span>
<span class="sd">        - &#39;_type&#39;      : &#39;lu&#39;</span>
<span class="sd">        - &#39;status&#39;     : e.g. &#39;Created&#39;</span>
<span class="sd">        - &#39;frame&#39;      : Frame that this LU belongs to</span>
<span class="sd">        - &#39;POS&#39;        : the part of speech of this LU (e.g. &#39;N&#39;)</span>
<span class="sd">        - &#39;totalAnnotated&#39; : total number of examples annotated with this LU</span>
<span class="sd">        - &#39;incorporatedFE&#39; : FE that incorporates this LU (e.g. &#39;Ailment&#39;)</span>
<span class="sd">        - &#39;sentenceCount&#39;  : a dict with the following two keys:</span>
<span class="sd">                 - &#39;annotated&#39;: number of sentences annotated with this LU</span>
<span class="sd">                 - &#39;total&#39;    : total number of sentences with this LU</span>

<span class="sd">        - &#39;lexemes&#39;  : a list of dicts describing the lemma of this LU.</span>
<span class="sd">           Each dict in the list contains these keys:</span>
<span class="sd">           - &#39;POS&#39;     : part of speech e.g. &#39;N&#39;</span>
<span class="sd">           - &#39;name&#39;    : either single-lexeme e.g. &#39;merger&#39; or</span>
<span class="sd">                         multi-lexeme e.g. &#39;a little&#39;</span>
<span class="sd">           - &#39;order&#39;: the order of the lexeme in the lemma (starting from 1)</span>
<span class="sd">           - &#39;headword&#39;: a boolean (&#39;true&#39; or &#39;false&#39;)</span>
<span class="sd">           - &#39;breakBefore&#39;: Can this lexeme be separated from the previous lexeme?</span>
<span class="sd">                Consider: &quot;take over.v&quot; as in:</span>
<span class="sd">                         Germany took over the Netherlands in 2 days.</span>
<span class="sd">                         Germany took the Netherlands over in 2 days.</span>
<span class="sd">                In this case, &#39;breakBefore&#39; would be &quot;true&quot; for the lexeme</span>
<span class="sd">                &quot;over&quot;. Contrast this with &quot;take after.v&quot; as in:</span>
<span class="sd">                         Mary takes after her grandmother.</span>
<span class="sd">                        *Mary takes her grandmother after.</span>
<span class="sd">                In this case, &#39;breakBefore&#39; would be &quot;false&quot; for the lexeme &quot;after&quot;</span>

<span class="sd">        - &#39;lemmaID&#39;    : Can be used to connect lemmas in different LUs</span>
<span class="sd">        - &#39;semTypes&#39;   : a list of semantic type objects for this LU</span>
<span class="sd">        - &#39;subCorpus&#39;  : a list of subcorpora</span>
<span class="sd">           - Each item in the list is a dict containing the following keys:</span>
<span class="sd">              - &#39;name&#39; :</span>
<span class="sd">              - &#39;sentence&#39; : a list of sentences in the subcorpus</span>
<span class="sd">                 - each item in the list is a dict with the following keys:</span>
<span class="sd">                    - &#39;ID&#39;:</span>
<span class="sd">                    - &#39;sentNo&#39;:</span>
<span class="sd">                    - &#39;text&#39;: the text of the sentence</span>
<span class="sd">                    - &#39;aPos&#39;:</span>
<span class="sd">                    - &#39;annotationSet&#39;: a list of annotation sets</span>
<span class="sd">                       - each item in the list is a dict with the following keys:</span>
<span class="sd">                          - &#39;ID&#39;:</span>
<span class="sd">                          - &#39;status&#39;:</span>
<span class="sd">                          - &#39;layer&#39;: a list of layers</span>
<span class="sd">                             - each layer is a dict containing the following keys:</span>
<span class="sd">                                - &#39;name&#39;: layer name (e.g. &#39;BNC&#39;)</span>
<span class="sd">                                - &#39;rank&#39;:</span>
<span class="sd">                                - &#39;label&#39;: a list of labels for the layer</span>
<span class="sd">                                   - each label is a dict containing the following keys:</span>
<span class="sd">                                      - &#39;start&#39;: start pos of label in sentence &#39;text&#39; (0-based)</span>
<span class="sd">                                      - &#39;end&#39;: end pos of label in sentence &#39;text&#39; (0-based)</span>
<span class="sd">                                      - &#39;name&#39;: name of label (e.g. &#39;NN1&#39;)</span>

<span class="sd">        Under the hood, this implementation looks up the lexical unit information</span>
<span class="sd">        in the *frame* definition file. That file does not contain</span>
<span class="sd">        corpus annotations, so the LU files will be accessed on demand if those are</span>
<span class="sd">        needed. In principle, valence patterns could be loaded here too,</span>
<span class="sd">        though these are not currently supported.</span>

<span class="sd">        :param fn_luid: The id number of the lexical unit</span>
<span class="sd">        :type fn_luid: int</span>
<span class="sd">        :param ignorekeys: The keys to ignore. These keys will not be</span>
<span class="sd">            included in the output. (optional)</span>
<span class="sd">        :type ignorekeys: list(str)</span>
<span class="sd">        :return: All information about the lexical unit</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># look for this LU in cache</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lu_idx</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildluindex</span><span class="p">()</span>
        <span class="n">luinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lu_idx</span><span class="p">[</span><span class="n">fn_luid</span><span class="p">]</span>
        <span class="k">if</span> <span class="s">&#39;_type&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">luinfo</span><span class="p">:</span>
            <span class="c"># we only have an index entry for the LU. loading the frame will replace this.</span>
            <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_by_id</span><span class="p">(</span><span class="n">luinfo</span><span class="o">.</span><span class="n">frameID</span><span class="p">)</span>
            <span class="n">luinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lu_idx</span><span class="p">[</span><span class="n">fn_luid</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">ignorekeys</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">AttrDict</span><span class="p">(</span><span class="nb">dict</span><span class="p">((</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">luinfo</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignorekeys</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">luinfo</span>
</div>
    <span class="k">def</span> <span class="nf">_lu_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lu</span><span class="p">,</span> <span class="n">ignorekeys</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Augment the LU information that was loaded from the frame file</span>
<span class="sd">        with additional information from the LU file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fn_luid</span> <span class="o">=</span> <span class="n">lu</span><span class="o">.</span><span class="n">ID</span>

        <span class="n">fname</span> <span class="o">=</span> <span class="s">&quot;lu{0}.xml&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fn_luid</span><span class="p">)</span>
        <span class="n">locpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&quot;{0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lu_dir</span><span class="p">,</span> <span class="n">fname</span><span class="p">)</span>
        <span class="c">#print(locpath, file=sys.stderr)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lu_idx</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildluindex</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">elt</span> <span class="o">=</span> <span class="n">XMLCorpusView</span><span class="p">(</span><span class="n">locpath</span><span class="p">,</span> <span class="s">&#39;lexUnit&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">FramenetError</span><span class="p">(</span><span class="s">&#39;Unknown LU id: {0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fn_luid</span><span class="p">))</span>

        <span class="n">lu2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_lexunit_elt</span><span class="p">(</span><span class="n">elt</span><span class="p">,</span> <span class="n">ignorekeys</span><span class="p">)</span>
        <span class="n">lu</span><span class="o">.</span><span class="n">subCorpus</span> <span class="o">=</span> <span class="n">lu2</span><span class="o">.</span><span class="n">subCorpus</span>

        <span class="k">return</span> <span class="n">lu</span><span class="o">.</span><span class="n">subCorpus</span>

    <span class="k">def</span> <span class="nf">_loadsemtypes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create the semantic types index.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_semtypes</span> <span class="o">=</span> <span class="n">AttrDict</span><span class="p">()</span>
        <span class="n">semtypeXML</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">XMLCorpusView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s">&quot;semTypes.xml&quot;</span><span class="p">),</span>
                                             <span class="s">&#39;semTypes/semType&#39;</span><span class="p">,</span>
                                             <span class="bp">self</span><span class="o">.</span><span class="n">_handle_semtype_elt</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="n">semtypeXML</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">st</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">st</span><span class="p">[</span><span class="s">&#39;abbrev&#39;</span><span class="p">]</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">st</span><span class="p">[</span><span class="s">&#39;ID&#39;</span><span class="p">]</span>
            <span class="c"># Both name and abbrev should be able to retrieve the</span>
            <span class="c"># ID. The ID will retrieve the semantic type dict itself.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_semtypes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_semtypes</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_semtypes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">st</span>
        <span class="c"># now that all individual semtype XML is loaded, we can link them together</span>
        <span class="n">roots</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">semtypes</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">st</span><span class="o">.</span><span class="n">superType</span><span class="p">:</span>
                <span class="n">st</span><span class="o">.</span><span class="n">superType</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">semtype</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">superType</span><span class="o">.</span><span class="n">supID</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">superType</span><span class="o">.</span><span class="n">subTypes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">st</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">roots</span><span class="p">:</span> <span class="n">roots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">rootType</span> <span class="o">=</span> <span class="n">st</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">roots</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">queue</span>
        <span class="k">while</span> <span class="n">queue</span><span class="p">:</span>
            <span class="n">st</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">st</span><span class="o">.</span><span class="n">subTypes</span><span class="p">:</span>
                <span class="n">child</span><span class="o">.</span><span class="n">rootType</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">rootType</span>
                <span class="n">queue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
        <span class="c">#self.propagate_semtypes()  # apply inferencing over FE relations</span>

<div class="viewcode-block" id="FramenetCorpusReader.propagate_semtypes"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.propagate_semtypes">[docs]</a>    <span class="k">def</span> <span class="nf">propagate_semtypes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Apply inference rules to distribute semtypes over relations between FEs.</span>
<span class="sd">        For FrameNet 1.5, this results in 1011 semtypes being propagated.</span>
<span class="sd">        (Not done by default because it requires loading all frame files,</span>
<span class="sd">        which takes several seconds. If this needed to be fast, it could be rewritten</span>
<span class="sd">        to traverse the neighboring relations on demand for each FE semtype.)</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; sum(1 for f in fn.frames() for fe in f.FE.values() if fe.semType)</span>
<span class="sd">        4241</span>
<span class="sd">        &gt;&gt;&gt; fn.propagate_semtypes()</span>
<span class="sd">        &gt;&gt;&gt; sum(1 for f in fn.frames() for fe in f.FE.values() if fe.semType)</span>
<span class="sd">        5252</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_semtypes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loadsemtypes</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ferel_idx</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildrelationindex</span><span class="p">()</span>
        <span class="n">changed</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">nPropagations</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">changed</span><span class="p">:</span>
            <span class="c"># make a pass and see if anything needs to be propagated</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">changed</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="k">for</span> <span class="n">ferel</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fe_relations</span><span class="p">():</span>
                <span class="n">superST</span> <span class="o">=</span> <span class="n">ferel</span><span class="o">.</span><span class="n">superFE</span><span class="o">.</span><span class="n">semType</span>
                <span class="n">subST</span> <span class="o">=</span> <span class="n">ferel</span><span class="o">.</span><span class="n">subFE</span><span class="o">.</span><span class="n">semType</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">superST</span> <span class="ow">and</span> <span class="n">superST</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">subST</span><span class="p">:</span>
                        <span class="c"># propagate downward</span>
                        <span class="k">assert</span> <span class="n">subST</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">semtype_inherits</span><span class="p">(</span><span class="n">subST</span><span class="p">,</span> <span class="n">superST</span><span class="p">),(</span><span class="n">superST</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">ferel</span><span class="p">,</span><span class="n">subST</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">subST</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                            <span class="n">ferel</span><span class="o">.</span><span class="n">subFE</span><span class="o">.</span><span class="n">semType</span> <span class="o">=</span> <span class="n">subST</span> <span class="o">=</span> <span class="n">superST</span>
                            <span class="n">changed</span> <span class="o">=</span> <span class="bp">True</span>
                            <span class="n">nPropagations</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">ferel</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;Perspective_on&#39;</span><span class="p">,</span> <span class="s">&#39;Subframe&#39;</span><span class="p">,</span> <span class="s">&#39;Precedes&#39;</span><span class="p">]</span> <span class="ow">and</span> <span class="n">subST</span> \
                        <span class="ow">and</span> <span class="n">subST</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">superST</span><span class="p">:</span>
                        <span class="c"># propagate upward</span>
                        <span class="k">assert</span> <span class="n">superST</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">,(</span><span class="n">superST</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">ferel</span><span class="p">,</span><span class="n">subST</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                        <span class="n">ferel</span><span class="o">.</span><span class="n">superFE</span><span class="o">.</span><span class="n">semType</span> <span class="o">=</span> <span class="n">superST</span> <span class="o">=</span> <span class="n">subST</span>
                        <span class="n">changed</span> <span class="o">=</span> <span class="bp">True</span>
                        <span class="n">nPropagations</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">except</span> <span class="ne">AssertionError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                    <span class="c"># bug in the data! ignore</span>
                    <span class="c">#print(ex, file=sys.stderr)</span>
                    <span class="k">continue</span>
            <span class="c">#print(i, nPropagations, file=sys.stderr)</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.semtype"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.semtype">[docs]</a>    <span class="k">def</span> <span class="nf">semtype</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; fn.semtype(233).name</span>
<span class="sd">        &#39;Temperature&#39;</span>
<span class="sd">        &gt;&gt;&gt; fn.semtype(233).abbrev</span>
<span class="sd">        &#39;Temp&#39;</span>
<span class="sd">        &gt;&gt;&gt; fn.semtype(&#39;Temperature&#39;).ID</span>
<span class="sd">        233</span>

<span class="sd">        :param key: The name, abbreviation, or id number of the semantic type</span>
<span class="sd">        :type key: string or int</span>
<span class="sd">        :return: Information about a semantic type</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">stid</span> <span class="o">=</span> <span class="n">key</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">stid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_semtypes</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_loadsemtypes</span><span class="p">()</span>
                <span class="n">stid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_semtypes</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">st</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_semtypes</span><span class="p">[</span><span class="n">stid</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loadsemtypes</span><span class="p">()</span>
            <span class="n">st</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_semtypes</span><span class="p">[</span><span class="n">stid</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">st</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.semtype_inherits"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.semtype_inherits">[docs]</a>    <span class="k">def</span> <span class="nf">semtype_inherits</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">st</span><span class="p">,</span> <span class="n">superST</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">st</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">semtype</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">superST</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">superST</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">semtype</span><span class="p">(</span><span class="n">superST</span><span class="p">)</span>
        <span class="n">par</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">superType</span>
        <span class="k">while</span> <span class="n">par</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">par</span> <span class="ow">is</span> <span class="n">superST</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
            <span class="n">par</span> <span class="o">=</span> <span class="n">par</span><span class="o">.</span><span class="n">superType</span>
        <span class="k">return</span> <span class="bp">False</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.frames"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.frames">[docs]</a>    <span class="k">def</span> <span class="nf">frames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Obtain details for a specific frame.</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; len(fn.frames())</span>
<span class="sd">        1019</span>
<span class="sd">        &gt;&gt;&gt; PrettyList(fn.frames(r&#39;(?i)medical&#39;), maxReprSize=0, breakLines=True)</span>
<span class="sd">        [&lt;frame ID=256 name=Medical_specialties&gt;,</span>
<span class="sd">         &lt;frame ID=257 name=Medical_instruments&gt;,</span>
<span class="sd">         &lt;frame ID=255 name=Medical_professionals&gt;,</span>
<span class="sd">         &lt;frame ID=239 name=Medical_conditions&gt;]</span>

<span class="sd">        A brief intro to Frames (excerpted from &quot;FrameNet II: Extended</span>
<span class="sd">        Theory and Practice&quot; by Ruppenhofer et. al., 2010):</span>

<span class="sd">        A Frame is a script-like conceptual structure that describes a</span>
<span class="sd">        particular type of situation, object, or event along with the</span>
<span class="sd">        participants and props that are needed for that Frame. For</span>
<span class="sd">        example, the &quot;Apply_heat&quot; frame describes a common situation</span>
<span class="sd">        involving a Cook, some Food, and a Heating_Instrument, and is</span>
<span class="sd">        evoked by words such as bake, blanch, boil, broil, brown,</span>
<span class="sd">        simmer, steam, etc.</span>

<span class="sd">        We call the roles of a Frame &quot;frame elements&quot; (FEs) and the</span>
<span class="sd">        frame-evoking words are called &quot;lexical units&quot; (LUs).</span>

<span class="sd">        FrameNet includes relations between Frames. Several types of</span>
<span class="sd">        relations are defined, of which the most important are:</span>

<span class="sd">           - Inheritance: An IS-A relation. The child frame is a subtype</span>
<span class="sd">             of the parent frame, and each FE in the parent is bound to</span>
<span class="sd">             a corresponding FE in the child. An example is the</span>
<span class="sd">             &quot;Revenge&quot; frame which inherits from the</span>
<span class="sd">             &quot;Rewards_and_punishments&quot; frame.</span>

<span class="sd">           - Using: The child frame presupposes the parent frame as</span>
<span class="sd">             background, e.g the &quot;Speed&quot; frame &quot;uses&quot; (or presupposes)</span>
<span class="sd">             the &quot;Motion&quot; frame; however, not all parent FEs need to be</span>
<span class="sd">             bound to child FEs.</span>

<span class="sd">           - Subframe: The child frame is a subevent of a complex event</span>
<span class="sd">             represented by the parent, e.g. the &quot;Criminal_process&quot; frame</span>
<span class="sd">             has subframes of &quot;Arrest&quot;, &quot;Arraignment&quot;, &quot;Trial&quot;, and</span>
<span class="sd">             &quot;Sentencing&quot;.</span>

<span class="sd">           - Perspective_on: The child frame provides a particular</span>
<span class="sd">             perspective on an un-perspectivized parent frame. A pair of</span>
<span class="sd">             examples consists of the &quot;Hiring&quot; and &quot;Get_a_job&quot; frames,</span>
<span class="sd">             which perspectivize the &quot;Employment_start&quot; frame from the</span>
<span class="sd">             Employer&#39;s and the Employee&#39;s point of view, respectively.</span>

<span class="sd">        :param name: A regular expression pattern used to match against</span>
<span class="sd">            Frame names. If &#39;name&#39; is None, then a list of all</span>
<span class="sd">            Framenet Frames will be returned.</span>
<span class="sd">        :type name: str</span>
<span class="sd">        :return: A list of matching Frames (or all Frames).</span>
<span class="sd">        :rtype: list(AttrDict)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fIDs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_idx</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildframeindex</span><span class="p">()</span>
            <span class="n">fIDs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_idx</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PrettyList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="n">fID</span><span class="p">)</span> <span class="k">for</span> <span class="n">fID</span><span class="p">,</span><span class="n">finfo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_ids_and_names</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PrettyLazyMap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">fIDs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.frame_ids_and_names"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.frame_ids_and_names">[docs]</a>    <span class="k">def</span> <span class="nf">frame_ids_and_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Uses the frame index, which is much faster than looking up each frame definition</span>
<span class="sd">        if only the names and IDs are needed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frame_idx</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildframeindex</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">((</span><span class="n">fID</span><span class="p">,</span> <span class="n">finfo</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">fID</span><span class="p">,</span><span class="n">finfo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frame_idx</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">finfo</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.fes"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.fes">[docs]</a>    <span class="k">def</span> <span class="nf">fes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Lists frame element objects. If &#39;name&#39; is provided, this is treated as </span>
<span class="sd">        a case-insensitive regular expression to filter by frame name. </span>
<span class="sd">        (Case-insensitivity is because casing of frame element names is not always </span>
<span class="sd">        consistent across frames.)</span>
<span class="sd">        </span>
<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; fn.fes(&#39;Noise_maker&#39;)</span>
<span class="sd">        [&lt;fe ID=6043 name=Noise_maker&gt;]</span>
<span class="sd">        &gt;&gt;&gt; sorted([(fe.frame.name,fe.name) for fe in fn.fes(&#39;sound&#39;)])</span>
<span class="sd">        [(&#39;Cause_to_make_noise&#39;, &#39;Sound_maker&#39;), (&#39;Make_noise&#39;, &#39;Sound&#39;), </span>
<span class="sd">         (&#39;Make_noise&#39;, &#39;Sound_source&#39;), (&#39;Sound_movement&#39;, &#39;Location_of_sound_source&#39;), </span>
<span class="sd">         (&#39;Sound_movement&#39;, &#39;Sound&#39;), (&#39;Sound_movement&#39;, &#39;Sound_source&#39;), </span>
<span class="sd">         (&#39;Sounds&#39;, &#39;Component_sound&#39;), (&#39;Sounds&#39;, &#39;Location_of_sound_source&#39;), </span>
<span class="sd">         (&#39;Sounds&#39;, &#39;Sound_source&#39;), (&#39;Vocalizations&#39;, &#39;Location_of_sound_source&#39;), </span>
<span class="sd">         (&#39;Vocalizations&#39;, &#39;Sound_source&#39;)]</span>
<span class="sd">        &gt;&gt;&gt; sorted(set(fe.name for fe in fn.fes(&#39;^sound&#39;)))</span>
<span class="sd">        [&#39;Sound&#39;, &#39;Sound_maker&#39;, &#39;Sound_source&#39;]</span>
<span class="sd">        &gt;&gt;&gt; len(fn.fes(&#39;^sound$&#39;))</span>
<span class="sd">        2</span>
<span class="sd">        </span>
<span class="sd">        :param name: A regular expression pattern used to match against</span>
<span class="sd">            frame element names. If &#39;name&#39; is None, then a list of all</span>
<span class="sd">            frame elements will be returned.</span>
<span class="sd">        :type name: str</span>
<span class="sd">        :return: A list of matching frame elements</span>
<span class="sd">        :rtype: list(AttrDict)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">PrettyList</span><span class="p">(</span><span class="n">fe</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">()</span> <span class="k">for</span> <span class="n">fename</span><span class="p">,</span><span class="n">fe</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">FE</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">fename</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.lus"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.lus">[docs]</a>    <span class="k">def</span> <span class="nf">lus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Obtain details for a specific lexical unit.</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; len(fn.lus())</span>
<span class="sd">        11829</span>
<span class="sd">        &gt;&gt;&gt; PrettyList(fn.lus(r&#39;(?i)a little&#39;), maxReprSize=0, breakLines=True)</span>
<span class="sd">        [&lt;lu ID=14744 name=a little bit.adv&gt;,</span>
<span class="sd">         &lt;lu ID=14733 name=a little.n&gt;,</span>
<span class="sd">         &lt;lu ID=14743 name=a little.adv&gt;]</span>

<span class="sd">        A brief intro to Lexical Units (excerpted from &quot;FrameNet II:</span>
<span class="sd">        Extended Theory and Practice&quot; by Ruppenhofer et. al., 2010):</span>

<span class="sd">        A lexical unit (LU) is a pairing of a word with a meaning. For</span>
<span class="sd">        example, the &quot;Apply_heat&quot; Frame describes a common situation</span>
<span class="sd">        involving a Cook, some Food, and a Heating Instrument, and is</span>
<span class="sd">        _evoked_ by words such as bake, blanch, boil, broil, brown,</span>
<span class="sd">        simmer, steam, etc. These frame-evoking words are the LUs in the</span>
<span class="sd">        Apply_heat frame. Each sense of a polysemous word is a different</span>
<span class="sd">        LU.</span>

<span class="sd">        We have used the word &quot;word&quot; in talking about LUs. The reality</span>
<span class="sd">        is actually rather complex. When we say that the word &quot;bake&quot; is</span>
<span class="sd">        polysemous, we mean that the lemma &quot;bake.v&quot; (which has the</span>
<span class="sd">        word-forms &quot;bake&quot;, &quot;bakes&quot;, &quot;baked&quot;, and &quot;baking&quot;) is linked to</span>
<span class="sd">        three different frames:</span>

<span class="sd">           - Apply_heat: &quot;Michelle baked the potatoes for 45 minutes.&quot;</span>

<span class="sd">           - Cooking_creation: &quot;Michelle baked her mother a cake for her birthday.&quot;</span>

<span class="sd">           - Absorb_heat: &quot;The potatoes have to bake for more than 30 minutes.&quot;</span>

<span class="sd">        These constitute three different LUs, with different</span>
<span class="sd">        definitions.</span>

<span class="sd">        Multiword expressions such as &quot;given name&quot; and hyphenated words</span>
<span class="sd">        like &quot;shut-eye&quot; can also be LUs. Idiomatic phrases such as</span>
<span class="sd">        &quot;middle of nowhere&quot; and &quot;give the slip (to)&quot; are also defined as</span>
<span class="sd">        LUs in the appropriate frames (&quot;Isolated_places&quot; and &quot;Evading&quot;,</span>
<span class="sd">        respectively), and their internal structure is not analyzed.</span>

<span class="sd">        Framenet provides multiple annotated examples of each sense of a</span>
<span class="sd">        word (i.e. each LU).  Moreover, the set of examples</span>
<span class="sd">        (approximately 20 per LU) illustrates all of the combinatorial</span>
<span class="sd">        possibilities of the lexical unit.</span>

<span class="sd">        Each LU is linked to a Frame, and hence to the other words which</span>
<span class="sd">        evoke that Frame. This makes the FrameNet database similar to a</span>
<span class="sd">        thesaurus, grouping together semantically similar words.</span>

<span class="sd">        In the simplest case, frame-evoking words are verbs such as</span>
<span class="sd">        &quot;fried&quot; in:</span>

<span class="sd">           &quot;Matilde fried the catfish in a heavy iron skillet.&quot;</span>

<span class="sd">        Sometimes event nouns may evoke a Frame. For example,</span>
<span class="sd">        &quot;reduction&quot; evokes &quot;Cause_change_of_scalar_position&quot; in:</span>

<span class="sd">           &quot;...the reduction of debt levels to $665 million from $2.6 billion.&quot;</span>

<span class="sd">        Adjectives may also evoke a Frame. For example, &quot;asleep&quot; may</span>
<span class="sd">        evoke the &quot;Sleep&quot; frame as in:</span>

<span class="sd">           &quot;They were asleep for hours.&quot;</span>

<span class="sd">        Many common nouns, such as artifacts like &quot;hat&quot; or &quot;tower&quot;,</span>
<span class="sd">        typically serve as dependents rather than clearly evoking their</span>
<span class="sd">        own frames.</span>

<span class="sd">        :param name: A regular expression pattern used to search the LU</span>
<span class="sd">            names. Note that LU names take the form of a dotted</span>
<span class="sd">            string (e.g. &quot;run.v&quot; or &quot;a little.adv&quot;) in which a</span>
<span class="sd">            lemma preceeds the &quot;.&quot; and a POS follows the</span>
<span class="sd">            dot. The lemma may be composed of a single lexeme</span>
<span class="sd">            (e.g. &quot;run&quot;) or of multiple lexemes (e.g. &quot;a</span>
<span class="sd">            little&quot;). If &#39;name&#39; is not given, then all LUs will</span>
<span class="sd">            be returned.</span>

<span class="sd">            The valid POSes are:</span>

<span class="sd">                   v    - verb</span>
<span class="sd">                   n    - noun</span>
<span class="sd">                   a    - adjective</span>
<span class="sd">                   adv  - adverb</span>
<span class="sd">                   prep - preposition</span>
<span class="sd">                   num  - numbers</span>
<span class="sd">                   intj - interjection</span>
<span class="sd">                   art  - article</span>
<span class="sd">                   c    - conjunction</span>
<span class="sd">                   scon - subordinating conjunction</span>

<span class="sd">        :type name: str</span>
<span class="sd">        :return: A list of selected (or all) lexical units</span>
<span class="sd">        :rtype: list of LU objects (dicts). See the lu() function for info</span>
<span class="sd">          about the specifics of LU objects.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">luIDs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_lu_idx</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildluindex</span><span class="p">()</span>
            <span class="n">luIDs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_lu_idx</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PrettyList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lu</span><span class="p">(</span><span class="n">luID</span><span class="p">)</span> <span class="k">for</span> <span class="n">luID</span><span class="p">,</span><span class="n">luName</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lu_ids_and_names</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PrettyLazyMap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lu</span><span class="p">,</span> <span class="n">luIDs</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.lu_ids_and_names"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.lu_ids_and_names">[docs]</a>    <span class="k">def</span> <span class="nf">lu_ids_and_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Uses the LU index, which is much faster than looking up each LU definition</span>
<span class="sd">        if only the names and IDs are needed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lu_idx</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildluindex</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">((</span><span class="n">luID</span><span class="p">,</span> <span class="n">luinfo</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">luID</span><span class="p">,</span><span class="n">luinfo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lu_idx</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">luinfo</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.documents"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.documents">[docs]</a>    <span class="k">def</span> <span class="nf">documents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list of the annotated documents in Framenet.</span>

<span class="sd">        Details for a specific annotated document can be obtained using this</span>
<span class="sd">        class&#39;s annotated_document() function and pass it the value of the &#39;ID&#39; field.</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; len(fn.documents())</span>
<span class="sd">        78</span>
<span class="sd">        &gt;&gt;&gt; set([x.corpname for x in fn.documents()])==set([&#39;ANC&#39;, &#39;C-4&#39;, &#39;KBEval&#39;, \</span>
<span class="sd">                    &#39;LUCorpus-v0.3&#39;, &#39;Miscellaneous&#39;, &#39;NTI&#39;, &#39;PropBank&#39;, &#39;QA&#39;, &#39;SemAnno&#39;])</span>
<span class="sd">        True</span>

<span class="sd">        :param name: A regular expression pattern used to search the</span>
<span class="sd">            file name of each annotated document. The document&#39;s</span>
<span class="sd">            file name contains the name of the corpus that the</span>
<span class="sd">            document is from, followed by two underscores &quot;__&quot;</span>
<span class="sd">            followed by the document name. So, for example, the</span>
<span class="sd">            file name &quot;LUCorpus-v0.3__20000410_nyt-NEW.xml&quot; is</span>
<span class="sd">            from the corpus named &quot;LUCorpus-v0.3&quot; and the</span>
<span class="sd">            document name is &quot;20000410_nyt-NEW.xml&quot;.</span>
<span class="sd">        :type name: str</span>
<span class="sd">        :return: A list of selected (or all) annotated documents</span>
<span class="sd">        :rtype: list of dicts, where each dict object contains the following</span>
<span class="sd">                keys:</span>

<span class="sd">                - &#39;name&#39;</span>
<span class="sd">                - &#39;ID&#39;</span>
<span class="sd">                - &#39;corpid&#39;</span>
<span class="sd">                - &#39;corpname&#39;</span>
<span class="sd">                - &#39;description&#39;</span>
<span class="sd">                - &#39;filename&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ftlist</span> <span class="o">=</span> <span class="n">PrettyList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fulltext_idx</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildcorpusindex</span><span class="p">()</span>
            <span class="n">ftlist</span> <span class="o">=</span> <span class="n">PrettyList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fulltext_idx</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ftlist</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PrettyList</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ftlist</span> <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="s">&#39;filename&#39;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.frame_relation_types"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.frame_relation_types">[docs]</a>    <span class="k">def</span> <span class="nf">frame_relation_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Obtain a list of frame relation types.</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; frts = list(fn.frame_relation_types())</span>
<span class="sd">        &gt;&gt;&gt; isinstance(frts, list)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; len(frts)</span>
<span class="sd">        9</span>
<span class="sd">        &gt;&gt;&gt; PrettyDict(frts[0], breakLines=True)</span>
<span class="sd">        {&#39;ID&#39;: 1,</span>
<span class="sd">         &#39;_type&#39;: &#39;framerelationtype&#39;,</span>
<span class="sd">         &#39;frameRelations&#39;: [&lt;Parent=Event -- Inheritance -&gt; Child=Change_of_consistency&gt;, &lt;Parent=Event -- Inheritance -&gt; Child=Rotting&gt;, ...],</span>
<span class="sd">         &#39;name&#39;: &#39;Inheritance&#39;,</span>
<span class="sd">         &#39;subFrameName&#39;: &#39;Child&#39;,</span>
<span class="sd">         &#39;superFrameName&#39;: &#39;Parent&#39;}</span>

<span class="sd">        :return: A list of all of the frame relation types in framenet</span>
<span class="sd">        :rtype: list(dict)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_freltyp_idx</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildrelationindex</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_freltyp_idx</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.frame_relations"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.frame_relations">[docs]</a>    <span class="k">def</span> <span class="nf">frame_relations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">frame2</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param frame: (optional) frame object, name, or ID; only relations involving</span>
<span class="sd">        this frame will be returned</span>
<span class="sd">        :param frame2: (optional; &#39;frame&#39; must be a different frame) only show relations</span>
<span class="sd">        between the two specified frames, in either direction</span>
<span class="sd">        :param type: (optional) frame relation type (name or object); show only relations</span>
<span class="sd">        of this type</span>
<span class="sd">        :type frame: int or str or AttrDict</span>
<span class="sd">        :return: A list of all of the frame relations in framenet</span>
<span class="sd">        :rtype: list(dict)</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; frels = fn.frame_relations()</span>
<span class="sd">        &gt;&gt;&gt; isinstance(frels, list)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; len(frels)</span>
<span class="sd">        1676</span>
<span class="sd">        &gt;&gt;&gt; PrettyList(fn.frame_relations(&#39;Cooking_creation&#39;), maxReprSize=0, breakLines=True)</span>
<span class="sd">        [&lt;Parent=Intentionally_create -- Inheritance -&gt; Child=Cooking_creation&gt;,</span>
<span class="sd">         &lt;Parent=Apply_heat -- Using -&gt; Child=Cooking_creation&gt;,</span>
<span class="sd">         &lt;MainEntry=Apply_heat -- See_also -&gt; ReferringEntry=Cooking_creation&gt;]</span>
<span class="sd">        &gt;&gt;&gt; PrettyList(fn.frame_relations(373), breakLines=True)</span>
<span class="sd">        [&lt;Parent=Topic -- Using -&gt; Child=Communication&gt;,</span>
<span class="sd">         &lt;Source=Discussion -- ReFraming_Mapping -&gt; Target=Topic&gt;, ...]</span>
<span class="sd">        &gt;&gt;&gt; PrettyList(fn.frame_relations(fn.frame(&#39;Cooking_creation&#39;)), breakLines=True)</span>
<span class="sd">        [&lt;Parent=Intentionally_create -- Inheritance -&gt; Child=Cooking_creation&gt;,</span>
<span class="sd">         &lt;Parent=Apply_heat -- Using -&gt; Child=Cooking_creation&gt;, ...]</span>
<span class="sd">        &gt;&gt;&gt; PrettyList(fn.frame_relations(&#39;Cooking_creation&#39;, type=&#39;Inheritance&#39;))</span>
<span class="sd">        [&lt;Parent=Intentionally_create -- Inheritance -&gt; Child=Cooking_creation&gt;]</span>
<span class="sd">        &gt;&gt;&gt; PrettyList(fn.frame_relations(&#39;Cooking_creation&#39;, &#39;Apply_heat&#39;), breakLines=True)</span>
<span class="sd">        [&lt;Parent=Apply_heat -- Using -&gt; Child=Cooking_creation&gt;,</span>
<span class="sd">        &lt;MainEntry=Apply_heat -- See_also -&gt; ReferringEntry=Cooking_creation&gt;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">relation_type</span> <span class="o">=</span> <span class="nb">type</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frel_idx</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildrelationindex</span><span class="p">()</span>

        <span class="n">rels</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="k">if</span> <span class="n">relation_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">relation_type</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="nb">type</span> <span class="o">=</span> <span class="p">[</span><span class="n">rt</span> <span class="k">for</span> <span class="n">rt</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_relation_types</span><span class="p">()</span> <span class="k">if</span> <span class="n">rt</span><span class="o">.</span><span class="n">name</span><span class="o">==</span><span class="nb">type</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span><span class="nb">dict</span><span class="p">)</span>

        <span class="c"># lookup by &#39;frame&#39;</span>
        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span><span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="s">&#39;frameRelations&#39;</span> <span class="ow">in</span> <span class="n">frame</span><span class="p">:</span>
                <span class="n">rels</span> <span class="o">=</span> <span class="n">PrettyList</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">frameRelations</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                        <span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">ID</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_by_name</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span><span class="o">.</span><span class="n">ID</span>
                <span class="n">rels</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_frel_idx</span><span class="p">[</span><span class="n">frelID</span><span class="p">]</span> <span class="k">for</span> <span class="n">frelID</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frel_f_idx</span><span class="p">[</span><span class="n">frame</span><span class="p">]]</span>

            <span class="c"># filter by &#39;type&#39;</span>
            <span class="k">if</span> <span class="nb">type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">rels</span> <span class="o">=</span> <span class="p">[</span><span class="n">rel</span> <span class="k">for</span> <span class="n">rel</span> <span class="ow">in</span> <span class="n">rels</span> <span class="k">if</span> <span class="n">rel</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="nb">type</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c"># lookup by &#39;type&#39;</span>
            <span class="n">rels</span> <span class="o">=</span> <span class="nb">type</span><span class="o">.</span><span class="n">frameRelations</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frel_idx</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>

        <span class="c"># filter by &#39;frame2&#39;</span>
        <span class="k">if</span> <span class="n">frame2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">FramenetError</span><span class="p">(</span><span class="s">&quot;frame_relations(frame=None, frame2=&lt;value&gt;) is not allowed&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">frame2</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">frame2</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="n">frame2</span> <span class="o">=</span> <span class="n">frame2</span><span class="o">.</span><span class="n">ID</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">frame2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_by_name</span><span class="p">(</span><span class="n">frame2</span><span class="p">)</span><span class="o">.</span><span class="n">ID</span>
            <span class="k">if</span> <span class="n">frame</span><span class="o">==</span><span class="n">frame2</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">FramenetError</span><span class="p">(</span><span class="s">&quot;The two frame arguments to frame_relations() must be different frames&quot;</span><span class="p">)</span>
            <span class="n">rels</span> <span class="o">=</span> <span class="p">[</span><span class="n">rel</span> <span class="k">for</span> <span class="n">rel</span> <span class="ow">in</span> <span class="n">rels</span> <span class="k">if</span> <span class="n">rel</span><span class="o">.</span><span class="n">superFrame</span><span class="o">.</span><span class="n">ID</span><span class="o">==</span><span class="n">frame2</span> <span class="ow">or</span> <span class="n">rel</span><span class="o">.</span><span class="n">subFrame</span><span class="o">.</span><span class="n">ID</span><span class="o">==</span><span class="n">frame2</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">PrettyList</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">rels</span><span class="p">,</span>
                <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">frel</span><span class="p">:</span> <span class="p">(</span><span class="n">frel</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="n">frel</span><span class="o">.</span><span class="n">superFrameName</span><span class="p">,</span> <span class="n">frel</span><span class="o">.</span><span class="n">subFrameName</span><span class="p">)))</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.fe_relations"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.fe_relations">[docs]</a>    <span class="k">def</span> <span class="nf">fe_relations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Obtain a list of frame element relations.</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; ferels = fn.fe_relations()</span>
<span class="sd">        &gt;&gt;&gt; isinstance(ferels, list)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; len(ferels)</span>
<span class="sd">        10020</span>
<span class="sd">        &gt;&gt;&gt; PrettyDict(ferels[0], breakLines=True)</span>
<span class="sd">        {&#39;ID&#39;: 14642,</span>
<span class="sd">        &#39;_type&#39;: &#39;ferelation&#39;,</span>
<span class="sd">        &#39;frameRelation&#39;: &lt;Parent=Abounding_with -- Inheritance -&gt; Child=Lively_place&gt;,</span>
<span class="sd">        &#39;subFE&#39;: &lt;fe ID=11370 name=Degree&gt;,</span>
<span class="sd">        &#39;subFEName&#39;: &#39;Degree&#39;,</span>
<span class="sd">        &#39;subFrame&#39;: &lt;frame ID=1904 name=Lively_place&gt;,</span>
<span class="sd">        &#39;subID&#39;: 11370,</span>
<span class="sd">        &#39;supID&#39;: 2271,</span>
<span class="sd">        &#39;superFE&#39;: &lt;fe ID=2271 name=Degree&gt;,</span>
<span class="sd">        &#39;superFEName&#39;: &#39;Degree&#39;,</span>
<span class="sd">        &#39;superFrame&#39;: &lt;frame ID=262 name=Abounding_with&gt;,</span>
<span class="sd">        &#39;type&#39;: &lt;framerelationtype ID=1 name=Inheritance&gt;}</span>

<span class="sd">        :return: A list of all of the frame element relations in framenet</span>
<span class="sd">        :rtype: list(dict)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ferel_idx</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildrelationindex</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">PrettyList</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ferel_idx</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span>
                <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">ferel</span><span class="p">:</span> <span class="p">(</span><span class="n">ferel</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="n">ferel</span><span class="o">.</span><span class="n">frameRelation</span><span class="o">.</span><span class="n">superFrameName</span><span class="p">,</span>
                    <span class="n">ferel</span><span class="o">.</span><span class="n">superFEName</span><span class="p">,</span> <span class="n">ferel</span><span class="o">.</span><span class="n">frameRelation</span><span class="o">.</span><span class="n">subFrameName</span><span class="p">,</span> <span class="n">ferel</span><span class="o">.</span><span class="n">subFEName</span><span class="p">)))</span>
</div>
<div class="viewcode-block" id="FramenetCorpusReader.semtypes"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.FramenetCorpusReader.semtypes">[docs]</a>    <span class="k">def</span> <span class="nf">semtypes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Obtain a list of semantic types.</span>

<span class="sd">        &gt;&gt;&gt; from nltk.corpus import framenet as fn</span>
<span class="sd">        &gt;&gt;&gt; stypes = fn.semtypes()</span>
<span class="sd">        &gt;&gt;&gt; len(stypes)</span>
<span class="sd">        73</span>
<span class="sd">        &gt;&gt;&gt; sorted(stypes[0].keys())</span>
<span class="sd">        [&#39;ID&#39;, &#39;_type&#39;, &#39;abbrev&#39;, &#39;definition&#39;, &#39;name&#39;, &#39;rootType&#39;, &#39;subTypes&#39;, &#39;superType&#39;]</span>

<span class="sd">        :return: A list of all of the semantic types in framenet</span>
<span class="sd">        :rtype: list(dict)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_semtypes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loadsemtypes</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">PrettyList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_semtypes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_semtypes</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">int</span><span class="p">))</span>
</div>
    <span class="k">def</span> <span class="nf">_load_xml_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">elt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extracts a subset of the attributes from the given element and</span>
<span class="sd">        returns them in a dictionary.</span>

<span class="sd">        :param d: A dictionary in which to store the attributes.</span>
<span class="sd">        :type d: dict</span>
<span class="sd">        :param elt: An ElementTree Element</span>
<span class="sd">        :type elt: Element</span>
<span class="sd">        :return: Returns the input dict ``d`` possibly including attributes from ``elt``</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">d</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">d</span><span class="p">)(</span><span class="n">d</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">attr_dict</span> <span class="o">=</span> <span class="n">elt</span><span class="o">.</span><span class="n">attrib</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">d</span>

        <span class="k">if</span> <span class="n">attr_dict</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">d</span>

        <span class="c"># Ignore these attributes when loading attributes from an xml node</span>
        <span class="n">ignore_attrs</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;cBy&#39;</span><span class="p">,</span> <span class="s">&#39;cDate&#39;</span><span class="p">,</span> <span class="s">&#39;mDate&#39;</span><span class="p">,</span> <span class="s">&#39;xsi&#39;</span><span class="p">,</span>
                        <span class="s">&#39;schemaLocation&#39;</span><span class="p">,</span> <span class="s">&#39;xmlns&#39;</span><span class="p">,</span> <span class="s">&#39;bgColor&#39;</span><span class="p">,</span> <span class="s">&#39;fgColor&#39;</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">attr_dict</span><span class="p">:</span>

            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">attr</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ignore_attrs</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">val</span> <span class="o">=</span> <span class="n">attr_dict</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">val</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="n">d</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">d</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>

        <span class="k">return</span> <span class="n">d</span>

    <span class="k">def</span> <span class="nf">_strip_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets rid of all tags and newline characters from the given input</span>

<span class="sd">        :return: A cleaned-up version of the input string</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;t&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;/t&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">&#39;&lt;fex name=&quot;[^&quot;]+&quot;&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;/fex&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;fen&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;/fen&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;m&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;/m&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;ment&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;/ment&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;ex&gt;&#39;</span><span class="p">,</span> <span class="s">&quot;&#39;&quot;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;/ex&gt;&#39;</span><span class="p">,</span> <span class="s">&quot;&#39;&quot;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;gov&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;/gov&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;x&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;/x&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

            <span class="c"># Get rid of &lt;def-root&gt; and &lt;/def-root&gt; tags</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;def-root&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&lt;/def-root&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">_handle_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">,</span> <span class="n">tagspec</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Extracts and returns the attributes of the given element&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_handle_fulltextindex_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">,</span> <span class="n">tagspec</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extracts corpus/document info from the fulltextIndex.xml file.</span>

<span class="sd">        Note that this function &quot;flattens&quot; the information contained</span>
<span class="sd">        in each of the &quot;corpus&quot; elements, so that each &quot;document&quot;</span>
<span class="sd">        element will contain attributes for the corpus and</span>
<span class="sd">        corpusid. Also, each of the &quot;document&quot; items will contain a</span>
<span class="sd">        new attribute called &quot;filename&quot; that is the base file name of</span>
<span class="sd">        the xml file for the document in the &quot;fulltext&quot; subdir of the</span>
<span class="sd">        Framenet corpus.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ftinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>
        <span class="n">corpname</span> <span class="o">=</span> <span class="n">ftinfo</span><span class="o">.</span><span class="n">name</span>
        <span class="n">corpid</span> <span class="o">=</span> <span class="n">ftinfo</span><span class="o">.</span><span class="n">ID</span>
        <span class="n">retlist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;document&#39;</span><span class="p">):</span>
                <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">)</span>
                <span class="k">if</span> <span class="s">&#39;name&#39;</span> <span class="ow">in</span> <span class="n">doc</span><span class="p">:</span>
                    <span class="n">docname</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">name</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">docname</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">description</span>
                <span class="n">doc</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s">&quot;{0}__{1}.xml&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">corpname</span><span class="p">,</span> <span class="n">docname</span><span class="p">)</span>
                <span class="n">doc</span><span class="o">.</span><span class="n">corpname</span> <span class="o">=</span> <span class="n">corpname</span>
                <span class="n">doc</span><span class="o">.</span><span class="n">corpid</span> <span class="o">=</span> <span class="n">corpid</span>
                <span class="n">retlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">retlist</span>

    <span class="k">def</span> <span class="nf">_handle_frame_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">,</span> <span class="n">ignorekeys</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&quot;&quot;&quot;Load the info for a Frame from an frame xml file&quot;&quot;&quot;</span>
        <span class="n">frinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>

        <span class="n">frinfo</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;frame&#39;</span>
        <span class="n">frinfo</span><span class="p">[</span><span class="s">&#39;definition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="n">frinfo</span><span class="p">[</span><span class="s">&#39;FE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrettyDict</span><span class="p">()</span>
        <span class="n">frinfo</span><span class="p">[</span><span class="s">&#39;FEcoreSets&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">frinfo</span><span class="p">[</span><span class="s">&#39;lexUnit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrettyDict</span><span class="p">()</span>
        <span class="n">frinfo</span><span class="p">[</span><span class="s">&#39;semTypes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ignorekeys</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">frinfo</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">frinfo</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;definition&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="s">&#39;definition&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignorekeys</span><span class="p">:</span>
                <span class="n">frinfo</span><span class="p">[</span><span class="s">&#39;definition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_strip_tags</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;FE&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="s">&#39;FE&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignorekeys</span><span class="p">:</span>
                <span class="n">feinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_fe_elt</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
                <span class="n">frinfo</span><span class="p">[</span><span class="s">&#39;FE&#39;</span><span class="p">][</span><span class="n">feinfo</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">feinfo</span>
                <span class="n">feinfo</span><span class="p">[</span><span class="s">&#39;frame&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frinfo</span>    <span class="c"># backpointer</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;FEcoreSet&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="s">&#39;FEcoreSet&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignorekeys</span><span class="p">:</span>
                <span class="n">coreset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_fecoreset_elt</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
                <span class="c"># assumes all FEs have been loaded before coresets</span>
                <span class="n">frinfo</span><span class="p">[</span><span class="s">&#39;FEcoreSets&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">PrettyList</span><span class="p">(</span><span class="n">frinfo</span><span class="p">[</span><span class="s">&#39;FE&#39;</span><span class="p">][</span><span class="n">fe</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="k">for</span> <span class="n">fe</span> <span class="ow">in</span> <span class="n">coreset</span><span class="p">))</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;lexUnit&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="s">&#39;lexUnit&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignorekeys</span><span class="p">:</span>
                <span class="n">luentry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_framelexunit_elt</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">luentry</span><span class="p">[</span><span class="s">&#39;status&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bad_statuses</span><span class="p">:</span>
                    <span class="c"># problematic LU entry; ignore it</span>
                    <span class="k">continue</span>
                <span class="n">luentry</span><span class="p">[</span><span class="s">&#39;frame&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frinfo</span>
                <span class="n">luentry</span><span class="p">[</span><span class="s">&#39;subCorpus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Future</span><span class="p">((</span><span class="k">lambda</span> <span class="n">lu</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lu_file</span><span class="p">(</span><span class="n">lu</span><span class="p">))(</span><span class="n">luentry</span><span class="p">))</span>
                <span class="n">frinfo</span><span class="p">[</span><span class="s">&#39;lexUnit&#39;</span><span class="p">][</span><span class="n">luentry</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">luentry</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lu_idx</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_buildluindex</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_lu_idx</span><span class="p">[</span><span class="n">luentry</span><span class="o">.</span><span class="n">ID</span><span class="p">]</span> <span class="o">=</span> <span class="n">luentry</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;semType&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="s">&#39;semTypes&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignorekeys</span><span class="p">:</span>
                <span class="n">semtypeinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">)</span>
                <span class="n">frinfo</span><span class="p">[</span><span class="s">&#39;semTypes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">semtype</span><span class="p">(</span><span class="n">semtypeinfo</span><span class="o">.</span><span class="n">ID</span><span class="p">))</span>

        <span class="n">frinfo</span><span class="p">[</span><span class="s">&#39;frameRelations&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_relations</span><span class="p">(</span><span class="n">frame</span><span class="o">=</span><span class="n">frinfo</span><span class="p">)</span>

        <span class="c"># resolve &#39;requires&#39; and &#39;excludes&#39; links between FEs of this frame</span>
        <span class="k">for</span> <span class="n">fe</span> <span class="ow">in</span> <span class="n">frinfo</span><span class="o">.</span><span class="n">FE</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">fe</span><span class="o">.</span><span class="n">requiresFE</span><span class="p">:</span>
                <span class="n">name</span><span class="p">,</span> <span class="n">ID</span> <span class="o">=</span> <span class="n">fe</span><span class="o">.</span><span class="n">requiresFE</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">fe</span><span class="o">.</span><span class="n">requiresFE</span><span class="o">.</span><span class="n">ID</span>
                <span class="n">fe</span><span class="o">.</span><span class="n">requiresFE</span> <span class="o">=</span> <span class="n">frinfo</span><span class="o">.</span><span class="n">FE</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
                <span class="k">assert</span> <span class="n">fe</span><span class="o">.</span><span class="n">requiresFE</span><span class="o">.</span><span class="n">ID</span><span class="o">==</span><span class="n">ID</span>
            <span class="k">if</span> <span class="n">fe</span><span class="o">.</span><span class="n">excludesFE</span><span class="p">:</span>
                <span class="n">name</span><span class="p">,</span> <span class="n">ID</span> <span class="o">=</span> <span class="n">fe</span><span class="o">.</span><span class="n">excludesFE</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">fe</span><span class="o">.</span><span class="n">excludesFE</span><span class="o">.</span><span class="n">ID</span>
                <span class="n">fe</span><span class="o">.</span><span class="n">excludesFE</span> <span class="o">=</span> <span class="n">frinfo</span><span class="o">.</span><span class="n">FE</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
                <span class="k">assert</span> <span class="n">fe</span><span class="o">.</span><span class="n">excludesFE</span><span class="o">.</span><span class="n">ID</span><span class="o">==</span><span class="n">ID</span>

        <span class="k">return</span> <span class="n">frinfo</span>

    <span class="k">def</span> <span class="nf">_handle_fecoreset_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load fe coreset info from xml.&quot;&quot;&quot;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="n">tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">tmp</span>

    <span class="k">def</span> <span class="nf">_handle_framerelationtype_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load frame-relation element and its child fe-relation elements from frRelation.xml.&quot;&quot;&quot;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;framerelationtype&#39;</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;frameRelations&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrettyList</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;frameRelation&#39;</span><span class="p">):</span>
                <span class="n">frel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_framerelation_elt</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
                <span class="n">frel</span><span class="p">[</span><span class="s">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span>   <span class="c"># backpointer</span>
                <span class="k">for</span> <span class="n">ferel</span> <span class="ow">in</span> <span class="n">frel</span><span class="o">.</span><span class="n">feRelations</span><span class="p">:</span>
                    <span class="n">ferel</span><span class="p">[</span><span class="s">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span>
                <span class="n">info</span><span class="p">[</span><span class="s">&#39;frameRelations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frel</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">info</span>

    <span class="k">def</span> <span class="nf">_handle_framerelation_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load frame-relation element and its child fe-relation elements from frRelation.xml.&quot;&quot;&quot;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">info</span><span class="p">[</span><span class="s">&#39;superFrameName&#39;</span><span class="p">]</span><span class="o">!=</span><span class="n">info</span><span class="p">[</span><span class="s">&#39;subFrameName&#39;</span><span class="p">],(</span><span class="n">elt</span><span class="p">,</span><span class="n">info</span><span class="p">)</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;framerelation&#39;</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;feRelations&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrettyList</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;FERelation&#39;</span><span class="p">):</span>
                <span class="n">ferel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_elt</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
                <span class="n">ferel</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;ferelation&#39;</span>
                <span class="n">ferel</span><span class="p">[</span><span class="s">&#39;frameRelation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span>   <span class="c"># backpointer</span>
                <span class="n">info</span><span class="p">[</span><span class="s">&#39;feRelations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ferel</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">info</span>

    <span class="k">def</span> <span class="nf">_handle_fulltextannotation_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load full annotation info for a document from its xml</span>
<span class="sd">        file. The main element (fullTextAnnotation) contains a &#39;header&#39;</span>
<span class="sd">        element (which we ignore here) and a bunch of &#39;sentence&#39;</span>
<span class="sd">        elements.&quot;&quot;&quot;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">AttrDict</span><span class="p">()</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;fulltextannotation&#39;</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;sentence&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;header&#39;</span><span class="p">):</span>
                <span class="k">continue</span>  <span class="c"># not used</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;sentence&#39;</span><span class="p">):</span>
                <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_fulltext_sentence_elt</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
                <span class="n">info</span><span class="p">[</span><span class="s">&#39;sentence&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">info</span>

    <span class="k">def</span> <span class="nf">_handle_fulltext_sentence_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load information from the given &#39;sentence&#39; element. Each</span>
<span class="sd">        &#39;sentence&#39; element contains a &quot;text&quot; and an &quot;annotationSet&quot; sub</span>
<span class="sd">        element.&quot;&quot;&quot;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;sentence&quot;</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;annotationSet&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>

        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">):</span>
                <span class="n">info</span><span class="p">[</span><span class="s">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_strip_tags</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;annotationSet&#39;</span><span class="p">):</span>
                <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_fulltextannotationset_elt</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
                <span class="n">info</span><span class="p">[</span><span class="s">&#39;annotationSet&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">info</span>

    <span class="k">def</span> <span class="nf">_handle_fulltextannotationset_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load information from the given &#39;annotationSet&#39; element. Each</span>
<span class="sd">        &#39;annotationSet&#39; contains several &quot;layer&quot; elements.&quot;&quot;&quot;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;annotationset&quot;</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;layer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;layer&#39;</span><span class="p">):</span>
                <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_fulltextlayer_elt</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
                <span class="n">info</span><span class="p">[</span><span class="s">&#39;layer&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">info</span>

    <span class="k">def</span> <span class="nf">_handle_fulltextlayer_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load information from the given &#39;layer&#39; element. Each</span>
<span class="sd">        &#39;layer&#39; contains several &quot;label&quot; elements.&quot;&quot;&quot;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;layer&#39;</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;label&#39;</span><span class="p">):</span>
                <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">)</span>
                <span class="n">info</span><span class="p">[</span><span class="s">&#39;label&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">info</span>

    <span class="k">def</span> <span class="nf">_handle_framelexunit_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load the lexical unit info from an xml element in a frame&#39;s xml file.&quot;&quot;&quot;</span>
        <span class="n">luinfo</span> <span class="o">=</span> <span class="n">AttrDict</span><span class="p">()</span>
        <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;lu&#39;</span>
        <span class="n">luinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">luinfo</span><span class="p">,</span> <span class="n">elt</span><span class="p">)</span>
        <span class="n">luinfo</span><span class="p">[</span><span class="s">&quot;definition&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="n">luinfo</span><span class="p">[</span><span class="s">&quot;sentenceCount&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrettyDict</span><span class="p">()</span>
        <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;lexemes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrettyList</span><span class="p">()</span>   <span class="c"># multiword LUs have multiple lexemes</span>
        <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;semTypes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrettyList</span><span class="p">()</span>  <span class="c"># an LU can have multiple semtypes</span>

        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;definition&#39;</span><span class="p">):</span>
                <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;definition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_strip_tags</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;sentenceCount&#39;</span><span class="p">):</span>
                <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;sentenceCount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span>
                    <span class="n">PrettyDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;lexeme&#39;</span><span class="p">):</span>
                <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;lexemes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">PrettyDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">))</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;semType&#39;</span><span class="p">):</span>
                <span class="n">semtypeinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">PrettyDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">)</span>
                <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;semTypes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">semtype</span><span class="p">(</span><span class="n">semtypeinfo</span><span class="o">.</span><span class="n">ID</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">luinfo</span>

    <span class="k">def</span> <span class="nf">_handle_lexunit_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">,</span> <span class="n">ignorekeys</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load full info for a lexical unit from its xml file.</span>
<span class="sd">        This should only be called when accessing corpus annotations</span>
<span class="sd">        (which are not included in frame files).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">luinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>
        <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;lu&#39;</span>
        <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;definition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;subCorpus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrettyList</span><span class="p">()</span>
        <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;lexemes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrettyList</span><span class="p">()</span>   <span class="c"># multiword LUs have multiple lexemes</span>
        <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;semTypes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrettyList</span><span class="p">()</span>  <span class="c"># an LU can have multiple semtypes</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ignorekeys</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">luinfo</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">luinfo</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;header&#39;</span><span class="p">):</span>
                <span class="k">continue</span>  <span class="c"># not used</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;valences&#39;</span><span class="p">):</span>
                <span class="k">continue</span>  <span class="c"># not used</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;definition&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="s">&#39;definition&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignorekeys</span><span class="p">:</span>
                <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;definition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_strip_tags</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;subCorpus&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="s">&#39;subCorpus&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignorekeys</span><span class="p">:</span>
                <span class="n">sc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_lusubcorpus_elt</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">sc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;subCorpus&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;lexeme&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="s">&#39;lexeme&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignorekeys</span><span class="p">:</span>
                <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;lexemes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">PrettyDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">))</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;semType&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="s">&#39;semType&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignorekeys</span><span class="p">:</span>
                <span class="n">semtypeinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">)</span>
                <span class="n">luinfo</span><span class="p">[</span><span class="s">&#39;semTypes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">semtype</span><span class="p">(</span><span class="n">semtypeinfo</span><span class="o">.</span><span class="n">ID</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">luinfo</span>

    <span class="k">def</span> <span class="nf">_handle_lusubcorpus_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load a subcorpus of a lexical unit from the given xml.&quot;&quot;&quot;</span>
        <span class="n">sc</span> <span class="o">=</span> <span class="n">AttrDict</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sc</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">elt</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="n">sc</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;lusubcorpus&quot;</span>
        <span class="n">sc</span><span class="p">[</span><span class="s">&#39;sentence&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;sentence&#39;</span><span class="p">):</span>
                <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_lusentence_elt</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">s</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">sc</span><span class="p">[</span><span class="s">&#39;sentence&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">sc</span>

    <span class="k">def</span> <span class="nf">_handle_lusentence_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load a sentence from a subcorpus of an LU from xml.&quot;&quot;&quot;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;lusentence&#39;</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;annotationSet&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">):</span>
                <span class="n">info</span><span class="p">[</span><span class="s">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_strip_tags</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;annotationSet&#39;</span><span class="p">):</span>
                <span class="n">annset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_luannotationset_elt</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">annset</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">info</span><span class="p">[</span><span class="s">&#39;annotationSet&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">annset</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">info</span>

    <span class="k">def</span> <span class="nf">_handle_luannotationset_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load an annotation set from a sentence in an subcorpus of an LU&quot;&quot;&quot;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;luannotationset&#39;</span>
        <span class="n">info</span><span class="p">[</span><span class="s">&#39;layer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;layer&#39;</span><span class="p">):</span>
                <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_lulayer_elt</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">l</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">info</span><span class="p">[</span><span class="s">&#39;layer&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">info</span>

    <span class="k">def</span> <span class="nf">_handle_lulayer_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load a layer from an annotation set&quot;&quot;&quot;</span>
        <span class="n">layer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>
        <span class="n">layer</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;lulayer&#39;</span>
        <span class="n">layer</span><span class="p">[</span><span class="s">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;label&#39;</span><span class="p">):</span>
                <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">l</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">layer</span><span class="p">[</span><span class="s">&#39;label&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">layer</span>

    <span class="k">def</span> <span class="nf">_handle_fe_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">):</span>
        <span class="n">feinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>
        <span class="n">feinfo</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;fe&#39;</span>
        <span class="n">feinfo</span><span class="p">[</span><span class="s">&#39;definition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="n">feinfo</span><span class="p">[</span><span class="s">&#39;semType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">feinfo</span><span class="p">[</span><span class="s">&#39;requiresFE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">feinfo</span><span class="p">[</span><span class="s">&#39;excludesFE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;definition&#39;</span><span class="p">):</span>
                <span class="n">feinfo</span><span class="p">[</span><span class="s">&#39;definition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_strip_tags</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;semType&#39;</span><span class="p">):</span>
                <span class="n">stinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">)</span>
                <span class="n">feinfo</span><span class="p">[</span><span class="s">&#39;semType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">semtype</span><span class="p">(</span><span class="n">stinfo</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;requiresFE&#39;</span><span class="p">):</span>
                <span class="n">feinfo</span><span class="p">[</span><span class="s">&#39;requiresFE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">sub</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;excludesFE&#39;</span><span class="p">):</span>
                <span class="n">feinfo</span><span class="p">[</span><span class="s">&#39;excludesFE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">feinfo</span>

    <span class="k">def</span> <span class="nf">_handle_semtype_elt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elt</span><span class="p">,</span> <span class="n">tagspec</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">semt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">elt</span><span class="p">)</span>
        <span class="n">semt</span><span class="p">[</span><span class="s">&#39;_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;semtype&#39;</span>
        <span class="n">semt</span><span class="p">[</span><span class="s">&#39;superType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">semt</span><span class="p">[</span><span class="s">&#39;subTypes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrettyList</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">elt</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sub</span><span class="o">.</span><span class="n">text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">semt</span><span class="p">[</span><span class="s">&#39;definition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_strip_tags</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">supertypeinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_xml_attributes</span><span class="p">(</span><span class="n">AttrDict</span><span class="p">(),</span> <span class="n">sub</span><span class="p">)</span>
                <span class="n">semt</span><span class="p">[</span><span class="s">&#39;superType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">supertypeinfo</span>
                <span class="c"># the supertype may not have been loaded yet</span>

        <span class="k">return</span> <span class="n">semt</span>


<span class="c">#</span>
<span class="c"># Demo</span>
<span class="c">#</span></div>
<div class="viewcode-block" id="demo"><a class="viewcode-back" href="../../../../api/nltk.corpus.reader.html#nltk.corpus.reader.framenet.demo">[docs]</a><span class="k">def</span> <span class="nf">demo</span><span class="p">():</span>
    <span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">framenet</span> <span class="k">as</span> <span class="n">fn</span>

    <span class="c">#</span>
    <span class="c"># It is not necessary to explicitly build the indexes by calling</span>
    <span class="c"># buildindexes(). We do this here just for demo purposes. If the</span>
    <span class="c"># indexes are not built explicitely, they will be built as needed.</span>
    <span class="c">#</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Building the indexes...&#39;</span><span class="p">)</span>
    <span class="n">fn</span><span class="o">.</span><span class="n">buildindexes</span><span class="p">()</span>

    <span class="c">#</span>
    <span class="c"># Get some statistics about the corpus</span>
    <span class="c">#</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Number of Frames:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">fn</span><span class="o">.</span><span class="n">frames</span><span class="p">()))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Number of Lexical Units:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">fn</span><span class="o">.</span><span class="n">lus</span><span class="p">()))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Number of annotated documents:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">fn</span><span class="o">.</span><span class="n">documents</span><span class="p">()))</span>
    <span class="k">print</span><span class="p">()</span>

    <span class="c">#</span>
    <span class="c"># Frames</span>
    <span class="c">#</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;getting frames whose name matches the (case insensitive) regex: &quot;(?i)medical&quot;&#39;</span><span class="p">)</span>
    <span class="n">medframes</span> <span class="o">=</span> <span class="n">fn</span><span class="o">.</span><span class="n">frames</span><span class="p">(</span><span class="s">r&#39;(?i)medical&#39;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span>
        <span class="s">&#39;Found {0} Frames whose name matches &quot;(?i)medical&quot;:&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">medframes</span><span class="p">)))</span>
    <span class="k">print</span><span class="p">([(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">medframes</span><span class="p">])</span>

    <span class="c">#</span>
    <span class="c"># store the first frame in the list of frames</span>
    <span class="c">#</span>
    <span class="n">tmp_id</span> <span class="o">=</span> <span class="n">medframes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">ID</span>
    <span class="n">m_frame</span> <span class="o">=</span> <span class="n">fn</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="n">tmp_id</span><span class="p">)</span>  <span class="c"># reads all info for the frame</span>

    <span class="c">#</span>
    <span class="c"># get the frame relations</span>
    <span class="c">#</span>
    <span class="k">print</span><span class="p">(</span>
        <span class="s">&#39;</span><span class="se">\n</span><span class="s">Number of frame relations for the &quot;{0}&quot; ({1}) frame:&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m_frame</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                                                                        <span class="n">m_frame</span><span class="o">.</span><span class="n">ID</span><span class="p">),</span>
        <span class="nb">len</span><span class="p">(</span><span class="n">m_frame</span><span class="o">.</span><span class="n">frameRelations</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">fr</span> <span class="ow">in</span> <span class="n">m_frame</span><span class="o">.</span><span class="n">frameRelations</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;   &#39;</span><span class="p">,</span> <span class="n">fr</span><span class="p">)</span>

    <span class="c">#</span>
    <span class="c"># get the names of the Frame Elements</span>
    <span class="c">#</span>
    <span class="k">print</span><span class="p">(</span>
        <span class="s">&#39;</span><span class="se">\n</span><span class="s">Number of Frame Elements in the &quot;{0}&quot; frame:&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m_frame</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
        <span class="nb">len</span><span class="p">(</span><span class="n">m_frame</span><span class="o">.</span><span class="n">FE</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;   &#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">m_frame</span><span class="o">.</span><span class="n">FE</span><span class="p">])</span>

    <span class="c">#</span>
    <span class="c"># get the names of the &quot;Core&quot; Frame Elements</span>
    <span class="c">#</span>
    <span class="k">print</span><span class="p">(</span>
        <span class="s">&#39;</span><span class="se">\n</span><span class="s">The &quot;core&quot; Frame Elements in the &quot;{0}&quot; frame:&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m_frame</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;   &#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">m_frame</span><span class="o">.</span><span class="n">FE</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">coreType</span> <span class="o">==</span> <span class="s">&quot;Core&quot;</span><span class="p">])</span>

    <span class="c">#</span>
    <span class="c"># get all of the Lexical Units that are incorporated in the</span>
    <span class="c"># &#39;Ailment&#39; FE of the &#39;Medical_conditions&#39; frame (id=239)</span>
    <span class="c">#</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">All Lexical Units that are incorporated in the &quot;Ailment&quot; FE:&#39;</span><span class="p">)</span>
    <span class="n">m_frame</span> <span class="o">=</span> <span class="n">fn</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="mi">239</span><span class="p">)</span>
    <span class="n">ailment_lus</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">m_frame</span><span class="o">.</span><span class="n">lexUnit</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="s">&#39;incorporatedFE&#39;</span> <span class="ow">in</span> <span class="n">x</span> <span class="ow">and</span> <span class="n">x</span><span class="o">.</span><span class="n">incorporatedFE</span> <span class="o">==</span> <span class="s">&#39;Ailment&#39;</span><span class="p">]</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;   &#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ailment_lus</span><span class="p">])</span>

    <span class="c">#</span>
    <span class="c"># get all of the Lexical Units for the frame</span>
    <span class="c">#</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">Number of Lexical Units in the &quot;{0}&quot; frame:&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m_frame</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
          <span class="nb">len</span><span class="p">(</span><span class="n">m_frame</span><span class="o">.</span><span class="n">lexUnit</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;  &#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">m_frame</span><span class="o">.</span><span class="n">lexUnit</span><span class="o">.</span><span class="n">values</span><span class="p">()][:</span><span class="mi">5</span><span class="p">],</span> <span class="s">&#39;...&#39;</span><span class="p">)</span>

    <span class="c">#</span>
    <span class="c"># get basic info on the second LU in the frame</span>
    <span class="c">#</span>
    <span class="n">tmp_id</span> <span class="o">=</span> <span class="n">m_frame</span><span class="o">.</span><span class="n">lexUnit</span><span class="p">[</span><span class="s">&#39;ailment.n&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">ID</span>  <span class="c"># grab the id of the specified LU</span>
    <span class="n">luinfo</span> <span class="o">=</span> <span class="n">fn</span><span class="o">.</span><span class="n">lu_basic</span><span class="p">(</span><span class="n">tmp_id</span><span class="p">)</span>  <span class="c"># get basic info on the LU</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">Information on the LU: {0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">luinfo</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
    <span class="n">pprint</span><span class="p">(</span><span class="n">luinfo</span><span class="p">)</span>

    <span class="c">#</span>
    <span class="c"># Get a list of all of the corpora used for fulltext annotation</span>
    <span class="c">#</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">Names of all of the corpora used for fulltext annotation:&#39;</span><span class="p">)</span>
    <span class="n">allcorpora</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">x</span><span class="o">.</span><span class="n">corpname</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">fn</span><span class="o">.</span><span class="n">documents</span><span class="p">()])</span>
    <span class="n">pprint</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">allcorpora</span><span class="p">))</span>

    <span class="c">#</span>
    <span class="c"># Get the names of the annotated documents in the first corpus</span>
    <span class="c">#</span>
    <span class="n">firstcorp</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">allcorpora</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">firstcorp_docs</span> <span class="o">=</span> <span class="n">fn</span><span class="o">.</span><span class="n">documents</span><span class="p">(</span><span class="n">firstcorp</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span>
        <span class="s">&#39;</span><span class="se">\n</span><span class="s">Names of the annotated documents in the &quot;{0}&quot; corpus:&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">firstcorp</span><span class="p">))</span>
    <span class="n">pprint</span><span class="p">([</span><span class="n">x</span><span class="o">.</span><span class="n">filename</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">firstcorp_docs</span><span class="p">])</span>

    <span class="c">#</span>
    <span class="c"># Search for frames containing LUs whose name attribute matches a</span>
    <span class="c"># regexp pattern.</span>
    <span class="c">#</span>
    <span class="c"># Note: if you were going to be doing a lot of this type of</span>
    <span class="c">#       searching, you&#39;d want to build an index that maps from</span>
    <span class="c">#       lemmas to frames because each time frames_by_lemma() is</span>
    <span class="c">#       called, it has to search through ALL of the frame XML files</span>
    <span class="c">#       in the db.</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">Searching for all Frames that have a lemma that matches the regexp: &quot;^run.v$&quot;:&#39;</span><span class="p">)</span>
    <span class="n">pprint</span><span class="p">(</span><span class="n">fn</span><span class="o">.</span><span class="n">frames_by_lemma</span><span class="p">(</span><span class="s">r&#39;^run.v$&#39;</span><span class="p">))</span>
</div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">demo</span><span class="p">()</span>
</pre></div>

          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../news.html">NLTK News</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../data.html">Installing NLTK Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contribute.html">Contribute to NLTK</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/nltk.html">API</a></li>
<li class="toctree-l1"><a class="reference external" href="http://www.nltk.org/howto">HOWTO</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="../../../../search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../../../../genindex.html" title="General Index"
             >index</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2015, NLTK Project.
      Last updated on Mar 13, 2015.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>