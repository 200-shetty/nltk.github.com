

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>nltk.stem.snowball &mdash; NLTK 2.0 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="NLTK 2.0 documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="../../../index.html">NLTK 2.0 documentation</a></div>
        <div class="rel">
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for nltk.stem.snowball</h1><div class="highlight"><pre>
<span class="c"># -*- coding: utf-8 -*-</span>
<span class="c">#</span>
<span class="c"># Natural Language Toolkit: Snowball Stemmer</span>
<span class="c">#</span>
<span class="c"># Copyright (C) 2001-2012 NLTK Project</span>
<span class="c"># Author: Peter Michael Stahl &lt;pemistahl@gmail.com&gt;</span>
<span class="c">#         Peter Ljunglof &lt;peter.ljunglof@heatherleaf.se&gt; (revisions)</span>
<span class="c"># Algorithms: Dr Martin Porter &lt;martin@tartarus.org&gt;</span>
<span class="c"># URL: &lt;http://www.nltk.org/&gt;</span>
<span class="c"># For license information, see LICENSE.TXT</span>

<span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">Snowball stemmers and appendant demo function</span>

<span class="sd">This module provides a port of the Snowball stemmers</span>
<span class="sd">developed by Martin Porter.</span>
<span class="sd">There is also a demo function demonstrating the different</span>
<span class="sd">algorithms. It can be invoked directly on the command line.</span>
<span class="sd">For more information take a look into the class SnowballStemmer.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="kn">from</span> <span class="nn">nltk.stem</span> <span class="kn">import</span> <span class="n">porter</span>

<span class="kn">from</span> <span class="nn">api</span> <span class="kn">import</span> <span class="n">StemmerI</span>

<div class="viewcode-block" id="SnowballStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.SnowballStemmer">[docs]</a><span class="k">class</span> <span class="nc">SnowballStemmer</span><span class="p">(</span><span class="n">StemmerI</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    Snowball Stemmer</span>

<span class="sd">    At the moment, this port is able to stem words from fourteen</span>
<span class="sd">    languages: Danish, Dutch, English, Finnish, French, German,</span>
<span class="sd">    Hungarian, Italian, Norwegian, Portuguese, Romanian, Russian,</span>
<span class="sd">    Spanish and Swedish.</span>

<span class="sd">    Furthermore, there is also the original English Porter algorithm:</span>

<span class="sd">        Porter, M. \&quot;An algorithm for suffix stripping.\&quot;</span>
<span class="sd">        Program 14.3 (1980): 130-137.</span>

<span class="sd">    The algorithms have been developed by Martin Porter.</span>
<span class="sd">    These stemmers are called Snowball, because he invented</span>
<span class="sd">    a programming language with this name for creating</span>
<span class="sd">    new stemming algorithms. There is more information available</span>
<span class="sd">    at http://snowball.tartarus.org/</span>

<span class="sd">    The stemmer is invoked as shown below:</span>

<span class="sd">    &gt;&gt;&gt; from nltk.stem import SnowballStemmer</span>
<span class="sd">    &gt;&gt;&gt; SnowballStemmer.languages # See which languages are supported</span>
<span class="sd">    (&#39;danish&#39;, &#39;dutch&#39;, &#39;english&#39;, &#39;finnish&#39;, &#39;french&#39;, &#39;german&#39;, &#39;hungarian&#39;,</span>
<span class="sd">    &#39;italian&#39;, &#39;norwegian&#39;, &#39;porter&#39;, &#39;portuguese&#39;, &#39;romanian&#39;, &#39;russian&#39;,</span>
<span class="sd">    &#39;spanish&#39;, &#39;swedish&#39;)</span>
<span class="sd">    &gt;&gt;&gt; stemmer = SnowballStemmer(&quot;german&quot;) # Choose a language</span>
<span class="sd">    &gt;&gt;&gt; stemmer.stem(u&quot;Autobahnen&quot;) # Stem a word</span>
<span class="sd">    u&#39;autobahn&#39;</span>

<span class="sd">    Invoking the stemmers that way is useful if you do not know the</span>
<span class="sd">    language to be stemmed at runtime. Alternatively, if you already know</span>
<span class="sd">    the language, then you can invoke the language specific stemmer directly:</span>

<span class="sd">    &gt;&gt;&gt; from nltk.stem.snowball import GermanStemmer</span>
<span class="sd">    &gt;&gt;&gt; stemmer = GermanStemmer()</span>
<span class="sd">    &gt;&gt;&gt; stemmer.stem(u&quot;Autobahnen&quot;)</span>
<span class="sd">    u&#39;autobahn&#39;</span>

<span class="sd">    Create a language specific instance of the Snowball stemmer.</span>

<span class="sd">    :param language: The language whose subclass is instantiated.</span>
<span class="sd">    :type language: str or unicode</span>
<span class="sd">    :param ignore_stopwords: If set to True, stopwords are</span>
<span class="sd">                             not stemmed and returned unchanged.</span>
<span class="sd">                             Set to False by default.</span>
<span class="sd">    :type ignore_stopwords: bool</span>
<span class="sd">    :raise ValueError: If there is no stemmer for the specified</span>
<span class="sd">                           language, a ValueError is raised.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">languages</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;danish&quot;</span><span class="p">,</span> <span class="s">&quot;dutch&quot;</span><span class="p">,</span> <span class="s">&quot;english&quot;</span><span class="p">,</span> <span class="s">&quot;finnish&quot;</span><span class="p">,</span> <span class="s">&quot;french&quot;</span><span class="p">,</span> <span class="s">&quot;german&quot;</span><span class="p">,</span>
                 <span class="s">&quot;hungarian&quot;</span><span class="p">,</span> <span class="s">&quot;italian&quot;</span><span class="p">,</span> <span class="s">&quot;norwegian&quot;</span><span class="p">,</span> <span class="s">&quot;porter&quot;</span><span class="p">,</span> <span class="s">&quot;portuguese&quot;</span><span class="p">,</span>
                 <span class="s">&quot;romanian&quot;</span><span class="p">,</span> <span class="s">&quot;russian&quot;</span><span class="p">,</span> <span class="s">&quot;spanish&quot;</span><span class="p">,</span> <span class="s">&quot;swedish&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="p">,</span> <span class="n">ignore_stopwords</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">language</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">languages</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">u&quot;The language &#39;</span><span class="si">%s</span><span class="s">&#39; is not supported.&quot;</span> <span class="o">%</span> <span class="n">language</span><span class="p">)</span>
        <span class="n">stemmerclass</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()[</span><span class="n">language</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;Stemmer&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stemmer</span> <span class="o">=</span> <span class="n">stemmerclass</span><span class="p">(</span><span class="n">ignore_stopwords</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stemmer</span><span class="o">.</span><span class="n">stem</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stemmer</span><span class="o">.</span><span class="n">stopwords</span>

</div>
<span class="k">class</span> <span class="nc">_LanguageSpecificStemmer</span><span class="p">(</span><span class="n">StemmerI</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    This helper subclass offers the possibility</span>
<span class="sd">    to invoke a specific stemmer directly.</span>
<span class="sd">    This is useful if you already know the language to be stemmed at runtime.</span>

<span class="sd">    Create an instance of the Snowball stemmer.</span>

<span class="sd">    :param ignore_stopwords: If set to True, stopwords are</span>
<span class="sd">                             not stemmed and returned unchanged.</span>
<span class="sd">                             Set to False by default.</span>
<span class="sd">    :type ignore_stopwords: bool</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_stopwords</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="c"># The language is the name of the class, minus the final &quot;Stemmer&quot;.</span>
        <span class="n">language</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">language</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&quot;stemmer&quot;</span><span class="p">):</span>
            <span class="n">language</span> <span class="o">=</span> <span class="n">language</span><span class="p">[:</span><span class="o">-</span><span class="mi">7</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">ignore_stopwords</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="n">language</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&quot;utf-8&quot;</span><span class="p">))</span>
            <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%r</span><span class="s"> has no list of stopwords. Please set&quot;</span>
                                 <span class="s">&quot; &#39;ignore_stopwords&#39; to &#39;False&#39;.&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Print out the string representation of the respective class.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s">&quot;&lt;</span><span class="si">%s</span><span class="s">&gt;&quot;</span> <span class="o">%</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__name__</span>


<div class="viewcode-block" id="PorterStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.PorterStemmer">[docs]</a><span class="k">class</span> <span class="nc">PorterStemmer</span><span class="p">(</span><span class="n">_LanguageSpecificStemmer</span><span class="p">,</span> <span class="n">porter</span><span class="o">.</span><span class="n">PorterStemmer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A word stemmer based on the original Porter stemming algorithm.</span>

<span class="sd">        Porter, M. \&quot;An algorithm for suffix stripping.\&quot;</span>
<span class="sd">        Program 14.3 (1980): 130-137.</span>

<span class="sd">    A few minor modifications have been made to Porter&#39;s basic</span>
<span class="sd">    algorithm.  See the source code of the module</span>
<span class="sd">    nltk.stem.porter for more information.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_stopwords</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="n">_LanguageSpecificStemmer</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_stopwords</span><span class="p">)</span>
        <span class="n">porter</span><span class="o">.</span><span class="n">PorterStemmer</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

</div>
<span class="k">class</span> <span class="nc">_ScandinavianStemmer</span><span class="p">(</span><span class="n">_LanguageSpecificStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    This subclass encapsulates a method for defining the string region R1.</span>
<span class="sd">    It is used by the Danish, Norwegian, and Swedish stemmer.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_r1_scandinavian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">vowels</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Return the region R1 that is used by the Scandinavian stemmers.</span>

<span class="sd">        R1 is the region after the first non-vowel following a vowel,</span>
<span class="sd">        or is the null region at the end of the word if there is no</span>
<span class="sd">        such non-vowel. But then R1 is adjusted so that the region</span>
<span class="sd">        before it contains at least three letters.</span>

<span class="sd">        :param word: The word whose region R1 is determined.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :param vowels: The vowels of the respective language that are</span>
<span class="sd">                       used to determine the region R1.</span>
<span class="sd">        :type vowels: unicode</span>
<span class="sd">        :return: the region R1 for the respective word.</span>
<span class="sd">        :rtype: unicode</span>
<span class="sd">        :note: This helper method is invoked by the respective stem method of</span>
<span class="sd">               the subclasses DanishStemmer, NorwegianStemmer, and</span>
<span class="sd">               SwedishStemmer. It is not to be invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">word</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="n">r1</span>



<span class="k">class</span> <span class="nc">_StandardStemmer</span><span class="p">(</span><span class="n">_LanguageSpecificStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    This subclass encapsulates two methods for defining the standard versions</span>
<span class="sd">    of the string regions R1, R2, and RV.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_r1r2_standard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">vowels</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Return the standard interpretations of the string regions R1 and R2.</span>

<span class="sd">        R1 is the region after the first non-vowel following a vowel,</span>
<span class="sd">        or is the null region at the end of the word if there is no</span>
<span class="sd">        such non-vowel.</span>

<span class="sd">        R2 is the region after the first non-vowel following a vowel</span>
<span class="sd">        in R1, or is the null region at the end of the word if there</span>
<span class="sd">        is no such non-vowel.</span>

<span class="sd">        :param word: The word whose regions R1 and R2 are determined.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :param vowels: The vowels of the respective language that are</span>
<span class="sd">                       used to determine the regions R1 and R2.</span>
<span class="sd">        :type vowels: unicode</span>
<span class="sd">        :return: (r1,r2), the regions R1 and R2 for the respective word.</span>
<span class="sd">        :rtype: tuple</span>
<span class="sd">        :note: This helper method is invoked by the respective stem method of</span>
<span class="sd">               the subclasses DutchStemmer, FinnishStemmer,</span>
<span class="sd">               FrenchStemmer, GermanStemmer, ItalianStemmer,</span>
<span class="sd">               PortugueseStemmer, RomanianStemmer, and SpanishStemmer.</span>
<span class="sd">               It is not to be invoked directly!</span>
<span class="sd">        :note: A detailed description of how to define R1 and R2</span>
<span class="sd">               can be found at http://snowball.tartarus.org/texts/r1r2.html</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
                <span class="k">break</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">r2</span><span class="p">)</span>



    <span class="k">def</span> <span class="nf">_rv_standard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">vowels</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Return the standard interpretation of the string region RV.</span>

<span class="sd">        If the second letter is a consonant, RV is the region after the</span>
<span class="sd">        next following vowel. If the first two letters are vowels, RV is</span>
<span class="sd">        the region after the next following consonant. Otherwise, RV is</span>
<span class="sd">        the region after the third letter.</span>

<span class="sd">        :param word: The word whose region RV is determined.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :param vowels: The vowels of the respective language that are</span>
<span class="sd">                       used to determine the region RV.</span>
<span class="sd">        :type vowels: unicode</span>
<span class="sd">        :return: the region RV for the respective word.</span>
<span class="sd">        :rtype: unicode</span>
<span class="sd">        :note: This helper method is invoked by the respective stem method of</span>
<span class="sd">               the subclasses ItalianStemmer, PortugueseStemmer,</span>
<span class="sd">               RomanianStemmer, and SpanishStemmer. It is not to be</span>
<span class="sd">               invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
                        <span class="k">break</span>

            <span class="k">elif</span> <span class="n">word</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
                        <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>

        <span class="k">return</span> <span class="n">rv</span>



<div class="viewcode-block" id="DanishStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.DanishStemmer">[docs]</a><span class="k">class</span> <span class="nc">DanishStemmer</span><span class="p">(</span><span class="n">_ScandinavianStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The Danish Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Danish vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __consonants: The Danish consonants.</span>
<span class="sd">    :type __consonants: unicode</span>
<span class="sd">    :cvar __double_consonants: The Danish double consonants.</span>
<span class="sd">    :type __double_consonants: tuple</span>
<span class="sd">    :cvar __s_ending: Letters that may directly appear before a word final &#39;s&#39;.</span>
<span class="sd">    :type __s_ending: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Danish</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/danish/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c"># The language&#39;s vowels and other important characters are defined.</span>
    <span class="n">__vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiouy</span><span class="se">\xE6\xE5\xF8</span><span class="s">&quot;</span>
    <span class="n">__consonants</span> <span class="o">=</span> <span class="s">u&quot;bcdfghjklmnpqrstvwxz&quot;</span>
    <span class="n">__double_consonants</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;bb&quot;</span><span class="p">,</span> <span class="s">u&quot;cc&quot;</span><span class="p">,</span> <span class="s">u&quot;dd&quot;</span><span class="p">,</span> <span class="s">u&quot;ff&quot;</span><span class="p">,</span> <span class="s">u&quot;gg&quot;</span><span class="p">,</span> <span class="s">u&quot;hh&quot;</span><span class="p">,</span> <span class="s">u&quot;jj&quot;</span><span class="p">,</span>
                           <span class="s">u&quot;kk&quot;</span><span class="p">,</span> <span class="s">u&quot;ll&quot;</span><span class="p">,</span> <span class="s">u&quot;mm&quot;</span><span class="p">,</span> <span class="s">u&quot;nn&quot;</span><span class="p">,</span> <span class="s">u&quot;pp&quot;</span><span class="p">,</span> <span class="s">u&quot;qq&quot;</span><span class="p">,</span> <span class="s">u&quot;rr&quot;</span><span class="p">,</span>
                           <span class="s">u&quot;ss&quot;</span><span class="p">,</span> <span class="s">u&quot;tt&quot;</span><span class="p">,</span> <span class="s">u&quot;vv&quot;</span><span class="p">,</span> <span class="s">u&quot;ww&quot;</span><span class="p">,</span> <span class="s">u&quot;xx&quot;</span><span class="p">,</span> <span class="s">u&quot;zz&quot;</span><span class="p">)</span>
    <span class="n">__s_ending</span> <span class="o">=</span> <span class="s">u&quot;abcdfghjklmnoprtvyz</span><span class="se">\xE5</span><span class="s">&quot;</span>

    <span class="c"># The different suffixes, divided into the algorithm&#39;s steps</span>
    <span class="c"># and organized by length, are listed in tuples.</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;erendes&quot;</span><span class="p">,</span> <span class="s">u&quot;erende&quot;</span><span class="p">,</span> <span class="s">u&quot;hedens&quot;</span><span class="p">,</span> <span class="s">u&quot;ethed&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;erede&quot;</span><span class="p">,</span> <span class="s">u&quot;heden&quot;</span><span class="p">,</span> <span class="s">u&quot;heder&quot;</span><span class="p">,</span> <span class="s">u&quot;endes&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;ernes&quot;</span><span class="p">,</span> <span class="s">u&quot;erens&quot;</span><span class="p">,</span> <span class="s">u&quot;erets&quot;</span><span class="p">,</span> <span class="s">u&quot;ered&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;ende&quot;</span><span class="p">,</span> <span class="s">u&quot;erne&quot;</span><span class="p">,</span> <span class="s">u&quot;eren&quot;</span><span class="p">,</span> <span class="s">u&quot;erer&quot;</span><span class="p">,</span> <span class="s">u&quot;heds&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;enes&quot;</span><span class="p">,</span> <span class="s">u&quot;eres&quot;</span><span class="p">,</span> <span class="s">u&quot;eret&quot;</span><span class="p">,</span> <span class="s">u&quot;hed&quot;</span><span class="p">,</span> <span class="s">u&quot;ene&quot;</span><span class="p">,</span> <span class="s">u&quot;ere&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;ens&quot;</span><span class="p">,</span> <span class="s">u&quot;ers&quot;</span><span class="p">,</span> <span class="s">u&quot;ets&quot;</span><span class="p">,</span> <span class="s">u&quot;en&quot;</span><span class="p">,</span> <span class="s">u&quot;er&quot;</span><span class="p">,</span> <span class="s">u&quot;es&quot;</span><span class="p">,</span> <span class="s">u&quot;et&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="s">u&quot;s&quot;</span><span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;gd&quot;</span><span class="p">,</span> <span class="s">u&quot;dt&quot;</span><span class="p">,</span> <span class="s">u&quot;gt&quot;</span><span class="p">,</span> <span class="s">u&quot;kt&quot;</span><span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;elig&quot;</span><span class="p">,</span> <span class="s">u&quot;l</span><span class="se">\xF8</span><span class="s">st&quot;</span><span class="p">,</span> <span class="s">u&quot;lig&quot;</span><span class="p">,</span> <span class="s">u&quot;els&quot;</span><span class="p">,</span> <span class="s">u&quot;ig&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="DanishStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.DanishStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem a Danish word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># Every word is put into lower case for normalization.</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="c"># After this, the required regions are generated</span>
        <span class="c"># by the respective helper method.</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1_scandinavian</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c"># Then the actual stemming process starts.</span>
        <span class="c"># Every new step is explicitly indicated</span>
        <span class="c"># according to the descriptions on the Snowball website.</span>

        <span class="c"># STEP 1</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;s&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__s_ending</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 2</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c"># STEP 3</span>
        <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;igst&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;l</span><span class="se">\xF8</span><span class="s">st&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                    <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c"># STEP 4: Undouble</span>
        <span class="k">for</span> <span class="n">double_cons</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__double_consonants</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">double_cons</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>


        <span class="k">return</span> <span class="n">word</span>



</div></div>
<div class="viewcode-block" id="DutchStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.DutchStemmer">[docs]</a><span class="k">class</span> <span class="nc">DutchStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The Dutch Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Dutch vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step3b_suffixes: Suffixes to be deleted in step 3b of the algorithm.</span>
<span class="sd">    :type __step3b_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Dutch</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/dutch/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiouy</span><span class="se">\xE8</span><span class="s">&quot;</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;heden&quot;</span><span class="p">,</span> <span class="s">u&quot;ene&quot;</span><span class="p">,</span> <span class="s">u&quot;en&quot;</span><span class="p">,</span> <span class="s">u&quot;se&quot;</span><span class="p">,</span> <span class="s">u&quot;s&quot;</span><span class="p">)</span>
    <span class="n">__step3b_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;baar&quot;</span><span class="p">,</span> <span class="s">u&quot;lijk&quot;</span><span class="p">,</span> <span class="s">u&quot;bar&quot;</span><span class="p">,</span> <span class="s">u&quot;end&quot;</span><span class="p">,</span> <span class="s">u&quot;ing&quot;</span><span class="p">,</span> <span class="s">u&quot;ig&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="DutchStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.DutchStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem a Dutch word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step2_success</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="c"># Vowel accents are removed.</span>
        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE4</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xEB</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xED</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xEF</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xF6</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;o&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xF3</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;o&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xFC</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xFA</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;u&quot;</span><span class="p">))</span>

        <span class="c"># An initial &#39;y&#39;, a &#39;y&#39; after a vowel,</span>
        <span class="c"># and an &#39;i&#39; between self.__vowels is put into upper case.</span>
        <span class="c"># As from now these are treated as consonants.</span>
        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">u&quot;y&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="s">u&quot;Y&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;y&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;Y&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;i&quot;</span> <span class="ow">and</span>
               <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;I&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c"># R1 is adjusted so that the region before it</span>
        <span class="c"># contains at least 3 letters.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">word</span>
                <span class="k">break</span>

        <span class="c"># STEP 1</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;heden&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="s">u&quot;heid&quot;</span><span class="p">))</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="s">u&quot;heid&quot;</span><span class="p">))</span>
                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;heden&quot;</span><span class="p">):</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="s">u&quot;heid&quot;</span><span class="p">))</span>

                <span class="k">elif</span> <span class="p">(</span><span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ene&quot;</span><span class="p">,</span> <span class="s">u&quot;en&quot;</span><span class="p">)</span> <span class="ow">and</span>
                      <span class="ow">not</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;heden&quot;</span><span class="p">)</span> <span class="ow">and</span>
                      <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span>
                      <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">!=</span> <span class="s">u&quot;gem&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;kk&quot;</span><span class="p">,</span> <span class="s">u&quot;dd&quot;</span><span class="p">,</span> <span class="s">u&quot;tt&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                <span class="k">elif</span> <span class="p">(</span><span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;se&quot;</span><span class="p">,</span> <span class="s">u&quot;s&quot;</span><span class="p">)</span> <span class="ow">and</span>
                      <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span>
                      <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s">u&quot;j&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 2</span>
        <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;e&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
            <span class="n">step2_success</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;kk&quot;</span><span class="p">,</span> <span class="s">u&quot;dd&quot;</span><span class="p">,</span> <span class="s">u&quot;tt&quot;</span><span class="p">)):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c"># STEP 3a</span>
        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;heid&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span> <span class="o">!=</span> <span class="s">u&quot;c&quot;</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;en&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span>
                <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="s">u&quot;gem&quot;</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;kk&quot;</span><span class="p">,</span> <span class="s">u&quot;dd&quot;</span><span class="p">,</span> <span class="s">u&quot;tt&quot;</span><span class="p">)):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c"># STEP 3b: Derivational suffixes</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3b_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;end&quot;</span><span class="p">,</span> <span class="s">u&quot;ing&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;ig&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s">u&quot;e&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;kk&quot;</span><span class="p">,</span> <span class="s">u&quot;dd&quot;</span><span class="p">,</span> <span class="s">u&quot;tt&quot;</span><span class="p">)):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;ig&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s">u&quot;e&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;lijk&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;e&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;kk&quot;</span><span class="p">,</span> <span class="s">u&quot;dd&quot;</span><span class="p">,</span> <span class="s">u&quot;tt&quot;</span><span class="p">)):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;baar&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;bar&quot;</span> <span class="ow">and</span> <span class="n">step2_success</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c"># STEP 4: Undouble vowel</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s">u&quot;I&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;aa&quot;</span><span class="p">,</span> <span class="s">u&quot;ee&quot;</span><span class="p">,</span> <span class="s">u&quot;oo&quot;</span><span class="p">,</span> <span class="s">u&quot;uu&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>

        <span class="c"># All occurrences of &#39;I&#39; and &#39;Y&#39; are put back into lower case.</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;I&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;Y&quot;</span><span class="p">,</span> <span class="s">u&quot;y&quot;</span><span class="p">)</span>


        <span class="k">return</span> <span class="n">word</span>


</div></div>
<div class="viewcode-block" id="EnglishStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.EnglishStemmer">[docs]</a><span class="k">class</span> <span class="nc">EnglishStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The English Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The English vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __double_consonants: The English double consonants.</span>
<span class="sd">    :type __double_consonants: tuple</span>
<span class="sd">    :cvar __li_ending: Letters that may directly appear before a word final &#39;li&#39;.</span>
<span class="sd">    :type __li_ending: unicode</span>
<span class="sd">    :cvar __step0_suffixes: Suffixes to be deleted in step 0 of the algorithm.</span>
<span class="sd">    :type __step0_suffixes: tuple</span>
<span class="sd">    :cvar __step1a_suffixes: Suffixes to be deleted in step 1a of the algorithm.</span>
<span class="sd">    :type __step1a_suffixes: tuple</span>
<span class="sd">    :cvar __step1b_suffixes: Suffixes to be deleted in step 1b of the algorithm.</span>
<span class="sd">    :type __step1b_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :cvar __step4_suffixes: Suffixes to be deleted in step 4 of the algorithm.</span>
<span class="sd">    :type __step4_suffixes: tuple</span>
<span class="sd">    :cvar __step5_suffixes: Suffixes to be deleted in step 5 of the algorithm.</span>
<span class="sd">    :type __step5_suffixes: tuple</span>
<span class="sd">    :cvar __special_words: A dictionary containing words</span>
<span class="sd">                           which have to be stemmed specially.</span>
<span class="sd">    :type __special_words: dict</span>
<span class="sd">    :note: A detailed description of the English</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/english/stemmer.html</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiouy&quot;</span>
    <span class="n">__double_consonants</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;bb&quot;</span><span class="p">,</span> <span class="s">u&quot;dd&quot;</span><span class="p">,</span> <span class="s">u&quot;ff&quot;</span><span class="p">,</span> <span class="s">u&quot;gg&quot;</span><span class="p">,</span> <span class="s">u&quot;mm&quot;</span><span class="p">,</span> <span class="s">u&quot;nn&quot;</span><span class="p">,</span>
                           <span class="s">u&quot;pp&quot;</span><span class="p">,</span> <span class="s">u&quot;rr&quot;</span><span class="p">,</span> <span class="s">u&quot;tt&quot;</span><span class="p">)</span>
    <span class="n">__li_ending</span> <span class="o">=</span> <span class="s">u&quot;cdeghkmnrt&quot;</span>
    <span class="n">__step0_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;&#39;s&#39;&quot;</span><span class="p">,</span> <span class="s">u&quot;&#39;s&quot;</span><span class="p">,</span> <span class="s">u&quot;&#39;&quot;</span><span class="p">)</span>
    <span class="n">__step1a_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;sses&quot;</span><span class="p">,</span> <span class="s">u&quot;ied&quot;</span><span class="p">,</span> <span class="s">u&quot;ies&quot;</span><span class="p">,</span> <span class="s">u&quot;us&quot;</span><span class="p">,</span> <span class="s">u&quot;ss&quot;</span><span class="p">,</span> <span class="s">u&quot;s&quot;</span><span class="p">)</span>
    <span class="n">__step1b_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;eedly&quot;</span><span class="p">,</span> <span class="s">u&quot;ingly&quot;</span><span class="p">,</span> <span class="s">u&quot;edly&quot;</span><span class="p">,</span> <span class="s">u&quot;eed&quot;</span><span class="p">,</span> <span class="s">u&quot;ing&quot;</span><span class="p">,</span> <span class="s">u&quot;ed&quot;</span><span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;ization&#39;</span><span class="p">,</span> <span class="s">u&#39;ational&#39;</span><span class="p">,</span> <span class="s">u&#39;fulness&#39;</span><span class="p">,</span> <span class="s">u&#39;ousness&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;iveness&#39;</span><span class="p">,</span> <span class="s">u&#39;tional&#39;</span><span class="p">,</span> <span class="s">u&#39;biliti&#39;</span><span class="p">,</span> <span class="s">u&#39;lessli&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;entli&#39;</span><span class="p">,</span> <span class="s">u&#39;ation&#39;</span><span class="p">,</span> <span class="s">u&#39;alism&#39;</span><span class="p">,</span> <span class="s">u&#39;aliti&#39;</span><span class="p">,</span> <span class="s">u&#39;ousli&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;iviti&#39;</span><span class="p">,</span> <span class="s">u&#39;fulli&#39;</span><span class="p">,</span> <span class="s">u&#39;enci&#39;</span><span class="p">,</span> <span class="s">u&#39;anci&#39;</span><span class="p">,</span> <span class="s">u&#39;abli&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;izer&#39;</span><span class="p">,</span> <span class="s">u&#39;ator&#39;</span><span class="p">,</span> <span class="s">u&#39;alli&#39;</span><span class="p">,</span> <span class="s">u&#39;bli&#39;</span><span class="p">,</span> <span class="s">u&#39;ogi&#39;</span><span class="p">,</span> <span class="s">u&#39;li&#39;</span><span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;ational&#39;</span><span class="p">,</span> <span class="s">u&#39;tional&#39;</span><span class="p">,</span> <span class="s">u&#39;alize&#39;</span><span class="p">,</span> <span class="s">u&#39;icate&#39;</span><span class="p">,</span> <span class="s">u&#39;iciti&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ative&#39;</span><span class="p">,</span> <span class="s">u&#39;ical&#39;</span><span class="p">,</span> <span class="s">u&#39;ness&#39;</span><span class="p">,</span> <span class="s">u&#39;ful&#39;</span><span class="p">)</span>
    <span class="n">__step4_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;ement&#39;</span><span class="p">,</span> <span class="s">u&#39;ance&#39;</span><span class="p">,</span> <span class="s">u&#39;ence&#39;</span><span class="p">,</span> <span class="s">u&#39;able&#39;</span><span class="p">,</span> <span class="s">u&#39;ible&#39;</span><span class="p">,</span> <span class="s">u&#39;ment&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ant&#39;</span><span class="p">,</span> <span class="s">u&#39;ent&#39;</span><span class="p">,</span> <span class="s">u&#39;ism&#39;</span><span class="p">,</span> <span class="s">u&#39;ate&#39;</span><span class="p">,</span> <span class="s">u&#39;iti&#39;</span><span class="p">,</span> <span class="s">u&#39;ous&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ive&#39;</span><span class="p">,</span> <span class="s">u&#39;ize&#39;</span><span class="p">,</span> <span class="s">u&#39;ion&#39;</span><span class="p">,</span> <span class="s">u&#39;al&#39;</span><span class="p">,</span> <span class="s">u&#39;er&#39;</span><span class="p">,</span> <span class="s">u&#39;ic&#39;</span><span class="p">)</span>
    <span class="n">__step5_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="s">u&quot;l&quot;</span><span class="p">)</span>
    <span class="n">__special_words</span> <span class="o">=</span> <span class="p">{</span><span class="s">u&quot;skis&quot;</span> <span class="p">:</span> <span class="s">u&quot;ski&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;skies&quot;</span> <span class="p">:</span> <span class="s">u&quot;sky&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;dying&quot;</span> <span class="p">:</span> <span class="s">u&quot;die&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;lying&quot;</span> <span class="p">:</span> <span class="s">u&quot;lie&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;tying&quot;</span> <span class="p">:</span> <span class="s">u&quot;tie&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;idly&quot;</span> <span class="p">:</span> <span class="s">u&quot;idl&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;gently&quot;</span> <span class="p">:</span> <span class="s">u&quot;gentl&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;ugly&quot;</span> <span class="p">:</span> <span class="s">u&quot;ugli&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;early&quot;</span> <span class="p">:</span> <span class="s">u&quot;earli&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;only&quot;</span> <span class="p">:</span> <span class="s">u&quot;onli&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;singly&quot;</span> <span class="p">:</span> <span class="s">u&quot;singl&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;sky&quot;</span> <span class="p">:</span> <span class="s">u&quot;sky&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;news&quot;</span> <span class="p">:</span> <span class="s">u&quot;news&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;howe&quot;</span> <span class="p">:</span> <span class="s">u&quot;howe&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;atlas&quot;</span> <span class="p">:</span> <span class="s">u&quot;atlas&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;cosmos&quot;</span> <span class="p">:</span> <span class="s">u&quot;cosmos&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;bias&quot;</span> <span class="p">:</span> <span class="s">u&quot;bias&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;andes&quot;</span> <span class="p">:</span> <span class="s">u&quot;andes&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;inning&quot;</span> <span class="p">:</span> <span class="s">u&quot;inning&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;innings&quot;</span> <span class="p">:</span> <span class="s">u&quot;inning&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;outing&quot;</span> <span class="p">:</span> <span class="s">u&quot;outing&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;outings&quot;</span> <span class="p">:</span> <span class="s">u&quot;outing&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;canning&quot;</span> <span class="p">:</span> <span class="s">u&quot;canning&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;cannings&quot;</span> <span class="p">:</span> <span class="s">u&quot;canning&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;herring&quot;</span> <span class="p">:</span> <span class="s">u&quot;herring&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;herrings&quot;</span> <span class="p">:</span> <span class="s">u&quot;herring&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;earring&quot;</span> <span class="p">:</span> <span class="s">u&quot;earring&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;earrings&quot;</span> <span class="p">:</span> <span class="s">u&quot;earring&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;proceed&quot;</span> <span class="p">:</span> <span class="s">u&quot;proceed&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;proceeds&quot;</span> <span class="p">:</span> <span class="s">u&quot;proceed&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;proceeded&quot;</span> <span class="p">:</span> <span class="s">u&quot;proceed&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;proceeding&quot;</span> <span class="p">:</span> <span class="s">u&quot;proceed&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;exceed&quot;</span> <span class="p">:</span> <span class="s">u&quot;exceed&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;exceeds&quot;</span> <span class="p">:</span> <span class="s">u&quot;exceed&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;exceeded&quot;</span> <span class="p">:</span> <span class="s">u&quot;exceed&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;exceeding&quot;</span> <span class="p">:</span> <span class="s">u&quot;exceed&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;succeed&quot;</span> <span class="p">:</span> <span class="s">u&quot;succeed&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;succeeds&quot;</span> <span class="p">:</span> <span class="s">u&quot;succeed&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;succeeded&quot;</span> <span class="p">:</span> <span class="s">u&quot;succeed&quot;</span><span class="p">,</span>
                       <span class="s">u&quot;succeeding&quot;</span> <span class="p">:</span> <span class="s">u&quot;succeed&quot;</span><span class="p">}</span>

<div class="viewcode-block" id="EnglishStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.EnglishStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>

        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem an English word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="k">elif</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__special_words</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__special_words</span><span class="p">[</span><span class="n">word</span><span class="p">]</span>

        <span class="c"># Map the different apostrophe characters to a single consistent one</span>
        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u2019</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\x27</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u2018</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\x27</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u201B</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\x27</span><span class="s">&quot;</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\x27</span><span class="s">&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">u&quot;y&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="s">u&quot;Y&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;y&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;Y&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

        <span class="n">step1a_vowel_found</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">step1b_vowel_found</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s">u&quot;gener&quot;</span><span class="p">,</span> <span class="s">u&quot;commun&quot;</span><span class="p">,</span> <span class="s">u&quot;arsen&quot;</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s">u&quot;gener&quot;</span><span class="p">,</span> <span class="s">u&quot;arsen&quot;</span><span class="p">)):</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">5</span><span class="p">:]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">6</span><span class="p">:]</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
                    <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>


        <span class="c"># STEP 0</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step0_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 1a</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1a_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>

                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;sses&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ied&quot;</span><span class="p">,</span> <span class="s">u&quot;ies&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)])</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;s&quot;</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                            <span class="n">step1a_vowel_found</span> <span class="o">=</span> <span class="bp">True</span>
                            <span class="k">break</span>

                    <span class="k">if</span> <span class="n">step1a_vowel_found</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c"># STEP 1b</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1b_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;eed&quot;</span><span class="p">,</span> <span class="s">u&quot;eedly&quot;</span><span class="p">):</span>

                    <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ee&quot;</span><span class="p">))</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ee&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ee&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]:</span>
                        <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                            <span class="n">step1b_vowel_found</span> <span class="o">=</span> <span class="bp">True</span>
                            <span class="k">break</span>

                    <span class="k">if</span> <span class="n">step1b_vowel_found</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;at&quot;</span><span class="p">,</span> <span class="s">u&quot;bl&quot;</span><span class="p">,</span> <span class="s">u&quot;iz&quot;</span><span class="p">)):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>

                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span><span class="mi">3</span><span class="p">:</span>
                                <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>

                        <span class="k">elif</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__double_consonants</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                        <span class="k">elif</span> <span class="p">((</span><span class="n">r1</span> <span class="o">==</span> <span class="s">u&quot;&quot;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span> <span class="ow">and</span>
                               <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span>
                               <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s">u&quot;wxY&quot;</span> <span class="ow">and</span>
                               <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span>
                               <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>
                              <span class="ow">or</span>
                              <span class="p">(</span><span class="n">r1</span> <span class="o">==</span> <span class="s">u&quot;&quot;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span>
                               <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span>
                               <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)):</span>

                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>

                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>

                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                <span class="k">break</span>

        <span class="c"># STEP 1c</span>
        <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="s">u&quot;yY&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;i&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;i&quot;</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;i&quot;</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

        <span class="c"># STEP 2</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;tional&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;enci&quot;</span><span class="p">,</span> <span class="s">u&quot;anci&quot;</span><span class="p">,</span> <span class="s">u&quot;abli&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;entli&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;izer&quot;</span><span class="p">,</span> <span class="s">u&quot;ization&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ize&quot;</span><span class="p">))</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ize&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ize&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ational&quot;</span><span class="p">,</span> <span class="s">u&quot;ation&quot;</span><span class="p">,</span> <span class="s">u&quot;ator&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ate&quot;</span><span class="p">))</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ate&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ate&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;e&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;alism&quot;</span><span class="p">,</span> <span class="s">u&quot;aliti&quot;</span><span class="p">,</span> <span class="s">u&quot;alli&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;al&quot;</span><span class="p">))</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;al&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;al&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;fulness&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ousli&quot;</span><span class="p">,</span> <span class="s">u&quot;ousness&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ous&quot;</span><span class="p">))</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ous&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ous&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;iveness&quot;</span><span class="p">,</span> <span class="s">u&quot;iviti&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ive&quot;</span><span class="p">))</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ive&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ive&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;e&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;biliti&quot;</span><span class="p">,</span> <span class="s">u&quot;bli&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ble&quot;</span><span class="p">))</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ble&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ble&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;ogi&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;l&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;fulli&quot;</span><span class="p">,</span> <span class="s">u&quot;lessli&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;li&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__li_ending</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c"># STEP 3</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;tional&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;ational&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ate&quot;</span><span class="p">))</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ate&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ate&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;alize&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;icate&quot;</span><span class="p">,</span> <span class="s">u&quot;iciti&quot;</span><span class="p">,</span> <span class="s">u&quot;ical&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ic&quot;</span><span class="p">))</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ic&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ic&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ful&quot;</span><span class="p">,</span> <span class="s">u&quot;ness&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;ative&quot;</span> <span class="ow">and</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c"># STEP 4</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step4_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;ion&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="ow">in</span> <span class="s">u&quot;st&quot;</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 5</span>
        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;l&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;l&quot;</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;e&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;e&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span> <span class="ow">and</span> <span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">or</span>
                                   <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="s">u&quot;wxY&quot;</span> <span class="ow">or</span>
                                   <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">or</span>
                                   <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>


        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;Y&quot;</span><span class="p">,</span> <span class="s">u&quot;y&quot;</span><span class="p">)</span>


        <span class="k">return</span> <span class="n">word</span>


</div></div>
<div class="viewcode-block" id="FinnishStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.FinnishStemmer">[docs]</a><span class="k">class</span> <span class="nc">FinnishStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The Finnish Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Finnish vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __restricted_vowels: A subset of the Finnish vowels.</span>
<span class="sd">    :type __restricted_vowels: unicode</span>
<span class="sd">    :cvar __long_vowels: The Finnish vowels in their long forms.</span>
<span class="sd">    :type __long_vowels: tuple</span>
<span class="sd">    :cvar __consonants: The Finnish consonants.</span>
<span class="sd">    :type __consonants: unicode</span>
<span class="sd">    :cvar __double_consonants: The Finnish double consonants.</span>
<span class="sd">    :type __double_consonants: tuple</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :cvar __step4_suffixes: Suffixes to be deleted in step 4 of the algorithm.</span>
<span class="sd">    :type __step4_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Finnish</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/finnish/stemmer.html</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiouy</span><span class="se">\xE4\xF6</span><span class="s">&quot;</span>
    <span class="n">__restricted_vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiou</span><span class="se">\xE4\xF6</span><span class="s">&quot;</span>
    <span class="n">__long_vowels</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;aa&quot;</span><span class="p">,</span> <span class="s">u&quot;ee&quot;</span><span class="p">,</span> <span class="s">u&quot;ii&quot;</span><span class="p">,</span> <span class="s">u&quot;oo&quot;</span><span class="p">,</span> <span class="s">u&quot;uu&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE4\xE4</span><span class="s">&quot;</span><span class="p">,</span>
                     <span class="s">u&quot;</span><span class="se">\xF6\xF6</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="n">__consonants</span> <span class="o">=</span> <span class="s">u&quot;bcdfghjklmnpqrstvwxz&quot;</span>
    <span class="n">__double_consonants</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;bb&quot;</span><span class="p">,</span> <span class="s">u&quot;cc&quot;</span><span class="p">,</span> <span class="s">u&quot;dd&quot;</span><span class="p">,</span> <span class="s">u&quot;ff&quot;</span><span class="p">,</span> <span class="s">u&quot;gg&quot;</span><span class="p">,</span> <span class="s">u&quot;hh&quot;</span><span class="p">,</span> <span class="s">u&quot;jj&quot;</span><span class="p">,</span>
                           <span class="s">u&quot;kk&quot;</span><span class="p">,</span> <span class="s">u&quot;ll&quot;</span><span class="p">,</span> <span class="s">u&quot;mm&quot;</span><span class="p">,</span> <span class="s">u&quot;nn&quot;</span><span class="p">,</span> <span class="s">u&quot;pp&quot;</span><span class="p">,</span> <span class="s">u&quot;qq&quot;</span><span class="p">,</span> <span class="s">u&quot;rr&quot;</span><span class="p">,</span>
                           <span class="s">u&quot;ss&quot;</span><span class="p">,</span> <span class="s">u&quot;tt&quot;</span><span class="p">,</span> <span class="s">u&quot;vv&quot;</span><span class="p">,</span> <span class="s">u&quot;ww&quot;</span><span class="p">,</span> <span class="s">u&quot;xx&quot;</span><span class="p">,</span> <span class="s">u&quot;zz&quot;</span><span class="p">)</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;kaan&#39;</span><span class="p">,</span> <span class="s">u&#39;k</span><span class="se">\xE4\xE4</span><span class="s">n&#39;</span><span class="p">,</span> <span class="s">u&#39;sti&#39;</span><span class="p">,</span> <span class="s">u&#39;kin&#39;</span><span class="p">,</span> <span class="s">u&#39;han&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;h</span><span class="se">\xE4</span><span class="s">n&#39;</span><span class="p">,</span> <span class="s">u&#39;ko&#39;</span><span class="p">,</span> <span class="s">u&#39;k</span><span class="se">\xF6</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;pa&#39;</span><span class="p">,</span> <span class="s">u&#39;p</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;nsa&#39;</span><span class="p">,</span> <span class="s">u&#39;ns</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;mme&#39;</span><span class="p">,</span> <span class="s">u&#39;nne&#39;</span><span class="p">,</span> <span class="s">u&#39;si&#39;</span><span class="p">,</span> <span class="s">u&#39;ni&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;an&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE4</span><span class="s">n&#39;</span><span class="p">,</span> <span class="s">u&#39;en&#39;</span><span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;siin&#39;</span><span class="p">,</span> <span class="s">u&#39;tten&#39;</span><span class="p">,</span> <span class="s">u&#39;seen&#39;</span><span class="p">,</span> <span class="s">u&#39;han&#39;</span><span class="p">,</span> <span class="s">u&#39;hen&#39;</span><span class="p">,</span> <span class="s">u&#39;hin&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;hon&#39;</span><span class="p">,</span> <span class="s">u&#39;h</span><span class="se">\xE4</span><span class="s">n&#39;</span><span class="p">,</span> <span class="s">u&#39;h</span><span class="se">\xF6</span><span class="s">n&#39;</span><span class="p">,</span> <span class="s">u&#39;den&#39;</span><span class="p">,</span> <span class="s">u&#39;tta&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;tt</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ssa&#39;</span><span class="p">,</span> <span class="s">u&#39;ss</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;sta&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;st</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;lla&#39;</span><span class="p">,</span> <span class="s">u&#39;ll</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;lta&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;lt</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;lle&#39;</span><span class="p">,</span> <span class="s">u&#39;ksi&#39;</span><span class="p">,</span> <span class="s">u&#39;ine&#39;</span><span class="p">,</span> <span class="s">u&#39;ta&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;t</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;na&#39;</span><span class="p">,</span> <span class="s">u&#39;n</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;a&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;n&#39;</span><span class="p">)</span>
    <span class="n">__step4_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;impi&#39;</span><span class="p">,</span> <span class="s">u&#39;impa&#39;</span><span class="p">,</span> <span class="s">u&#39;imp</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;immi&#39;</span><span class="p">,</span> <span class="s">u&#39;imma&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;imm</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;mpi&#39;</span><span class="p">,</span> <span class="s">u&#39;mpa&#39;</span><span class="p">,</span> <span class="s">u&#39;mp</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;mmi&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;mma&#39;</span><span class="p">,</span> <span class="s">u&#39;mm</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;eja&#39;</span><span class="p">,</span> <span class="s">u&#39;ej</span><span class="se">\xE4</span><span class="s">&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="FinnishStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.FinnishStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem a Finnish word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step3_success</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c"># STEP 1: Particles etc.</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;sti&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="s">u&quot;ntaeiouy</span><span class="se">\xE4\xF6</span><span class="s">&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 2: Possessives</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;si&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s">u&quot;k&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;ni&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;kse&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="s">u&quot;ksi&quot;</span><span class="p">))</span>

                    <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;kse&quot;</span><span class="p">):</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="s">u&quot;ksi&quot;</span><span class="p">))</span>

                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;kse&quot;</span><span class="p">):</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="s">u&quot;ksi&quot;</span><span class="p">))</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;an&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ta&quot;</span><span class="p">,</span> <span class="s">u&quot;na&quot;</span><span class="p">)</span> <span class="ow">or</span>
                        <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ssa&quot;</span><span class="p">,</span> <span class="s">u&quot;sta&quot;</span><span class="p">,</span> <span class="s">u&quot;lla&quot;</span><span class="p">,</span> <span class="s">u&quot;lta&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;</span><span class="se">\xE4</span><span class="s">n&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;t</span><span class="se">\xE4</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;n</span><span class="se">\xE4</span><span class="s">&quot;</span><span class="p">)</span> <span class="ow">or</span>
                        <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ss</span><span class="se">\xE4</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;st</span><span class="se">\xE4</span><span class="s">&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;ll</span><span class="se">\xE4</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;lt</span><span class="se">\xE4</span><span class="s">&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;en&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;lle&quot;</span><span class="p">,</span> <span class="s">u&quot;ine&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c"># STEP 3: Cases</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;han&quot;</span><span class="p">,</span> <span class="s">u&quot;hen&quot;</span><span class="p">,</span> <span class="s">u&quot;hin&quot;</span><span class="p">,</span> <span class="s">u&quot;hon&quot;</span><span class="p">,</span> <span class="s">u&quot;h</span><span class="se">\xE4</span><span class="s">n&quot;</span><span class="p">,</span>
                              <span class="s">u&quot;h</span><span class="se">\xF6</span><span class="s">n&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">((</span><span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;han&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;a&quot;</span><span class="p">)</span> <span class="ow">or</span>
                        <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;hen&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;e&quot;</span><span class="p">)</span> <span class="ow">or</span>
                        <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;hin&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;i&quot;</span><span class="p">)</span> <span class="ow">or</span>
                        <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;hon&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;o&quot;</span><span class="p">)</span> <span class="ow">or</span>
                        <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;h</span><span class="se">\xE4</span><span class="s">n&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;</span><span class="se">\xE4</span><span class="s">&quot;</span><span class="p">)</span> <span class="ow">or</span>
                        <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;h</span><span class="se">\xF6</span><span class="s">n&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;</span><span class="se">\xF6</span><span class="s">&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">step3_success</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;siin&quot;</span><span class="p">,</span> <span class="s">u&quot;den&quot;</span><span class="p">,</span> <span class="s">u&quot;tten&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;i&quot;</span> <span class="ow">and</span>
                        <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__restricted_vowels</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">step3_success</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">continue</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;seen&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">6</span><span class="p">:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__long_vowels</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="n">step3_success</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">continue</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;a&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE4</span><span class="s">&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__consonants</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">step3_success</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;tta&quot;</span><span class="p">,</span> <span class="s">u&quot;tt</span><span class="se">\xE4</span><span class="s">&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;e&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">step3_success</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;n&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">step3_success</span> <span class="o">=</span> <span class="bp">True</span>

                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s">u&quot;ie&quot;</span> <span class="ow">or</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__long_vowels</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step3_success</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="k">break</span>

        <span class="c"># STEP 4: Other endings</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step4_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;mpi&quot;</span><span class="p">,</span> <span class="s">u&quot;mpa&quot;</span><span class="p">,</span> <span class="s">u&quot;mp</span><span class="se">\xE4</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;mmi&quot;</span><span class="p">,</span> <span class="s">u&quot;mma&quot;</span><span class="p">,</span>
                              <span class="s">u&quot;mm</span><span class="se">\xE4</span><span class="s">&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s">u&quot;po&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 5: Plurals</span>
        <span class="k">if</span> <span class="n">step3_success</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="s">u&quot;ij&quot;</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">elif</span> <span class="p">(</span><span class="ow">not</span> <span class="n">step3_success</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="ow">and</span>
              <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;t&quot;</span> <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;imma&quot;</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;mma&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">r2</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s">u&quot;po&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

        <span class="c"># STEP 6: Tidying up</span>
        <span class="k">if</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__long_vowels</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__consonants</span> <span class="ow">and</span>
            <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="s">u&quot;a</span><span class="se">\xE4</span><span class="s">ei&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;oj&quot;</span><span class="p">,</span> <span class="s">u&quot;uj&quot;</span><span class="p">)):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;jo&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c"># If the word ends with a double consonant</span>
        <span class="c"># followed by zero or more vowels, the last consonant is removed.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__double_consonants</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__double_consonants</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="n">i</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>
                <span class="k">break</span>


        <span class="k">return</span> <span class="n">word</span>


</div></div>
<div class="viewcode-block" id="FrenchStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.FrenchStemmer">[docs]</a><span class="k">class</span> <span class="nc">FrenchStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The French Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The French vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2a_suffixes: Suffixes to be deleted in step 2a of the algorithm.</span>
<span class="sd">    :type __step2a_suffixes: tuple</span>
<span class="sd">    :cvar __step2b_suffixes: Suffixes to be deleted in step 2b of the algorithm.</span>
<span class="sd">    :type __step2b_suffixes: tuple</span>
<span class="sd">    :cvar __step4_suffixes: Suffixes to be deleted in step 4 of the algorithm.</span>
<span class="sd">    :type __step4_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the French</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/french/stemmer.html</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiouy</span><span class="se">\xE2\xE0\xEB\xE9\xEA\xE8\xEF\xEE\xF4\xFB\xF9</span><span class="s">&quot;</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;issements&#39;</span><span class="p">,</span> <span class="s">u&#39;issement&#39;</span><span class="p">,</span> <span class="s">u&#39;atrices&#39;</span><span class="p">,</span> <span class="s">u&#39;atrice&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ateurs&#39;</span><span class="p">,</span> <span class="s">u&#39;ations&#39;</span><span class="p">,</span> <span class="s">u&#39;logies&#39;</span><span class="p">,</span> <span class="s">u&#39;usions&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;utions&#39;</span><span class="p">,</span> <span class="s">u&#39;ements&#39;</span><span class="p">,</span> <span class="s">u&#39;amment&#39;</span><span class="p">,</span> <span class="s">u&#39;emment&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ances&#39;</span><span class="p">,</span> <span class="s">u&#39;iqUes&#39;</span><span class="p">,</span> <span class="s">u&#39;ismes&#39;</span><span class="p">,</span> <span class="s">u&#39;ables&#39;</span><span class="p">,</span> <span class="s">u&#39;istes&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ateur&#39;</span><span class="p">,</span> <span class="s">u&#39;ation&#39;</span><span class="p">,</span> <span class="s">u&#39;logie&#39;</span><span class="p">,</span> <span class="s">u&#39;usion&#39;</span><span class="p">,</span> <span class="s">u&#39;ution&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ences&#39;</span><span class="p">,</span> <span class="s">u&#39;ement&#39;</span><span class="p">,</span> <span class="s">u&#39;euses&#39;</span><span class="p">,</span> <span class="s">u&#39;ments&#39;</span><span class="p">,</span> <span class="s">u&#39;ance&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;iqUe&#39;</span><span class="p">,</span> <span class="s">u&#39;isme&#39;</span><span class="p">,</span> <span class="s">u&#39;able&#39;</span><span class="p">,</span> <span class="s">u&#39;iste&#39;</span><span class="p">,</span> <span class="s">u&#39;ence&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;it</span><span class="se">\xE9</span><span class="s">s&#39;</span><span class="p">,</span> <span class="s">u&#39;ives&#39;</span><span class="p">,</span> <span class="s">u&#39;eaux&#39;</span><span class="p">,</span> <span class="s">u&#39;euse&#39;</span><span class="p">,</span> <span class="s">u&#39;ment&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;eux&#39;</span><span class="p">,</span> <span class="s">u&#39;it</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ive&#39;</span><span class="p">,</span> <span class="s">u&#39;ifs&#39;</span><span class="p">,</span> <span class="s">u&#39;aux&#39;</span><span class="p">,</span> <span class="s">u&#39;if&#39;</span><span class="p">)</span>
    <span class="n">__step2a_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;issaIent&#39;</span><span class="p">,</span> <span class="s">u&#39;issantes&#39;</span><span class="p">,</span> <span class="s">u&#39;iraIent&#39;</span><span class="p">,</span> <span class="s">u&#39;issante&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;issants&#39;</span><span class="p">,</span> <span class="s">u&#39;issions&#39;</span><span class="p">,</span> <span class="s">u&#39;irions&#39;</span><span class="p">,</span> <span class="s">u&#39;issais&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;issait&#39;</span><span class="p">,</span> <span class="s">u&#39;issant&#39;</span><span class="p">,</span> <span class="s">u&#39;issent&#39;</span><span class="p">,</span> <span class="s">u&#39;issiez&#39;</span><span class="p">,</span> <span class="s">u&#39;issons&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;irais&#39;</span><span class="p">,</span> <span class="s">u&#39;irait&#39;</span><span class="p">,</span> <span class="s">u&#39;irent&#39;</span><span class="p">,</span> <span class="s">u&#39;iriez&#39;</span><span class="p">,</span> <span class="s">u&#39;irons&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;iront&#39;</span><span class="p">,</span> <span class="s">u&#39;isses&#39;</span><span class="p">,</span> <span class="s">u&#39;issez&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xEE</span><span class="s">mes&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;</span><span class="se">\xEE</span><span class="s">tes&#39;</span><span class="p">,</span> <span class="s">u&#39;irai&#39;</span><span class="p">,</span> <span class="s">u&#39;iras&#39;</span><span class="p">,</span> <span class="s">u&#39;irez&#39;</span><span class="p">,</span> <span class="s">u&#39;isse&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ies&#39;</span><span class="p">,</span> <span class="s">u&#39;ira&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xEE</span><span class="s">t&#39;</span><span class="p">,</span> <span class="s">u&#39;ie&#39;</span><span class="p">,</span> <span class="s">u&#39;ir&#39;</span><span class="p">,</span> <span class="s">u&#39;is&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;it&#39;</span><span class="p">,</span> <span class="s">u&#39;i&#39;</span><span class="p">)</span>
    <span class="n">__step2b_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;eraIent&#39;</span><span class="p">,</span> <span class="s">u&#39;assions&#39;</span><span class="p">,</span> <span class="s">u&#39;erions&#39;</span><span class="p">,</span> <span class="s">u&#39;assent&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;assiez&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE8</span><span class="s">rent&#39;</span><span class="p">,</span> <span class="s">u&#39;erais&#39;</span><span class="p">,</span> <span class="s">u&#39;erait&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;eriez&#39;</span><span class="p">,</span> <span class="s">u&#39;erons&#39;</span><span class="p">,</span> <span class="s">u&#39;eront&#39;</span><span class="p">,</span> <span class="s">u&#39;aIent&#39;</span><span class="p">,</span> <span class="s">u&#39;antes&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;asses&#39;</span><span class="p">,</span> <span class="s">u&#39;ions&#39;</span><span class="p">,</span> <span class="s">u&#39;erai&#39;</span><span class="p">,</span> <span class="s">u&#39;eras&#39;</span><span class="p">,</span> <span class="s">u&#39;erez&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">mes&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">tes&#39;</span><span class="p">,</span> <span class="s">u&#39;ante&#39;</span><span class="p">,</span> <span class="s">u&#39;ants&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;asse&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">es&#39;</span><span class="p">,</span> <span class="s">u&#39;era&#39;</span><span class="p">,</span> <span class="s">u&#39;iez&#39;</span><span class="p">,</span> <span class="s">u&#39;ais&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ait&#39;</span><span class="p">,</span> <span class="s">u&#39;ant&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">e&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">s&#39;</span><span class="p">,</span> <span class="s">u&#39;er&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ez&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">t&#39;</span><span class="p">,</span> <span class="s">u&#39;ai&#39;</span><span class="p">,</span> <span class="s">u&#39;as&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;a&#39;</span><span class="p">)</span>
    <span class="n">__step4_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;i</span><span class="se">\xE8</span><span class="s">re&#39;</span><span class="p">,</span> <span class="s">u&#39;I</span><span class="se">\xE8</span><span class="s">re&#39;</span><span class="p">,</span> <span class="s">u&#39;ion&#39;</span><span class="p">,</span> <span class="s">u&#39;ier&#39;</span><span class="p">,</span> <span class="s">u&#39;Ier&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;e&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xEB</span><span class="s">&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="FrenchStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.FrenchStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem a French word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">rv_ending_found</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">step2a_success</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">step2b_success</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="c"># Every occurrence of &#39;u&#39; after &#39;q&#39; is put into upper case.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;q&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;u&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;U&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

        <span class="c"># Every occurrence of &#39;u&#39; and &#39;i&#39;</span>
        <span class="c"># between vowels is put into upper case.</span>
        <span class="c"># Every occurrence of &#39;y&#39; preceded or</span>
        <span class="c"># followed by a vowel is also put into upper case.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;u&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;U&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

                <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;i&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;I&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">or</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;y&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;Y&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rv_french</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c"># STEP 1: Standard suffix removal</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;eaux&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;euse&quot;</span><span class="p">,</span> <span class="s">u&quot;euses&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;eux&quot;</span><span class="p">))</span>
                        <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ement&quot;</span><span class="p">,</span> <span class="s">u&quot;ements&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s">u&quot;iv&quot;</span> <span class="ow">and</span> <span class="s">u&quot;iv&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s">u&quot;at&quot;</span> <span class="ow">and</span> <span class="s">u&quot;at&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span> <span class="o">==</span> <span class="s">u&quot;eus&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s">u&quot;eus&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="k">elif</span> <span class="s">u&quot;eus&quot;</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;x&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;abl&quot;</span><span class="p">,</span> <span class="s">u&quot;iqU&quot;</span><span class="p">):</span>
                        <span class="k">if</span> <span class="s">u&quot;abl&quot;</span> <span class="ow">in</span> <span class="n">r2</span> <span class="ow">or</span> <span class="s">u&quot;iqU&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;i</span><span class="se">\xE8</span><span class="s">r&quot;</span><span class="p">,</span> <span class="s">u&quot;I</span><span class="se">\xE8</span><span class="s">r&quot;</span><span class="p">):</span>
                        <span class="k">if</span> <span class="s">u&quot;i</span><span class="se">\xE8</span><span class="s">r&quot;</span> <span class="ow">in</span> <span class="n">rv</span> <span class="ow">or</span> <span class="s">u&quot;I</span><span class="se">\xE8</span><span class="s">r&quot;</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="s">u&quot;i&quot;</span><span class="p">))</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;amment&quot;</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">],</span> <span class="s">u&quot;ant&quot;</span><span class="p">))</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">],</span> <span class="s">u&quot;ant&quot;</span><span class="p">))</span>
                    <span class="n">rv_ending_found</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;emment&quot;</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">],</span> <span class="s">u&quot;ent&quot;</span><span class="p">))</span>
                    <span class="n">rv_ending_found</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="p">(</span><span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ment&quot;</span><span class="p">,</span> <span class="s">u&quot;ments&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span> <span class="ow">and</span>
                      <span class="ow">not</span> <span class="n">rv</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span>
                      <span class="n">rv</span><span class="p">[</span><span class="n">rv</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv_ending_found</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;aux&quot;</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s">u&quot;l&quot;</span><span class="p">))</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="p">(</span><span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;issement&quot;</span><span class="p">,</span> <span class="s">u&quot;issements&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r1</span>
                      <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ance&quot;</span><span class="p">,</span> <span class="s">u&quot;iqUe&quot;</span><span class="p">,</span> <span class="s">u&quot;isme&quot;</span><span class="p">,</span> <span class="s">u&quot;able&quot;</span><span class="p">,</span> <span class="s">u&quot;iste&quot;</span><span class="p">,</span>
                              <span class="s">u&quot;eux&quot;</span><span class="p">,</span> <span class="s">u&quot;ances&quot;</span><span class="p">,</span> <span class="s">u&quot;iqUes&quot;</span><span class="p">,</span> <span class="s">u&quot;ismes&quot;</span><span class="p">,</span>
                              <span class="s">u&quot;ables&quot;</span><span class="p">,</span> <span class="s">u&quot;istes&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;atrice&quot;</span><span class="p">,</span> <span class="s">u&quot;ateur&quot;</span><span class="p">,</span> <span class="s">u&quot;ation&quot;</span><span class="p">,</span> <span class="s">u&quot;atrices&quot;</span><span class="p">,</span>
                                <span class="s">u&quot;ateurs&quot;</span><span class="p">,</span> <span class="s">u&quot;ations&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s">u&quot;ic&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s">u&quot;ic&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s">u&quot;iqU&quot;</span><span class="p">))</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;logie&quot;</span><span class="p">,</span> <span class="s">u&quot;logies&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;log&quot;</span><span class="p">))</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="p">(</span><span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;usion&quot;</span><span class="p">,</span> <span class="s">u&quot;ution&quot;</span><span class="p">,</span> <span class="s">u&quot;usions&quot;</span><span class="p">,</span> <span class="s">u&quot;utions&quot;</span><span class="p">)</span> <span class="ow">and</span>
                      <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;u&quot;</span><span class="p">))</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ence&quot;</span><span class="p">,</span> <span class="s">u&quot;ences&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ent&quot;</span><span class="p">))</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;it</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;it</span><span class="se">\xE9</span><span class="s">s&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span> <span class="o">==</span> <span class="s">u&quot;abil&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s">u&quot;abil&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s">u&quot;l&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s">u&quot;ic&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s">u&quot;ic&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s">u&quot;iqU&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s">u&quot;iv&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s">u&quot;iv&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="p">(</span><span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;if&quot;</span><span class="p">,</span> <span class="s">u&quot;ive&quot;</span><span class="p">,</span> <span class="s">u&quot;ifs&quot;</span><span class="p">,</span> <span class="s">u&quot;ives&quot;</span><span class="p">)</span> <span class="ow">and</span>
                      <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s">u&quot;at&quot;</span> <span class="ow">and</span> <span class="s">u&quot;at&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s">u&quot;ic&quot;</span><span class="p">:</span>
                            <span class="k">if</span> <span class="s">u&quot;ic&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s">u&quot;iqU&quot;</span><span class="p">))</span>
                <span class="k">break</span>

        <span class="c"># STEP 2a: Verb suffixes beginning &#39;i&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span> <span class="ow">or</span> <span class="n">rv_ending_found</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2a_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">rv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span>
                        <span class="n">rv</span><span class="p">[</span><span class="n">rv</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">step2a_success</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="k">break</span>

        <span class="c"># STEP 2b: Other verb suffixes</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">step2a_success</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2b_suffixes</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;ions&quot;</span> <span class="ow">and</span> <span class="s">u&quot;ions&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                            <span class="n">step2b_success</span> <span class="o">=</span> <span class="bp">True</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&#39;eraIent&#39;</span><span class="p">,</span> <span class="s">u&#39;erions&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE8</span><span class="s">rent&#39;</span><span class="p">,</span>
                                        <span class="s">u&#39;erais&#39;</span><span class="p">,</span> <span class="s">u&#39;erait&#39;</span><span class="p">,</span> <span class="s">u&#39;eriez&#39;</span><span class="p">,</span>
                                        <span class="s">u&#39;erons&#39;</span><span class="p">,</span> <span class="s">u&#39;eront&#39;</span><span class="p">,</span> <span class="s">u&#39;erai&#39;</span><span class="p">,</span> <span class="s">u&#39;eras&#39;</span><span class="p">,</span>
                                        <span class="s">u&#39;erez&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">es&#39;</span><span class="p">,</span> <span class="s">u&#39;era&#39;</span><span class="p">,</span> <span class="s">u&#39;iez&#39;</span><span class="p">,</span>
                                        <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">e&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">s&#39;</span><span class="p">,</span> <span class="s">u&#39;er&#39;</span><span class="p">,</span> <span class="s">u&#39;ez&#39;</span><span class="p">,</span>
                                        <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">step2b_success</span> <span class="o">=</span> <span class="bp">True</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&#39;assions&#39;</span><span class="p">,</span> <span class="s">u&#39;assent&#39;</span><span class="p">,</span> <span class="s">u&#39;assiez&#39;</span><span class="p">,</span>
                                        <span class="s">u&#39;aIent&#39;</span><span class="p">,</span> <span class="s">u&#39;antes&#39;</span><span class="p">,</span> <span class="s">u&#39;asses&#39;</span><span class="p">,</span>
                                        <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">mes&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">tes&#39;</span><span class="p">,</span> <span class="s">u&#39;ante&#39;</span><span class="p">,</span>
                                        <span class="s">u&#39;ants&#39;</span><span class="p">,</span> <span class="s">u&#39;asse&#39;</span><span class="p">,</span> <span class="s">u&#39;ais&#39;</span><span class="p">,</span> <span class="s">u&#39;ait&#39;</span><span class="p">,</span>
                                        <span class="s">u&#39;ant&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">t&#39;</span><span class="p">,</span> <span class="s">u&#39;ai&#39;</span><span class="p">,</span> <span class="s">u&#39;as&#39;</span><span class="p">,</span>
                                        <span class="s">u&#39;a&#39;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">step2b_success</span> <span class="o">=</span> <span class="bp">True</span>
                            <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;e&quot;</span><span class="p">):</span>
                                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">break</span>

        <span class="c"># STEP 3</span>
        <span class="k">if</span> <span class="n">step1_success</span> <span class="ow">or</span> <span class="n">step2a_success</span> <span class="ow">or</span> <span class="n">step2b_success</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;Y&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;i&quot;</span><span class="p">))</span>
            <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;</span><span class="se">\xE7</span><span class="s">&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;c&quot;</span><span class="p">))</span>

        <span class="c"># STEP 4: Residual suffixes</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;s&quot;</span> <span class="ow">and</span>
                <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s">u&quot;aiou</span><span class="se">\xE8</span><span class="s">s&quot;</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step4_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;ion&quot;</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span> <span class="ow">and</span>
                            <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="ow">in</span> <span class="s">u&quot;st&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ier&quot;</span><span class="p">,</span> <span class="s">u&quot;i</span><span class="se">\xE8</span><span class="s">re&quot;</span><span class="p">,</span> <span class="s">u&quot;Ier&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;I</span><span class="se">\xE8</span><span class="s">re&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;i&quot;</span><span class="p">))</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;e&quot;</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;</span><span class="se">\xEB</span><span class="s">&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;gu&quot;</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">break</span>

        <span class="c"># STEP 5: Undouble</span>
        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;enn&quot;</span><span class="p">,</span> <span class="s">u&quot;onn&quot;</span><span class="p">,</span> <span class="s">u&quot;ett&quot;</span><span class="p">,</span> <span class="s">u&quot;ell&quot;</span><span class="p">,</span> <span class="s">u&quot;eill&quot;</span><span class="p">)):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c"># STEP 6: Un-accent</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE8</span><span class="s">&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>
                <span class="k">break</span>

        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;I&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;U&quot;</span><span class="p">,</span> <span class="s">u&quot;u&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;Y&quot;</span><span class="p">,</span> <span class="s">u&quot;y&quot;</span><span class="p">))</span>


        <span class="k">return</span> <span class="n">word</span>


</div>
    <span class="k">def</span> <span class="nf">__rv_french</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">vowels</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Return the region RV that is used by the French stemmer.</span>

<span class="sd">        If the word begins with two vowels, RV is the region after</span>
<span class="sd">        the third letter. Otherwise, it is the region after the first</span>
<span class="sd">        vowel not at the beginning of the word, or the end of the word</span>
<span class="sd">        if these positions cannot be found. (Exceptionally, u&#39;par&#39;,</span>
<span class="sd">        u&#39;col&#39; or u&#39;tap&#39; at the beginning of a word is also taken to</span>
<span class="sd">        define RV as the region to their right.)</span>

<span class="sd">        :param word: The French word whose region RV is determined.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :param vowels: The French vowels that are used to determine</span>
<span class="sd">                       the region RV.</span>
<span class="sd">        :type vowels: unicode</span>
<span class="sd">        :return: the region RV for the respective French word.</span>
<span class="sd">        :rtype: unicode</span>
<span class="sd">        :note: This helper method is invoked by the stem method of</span>
<span class="sd">               the subclass FrenchStemmer. It is not to be invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s">u&quot;par&quot;</span><span class="p">,</span> <span class="s">u&quot;col&quot;</span><span class="p">,</span> <span class="s">u&quot;tap&quot;</span><span class="p">))</span> <span class="ow">or</span>
                <span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">)):</span>
                <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
                        <span class="k">break</span>

        <span class="k">return</span> <span class="n">rv</span>


</div>
<div class="viewcode-block" id="GermanStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.GermanStemmer">[docs]</a><span class="k">class</span> <span class="nc">GermanStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The German Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The German vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __s_ending: Letters that may directly appear before a word final &#39;s&#39;.</span>
<span class="sd">    :type __s_ending: unicode</span>
<span class="sd">    :cvar __st_ending: Letter that may directly appear before a word final &#39;st&#39;.</span>
<span class="sd">    :type __st_ending: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the German</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/german/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiouy</span><span class="se">\xE4\xF6\xFC</span><span class="s">&quot;</span>
    <span class="n">__s_ending</span> <span class="o">=</span> <span class="s">u&quot;bdfghklmnrt&quot;</span>
    <span class="n">__st_ending</span> <span class="o">=</span> <span class="s">u&quot;bdfghklmnt&quot;</span>

    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;ern&quot;</span><span class="p">,</span> <span class="s">u&quot;em&quot;</span><span class="p">,</span> <span class="s">u&quot;er&quot;</span><span class="p">,</span> <span class="s">u&quot;en&quot;</span><span class="p">,</span> <span class="s">u&quot;es&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="s">u&quot;s&quot;</span><span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;est&quot;</span><span class="p">,</span> <span class="s">u&quot;en&quot;</span><span class="p">,</span> <span class="s">u&quot;er&quot;</span><span class="p">,</span> <span class="s">u&quot;st&quot;</span><span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;isch&quot;</span><span class="p">,</span> <span class="s">u&quot;lich&quot;</span><span class="p">,</span> <span class="s">u&quot;heit&quot;</span><span class="p">,</span> <span class="s">u&quot;keit&quot;</span><span class="p">,</span>
                          <span class="s">u&quot;end&quot;</span><span class="p">,</span> <span class="s">u&quot;ung&quot;</span><span class="p">,</span> <span class="s">u&quot;ig&quot;</span><span class="p">,</span> <span class="s">u&quot;ik&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="GermanStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.GermanStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem a German word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xDF</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;ss&quot;</span><span class="p">)</span>

        <span class="c"># Every occurrence of &#39;u&#39; and &#39;y&#39;</span>
        <span class="c"># between vowels is put into upper case.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;u&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;U&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

                <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;y&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;Y&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c"># R1 is adjusted so that the region before it</span>
        <span class="c"># contains at least 3 letters.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">word</span>
                <span class="k">break</span>

        <span class="c"># STEP 1</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;en&quot;</span><span class="p">,</span> <span class="s">u&quot;es&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">)</span> <span class="ow">and</span>
                    <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s">u&quot;niss&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;s&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__s_ending</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 2</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;st&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__st_ending</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 3: Derivational suffixes</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;end&quot;</span><span class="p">,</span> <span class="s">u&quot;ung&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="s">u&quot;ig&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="ow">and</span>
                        <span class="s">u&quot;e&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">]):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                <span class="k">elif</span> <span class="p">(</span><span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ig&quot;</span><span class="p">,</span> <span class="s">u&quot;ik&quot;</span><span class="p">,</span> <span class="s">u&quot;isch&quot;</span><span class="p">)</span> <span class="ow">and</span>
                      <span class="s">u&quot;e&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;lich&quot;</span><span class="p">,</span> <span class="s">u&quot;heit&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="s">u&quot;er&quot;</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="ow">or</span>
                        <span class="s">u&quot;en&quot;</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;keit&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="s">u&quot;lich&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="s">u&quot;ig&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># Umlaut accents are removed and</span>
        <span class="c"># &#39;u&#39; and &#39;y&#39; are put back into lower case.</span>
        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE4</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xF6</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;o&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xFC</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;U&quot;</span><span class="p">,</span> <span class="s">u&quot;u&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;Y&quot;</span><span class="p">,</span> <span class="s">u&quot;y&quot;</span><span class="p">))</span>


        <span class="k">return</span> <span class="n">word</span>


</div></div>
<div class="viewcode-block" id="HungarianStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.HungarianStemmer">[docs]</a><span class="k">class</span> <span class="nc">HungarianStemmer</span><span class="p">(</span><span class="n">_LanguageSpecificStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The Hungarian Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Hungarian vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __digraphs: The Hungarian digraphs.</span>
<span class="sd">    :type __digraphs: tuple</span>
<span class="sd">    :cvar __double_consonants: The Hungarian double consonants.</span>
<span class="sd">    :type __double_consonants: tuple</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :cvar __step4_suffixes: Suffixes to be deleted in step 4 of the algorithm.</span>
<span class="sd">    :type __step4_suffixes: tuple</span>
<span class="sd">    :cvar __step5_suffixes: Suffixes to be deleted in step 5 of the algorithm.</span>
<span class="sd">    :type __step5_suffixes: tuple</span>
<span class="sd">    :cvar __step6_suffixes: Suffixes to be deleted in step 6 of the algorithm.</span>
<span class="sd">    :type __step6_suffixes: tuple</span>
<span class="sd">    :cvar __step7_suffixes: Suffixes to be deleted in step 7 of the algorithm.</span>
<span class="sd">    :type __step7_suffixes: tuple</span>
<span class="sd">    :cvar __step8_suffixes: Suffixes to be deleted in step 8 of the algorithm.</span>
<span class="sd">    :type __step8_suffixes: tuple</span>
<span class="sd">    :cvar __step9_suffixes: Suffixes to be deleted in step 9 of the algorithm.</span>
<span class="sd">    :type __step9_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Hungarian</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/hungarian/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiou</span><span class="se">\xF6\xFC\xE1\xE9\xED\xF3\xF5\xFA\xFB</span><span class="s">&quot;</span>
    <span class="n">__digraphs</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;cs&quot;</span><span class="p">,</span> <span class="s">u&quot;dz&quot;</span><span class="p">,</span> <span class="s">u&quot;dzs&quot;</span><span class="p">,</span> <span class="s">u&quot;gy&quot;</span><span class="p">,</span> <span class="s">u&quot;ly&quot;</span><span class="p">,</span> <span class="s">u&quot;ny&quot;</span><span class="p">,</span> <span class="s">u&quot;ty&quot;</span><span class="p">,</span> <span class="s">u&quot;zs&quot;</span><span class="p">)</span>
    <span class="n">__double_consonants</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;bb&quot;</span><span class="p">,</span> <span class="s">u&quot;cc&quot;</span><span class="p">,</span> <span class="s">u&quot;ccs&quot;</span><span class="p">,</span> <span class="s">u&quot;dd&quot;</span><span class="p">,</span> <span class="s">u&quot;ff&quot;</span><span class="p">,</span> <span class="s">u&quot;gg&quot;</span><span class="p">,</span>
                             <span class="s">u&quot;ggy&quot;</span><span class="p">,</span> <span class="s">u&quot;jj&quot;</span><span class="p">,</span> <span class="s">u&quot;kk&quot;</span><span class="p">,</span> <span class="s">u&quot;ll&quot;</span><span class="p">,</span> <span class="s">u&quot;lly&quot;</span><span class="p">,</span> <span class="s">u&quot;mm&quot;</span><span class="p">,</span>
                             <span class="s">u&quot;nn&quot;</span><span class="p">,</span> <span class="s">u&quot;nny&quot;</span><span class="p">,</span> <span class="s">u&quot;pp&quot;</span><span class="p">,</span> <span class="s">u&quot;rr&quot;</span><span class="p">,</span> <span class="s">u&quot;ss&quot;</span><span class="p">,</span> <span class="s">u&quot;ssz&quot;</span><span class="p">,</span>
                             <span class="s">u&quot;tt&quot;</span><span class="p">,</span> <span class="s">u&quot;tty&quot;</span><span class="p">,</span> <span class="s">u&quot;vv&quot;</span><span class="p">,</span> <span class="s">u&quot;zz&quot;</span><span class="p">,</span> <span class="s">u&quot;zzs&quot;</span><span class="p">)</span>

    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;al&quot;</span><span class="p">,</span> <span class="s">u&quot;el&quot;</span><span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;k</span><span class="se">\xE9</span><span class="s">ppen&#39;</span><span class="p">,</span> <span class="s">u&#39;onk</span><span class="se">\xE9</span><span class="s">nt&#39;</span><span class="p">,</span> <span class="s">u&#39;enk</span><span class="se">\xE9</span><span class="s">nt&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ank</span><span class="se">\xE9</span><span class="s">nt&#39;</span><span class="p">,</span> <span class="s">u&#39;k</span><span class="se">\xE9</span><span class="s">pp&#39;</span><span class="p">,</span> <span class="s">u&#39;k</span><span class="se">\xE9</span><span class="s">nt&#39;</span><span class="p">,</span> <span class="s">u&#39;ban&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ben&#39;</span><span class="p">,</span> <span class="s">u&#39;nak&#39;</span><span class="p">,</span> <span class="s">u&#39;nek&#39;</span><span class="p">,</span> <span class="s">u&#39;val&#39;</span><span class="p">,</span> <span class="s">u&#39;vel&#39;</span><span class="p">,</span> <span class="s">u&#39;t</span><span class="se">\xF3</span><span class="s">l&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;t</span><span class="se">\xF5</span><span class="s">l&#39;</span><span class="p">,</span> <span class="s">u&#39;r</span><span class="se">\xF3</span><span class="s">l&#39;</span><span class="p">,</span> <span class="s">u&#39;r</span><span class="se">\xF5</span><span class="s">l&#39;</span><span class="p">,</span> <span class="s">u&#39;b</span><span class="se">\xF3</span><span class="s">l&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;b</span><span class="se">\xF5</span><span class="s">l&#39;</span><span class="p">,</span> <span class="s">u&#39;hoz&#39;</span><span class="p">,</span> <span class="s">u&#39;hez&#39;</span><span class="p">,</span> <span class="s">u&#39;h</span><span class="se">\xF6</span><span class="s">z&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;n</span><span class="se">\xE1</span><span class="s">l&#39;</span><span class="p">,</span> <span class="s">u&#39;n</span><span class="se">\xE9</span><span class="s">l&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">rt&#39;</span><span class="p">,</span> <span class="s">u&#39;kor&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ba&#39;</span><span class="p">,</span> <span class="s">u&#39;be&#39;</span><span class="p">,</span> <span class="s">u&#39;ra&#39;</span><span class="p">,</span> <span class="s">u&#39;re&#39;</span><span class="p">,</span> <span class="s">u&#39;ig&#39;</span><span class="p">,</span> <span class="s">u&#39;at&#39;</span><span class="p">,</span> <span class="s">u&#39;et&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ot&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xF6</span><span class="s">t&#39;</span><span class="p">,</span> <span class="s">u&#39;ul&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xFC</span><span class="s">l&#39;</span><span class="p">,</span> <span class="s">u&#39;v</span><span class="se">\xE1</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;v</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;en&#39;</span><span class="p">,</span> <span class="s">u&#39;on&#39;</span><span class="p">,</span> <span class="s">u&#39;an&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xF6</span><span class="s">n&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;n&#39;</span><span class="p">,</span> <span class="s">u&#39;t&#39;</span><span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">nk</span><span class="se">\xE9</span><span class="s">nt&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">n&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">n&quot;</span><span class="p">)</span>
    <span class="n">__step4_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;astul&#39;</span><span class="p">,</span> <span class="s">u&#39;est</span><span class="se">\xFC</span><span class="s">l&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">stul&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">st</span><span class="se">\xFC</span><span class="s">l&#39;</span><span class="p">,</span> <span class="s">u&#39;stul&#39;</span><span class="p">,</span> <span class="s">u&#39;st</span><span class="se">\xFC</span><span class="s">l&#39;</span><span class="p">)</span>
    <span class="n">__step5_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="n">__step6_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;ok</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xF6</span><span class="s">k</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ak</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ek</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">k</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1\xE9</span><span class="s">i&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">k</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9\xE9</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;k</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9\xE9</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">)</span>
    <span class="n">__step7_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">juk&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">j</span><span class="se">\xFC</span><span class="s">k&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xFC</span><span class="s">nk&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;unk&#39;</span><span class="p">,</span> <span class="s">u&#39;juk&#39;</span><span class="p">,</span> <span class="s">u&#39;j</span><span class="se">\xFC</span><span class="s">k&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">nk&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">nk&#39;</span><span class="p">,</span> <span class="s">u&#39;nk&#39;</span><span class="p">,</span> <span class="s">u&#39;uk&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xFC</span><span class="s">k&#39;</span><span class="p">,</span> <span class="s">u&#39;em&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;om&#39;</span><span class="p">,</span> <span class="s">u&#39;am&#39;</span><span class="p">,</span> <span class="s">u&#39;od&#39;</span><span class="p">,</span> <span class="s">u&#39;ed&#39;</span><span class="p">,</span> <span class="s">u&#39;ad&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xF6</span><span class="s">d&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ja&#39;</span><span class="p">,</span> <span class="s">u&#39;je&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">m&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">d&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">m&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">d&#39;</span><span class="p">,</span> <span class="s">u&#39;m&#39;</span><span class="p">,</span> <span class="s">u&#39;d&#39;</span><span class="p">,</span> <span class="s">u&#39;a&#39;</span><span class="p">,</span> <span class="s">u&#39;e&#39;</span><span class="p">,</span> <span class="s">u&#39;o&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">)</span>
    <span class="n">__step8_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;jaitok&#39;</span><span class="p">,</span> <span class="s">u&#39;jeitek&#39;</span><span class="p">,</span> <span class="s">u&#39;jaink&#39;</span><span class="p">,</span> <span class="s">u&#39;jeink&#39;</span><span class="p">,</span> <span class="s">u&#39;aitok&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;eitek&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">itok&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">itek&#39;</span><span class="p">,</span> <span class="s">u&#39;jaim&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;jeim&#39;</span><span class="p">,</span> <span class="s">u&#39;jaid&#39;</span><span class="p">,</span> <span class="s">u&#39;jeid&#39;</span><span class="p">,</span> <span class="s">u&#39;eink&#39;</span><span class="p">,</span> <span class="s">u&#39;aink&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;itek&#39;</span><span class="p">,</span> <span class="s">u&#39;jeik&#39;</span><span class="p">,</span> <span class="s">u&#39;jaik&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">ink&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">ink&#39;</span><span class="p">,</span> <span class="s">u&#39;aim&#39;</span><span class="p">,</span> <span class="s">u&#39;eim&#39;</span><span class="p">,</span> <span class="s">u&#39;aid&#39;</span><span class="p">,</span> <span class="s">u&#39;eid&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;jai&#39;</span><span class="p">,</span> <span class="s">u&#39;jei&#39;</span><span class="p">,</span> <span class="s">u&#39;ink&#39;</span><span class="p">,</span> <span class="s">u&#39;aik&#39;</span><span class="p">,</span> <span class="s">u&#39;eik&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">im&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">id&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">ik&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">im&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">id&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">ik&#39;</span><span class="p">,</span> <span class="s">u&#39;im&#39;</span><span class="p">,</span> <span class="s">u&#39;id&#39;</span><span class="p">,</span> <span class="s">u&#39;ai&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ei&#39;</span><span class="p">,</span> <span class="s">u&#39;ik&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;i&#39;</span><span class="p">)</span>
    <span class="n">__step9_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">k&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">k&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xF6</span><span class="s">k&quot;</span><span class="p">,</span> <span class="s">u&quot;ok&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;ek&quot;</span><span class="p">,</span> <span class="s">u&quot;ak&quot;</span><span class="p">,</span> <span class="s">u&quot;k&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="HungarianStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.HungarianStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem an Hungarian word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">r1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__r1_hungarian</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__digraphs</span><span class="p">)</span>

        <span class="c"># STEP 1: Remove instrumental case</span>
        <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">double_cons</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__double_consonants</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">double_cons</span><span class="p">):</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">double_cons</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]))</span>

                    <span class="k">if</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">double_cons</span><span class="p">):</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">double_cons</span><span class="p">:</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]))</span>
                    <span class="k">break</span>

        <span class="c"># STEP 2: Remove frequent cases</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                    <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;a&quot;</span><span class="p">))</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;a&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                <span class="k">break</span>

        <span class="c"># STEP 3: Remove special cases</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">n&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;a&quot;</span><span class="p">))</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;a&quot;</span><span class="p">))</span>
                <span class="k">break</span>

        <span class="c"># STEP 4: Remove other cases</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step4_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">stul&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="s">u&quot;a&quot;</span><span class="p">))</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="s">u&quot;a&quot;</span><span class="p">))</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">st</span><span class="se">\xFC</span><span class="s">l&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 5: Remove factive case</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step5_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">double_cons</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__double_consonants</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">double_cons</span><span class="p">):</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">double_cons</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]))</span>

                        <span class="k">if</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">double_cons</span><span class="p">):</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">double_cons</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]))</span>
                        <span class="k">break</span>

        <span class="c"># STEP 6: Remove owned</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step6_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">k</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE1\xE9</span><span class="s">i&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="s">u&quot;a&quot;</span><span class="p">))</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="s">u&quot;a&quot;</span><span class="p">))</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">k</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9\xE9</span><span class="s">i&quot;</span><span class="p">,</span>
                                <span class="s">u&quot;</span><span class="se">\xE9\xE9</span><span class="s">&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 7: Remove singular owner suffixes</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step7_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">nk&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">juk&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">m&quot;</span><span class="p">,</span>
                                  <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">d&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;a&quot;</span><span class="p">))</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;a&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">nk&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">j</span><span class="se">\xFC</span><span class="s">k&quot;</span><span class="p">,</span>
                                    <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">m&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">d&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 8: Remove plural owner suffixes</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step8_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">im&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">id&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">i&quot;</span><span class="p">,</span>
                                  <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">ink&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">itok&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">ik&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;a&quot;</span><span class="p">))</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;a&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">im&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">id&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">i&quot;</span><span class="p">,</span>
                                    <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">ink&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">itek&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">ik&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 9: Remove plural suffixes</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step9_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">k&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s">u&quot;a&quot;</span><span class="p">))</span>
                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">k&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>


        <span class="k">return</span> <span class="n">word</span>


</div>
    <span class="k">def</span> <span class="nf">__r1_hungarian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">vowels</span><span class="p">,</span> <span class="n">digraphs</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Return the region R1 that is used by the Hungarian stemmer.</span>

<span class="sd">        If the word begins with a vowel, R1 is defined as the region</span>
<span class="sd">        after the first consonant or digraph (= two letters stand for</span>
<span class="sd">        one phoneme) in the word. If the word begins with a consonant,</span>
<span class="sd">        it is defined as the region after the first vowel in the word.</span>
<span class="sd">        If the word does not contain both a vowel and consonant, R1</span>
<span class="sd">        is the null region at the end of the word.</span>

<span class="sd">        :param word: The Hungarian word whose region R1 is determined.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :param vowels: The Hungarian vowels that are used to determine</span>
<span class="sd">                       the region R1.</span>
<span class="sd">        :type vowels: unicode</span>
<span class="sd">        :param digraphs: The digraphs that are used to determine the</span>
<span class="sd">                         region R1.</span>
<span class="sd">        :type digraphs: tuple</span>
<span class="sd">        :return: the region R1 for the respective word.</span>
<span class="sd">        :rtype: unicode</span>
<span class="sd">        :note: This helper method is invoked by the stem method of the subclass</span>
<span class="sd">               HungarianStemmer. It is not to be invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>
        <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">digraph</span> <span class="ow">in</span> <span class="n">digraphs</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">digraph</span> <span class="ow">in</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">word</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">digraph</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
                    <span class="k">return</span> <span class="n">r1</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
                    <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
                    <span class="k">break</span>

        <span class="k">return</span> <span class="n">r1</span>


</div>
<div class="viewcode-block" id="ItalianStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.ItalianStemmer">[docs]</a><span class="k">class</span> <span class="nc">ItalianStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The Italian Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Italian vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __step0_suffixes: Suffixes to be deleted in step 0 of the algorithm.</span>
<span class="sd">    :type __step0_suffixes: tuple</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Italian</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/italian/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiou</span><span class="se">\xE0\xE8\xEC\xF2\xF9</span><span class="s">&quot;</span>
    <span class="n">__step0_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;gliela&#39;</span><span class="p">,</span> <span class="s">u&#39;gliele&#39;</span><span class="p">,</span> <span class="s">u&#39;glieli&#39;</span><span class="p">,</span> <span class="s">u&#39;glielo&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;gliene&#39;</span><span class="p">,</span> <span class="s">u&#39;sene&#39;</span><span class="p">,</span> <span class="s">u&#39;mela&#39;</span><span class="p">,</span> <span class="s">u&#39;mele&#39;</span><span class="p">,</span> <span class="s">u&#39;meli&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;melo&#39;</span><span class="p">,</span> <span class="s">u&#39;mene&#39;</span><span class="p">,</span> <span class="s">u&#39;tela&#39;</span><span class="p">,</span> <span class="s">u&#39;tele&#39;</span><span class="p">,</span> <span class="s">u&#39;teli&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;telo&#39;</span><span class="p">,</span> <span class="s">u&#39;tene&#39;</span><span class="p">,</span> <span class="s">u&#39;cela&#39;</span><span class="p">,</span> <span class="s">u&#39;cele&#39;</span><span class="p">,</span> <span class="s">u&#39;celi&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;celo&#39;</span><span class="p">,</span> <span class="s">u&#39;cene&#39;</span><span class="p">,</span> <span class="s">u&#39;vela&#39;</span><span class="p">,</span> <span class="s">u&#39;vele&#39;</span><span class="p">,</span> <span class="s">u&#39;veli&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;velo&#39;</span><span class="p">,</span> <span class="s">u&#39;vene&#39;</span><span class="p">,</span> <span class="s">u&#39;gli&#39;</span><span class="p">,</span> <span class="s">u&#39;ci&#39;</span><span class="p">,</span> <span class="s">u&#39;la&#39;</span><span class="p">,</span> <span class="s">u&#39;le&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;li&#39;</span><span class="p">,</span> <span class="s">u&#39;lo&#39;</span><span class="p">,</span> <span class="s">u&#39;mi&#39;</span><span class="p">,</span> <span class="s">u&#39;ne&#39;</span><span class="p">,</span> <span class="s">u&#39;si&#39;</span><span class="p">,</span> <span class="s">u&#39;ti&#39;</span><span class="p">,</span> <span class="s">u&#39;vi&#39;</span><span class="p">)</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;atrice&#39;</span><span class="p">,</span> <span class="s">u&#39;atrici&#39;</span><span class="p">,</span> <span class="s">u&#39;azione&#39;</span><span class="p">,</span> <span class="s">u&#39;azioni&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;uzione&#39;</span><span class="p">,</span> <span class="s">u&#39;uzioni&#39;</span><span class="p">,</span> <span class="s">u&#39;usione&#39;</span><span class="p">,</span> <span class="s">u&#39;usioni&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;amento&#39;</span><span class="p">,</span> <span class="s">u&#39;amenti&#39;</span><span class="p">,</span> <span class="s">u&#39;imento&#39;</span><span class="p">,</span> <span class="s">u&#39;imenti&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;amente&#39;</span><span class="p">,</span> <span class="s">u&#39;abile&#39;</span><span class="p">,</span> <span class="s">u&#39;abili&#39;</span><span class="p">,</span> <span class="s">u&#39;ibile&#39;</span><span class="p">,</span> <span class="s">u&#39;ibili&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;mente&#39;</span><span class="p">,</span> <span class="s">u&#39;atore&#39;</span><span class="p">,</span> <span class="s">u&#39;atori&#39;</span><span class="p">,</span> <span class="s">u&#39;logia&#39;</span><span class="p">,</span> <span class="s">u&#39;logie&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;anza&#39;</span><span class="p">,</span> <span class="s">u&#39;anze&#39;</span><span class="p">,</span> <span class="s">u&#39;iche&#39;</span><span class="p">,</span> <span class="s">u&#39;ichi&#39;</span><span class="p">,</span> <span class="s">u&#39;ismo&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ismi&#39;</span><span class="p">,</span> <span class="s">u&#39;ista&#39;</span><span class="p">,</span> <span class="s">u&#39;iste&#39;</span><span class="p">,</span> <span class="s">u&#39;isti&#39;</span><span class="p">,</span> <span class="s">u&#39;ist</span><span class="se">\xE0</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ist</span><span class="se">\xE8</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ist</span><span class="se">\xEC</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ante&#39;</span><span class="p">,</span> <span class="s">u&#39;anti&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;enza&#39;</span><span class="p">,</span> <span class="s">u&#39;enze&#39;</span><span class="p">,</span> <span class="s">u&#39;ico&#39;</span><span class="p">,</span> <span class="s">u&#39;ici&#39;</span><span class="p">,</span> <span class="s">u&#39;ica&#39;</span><span class="p">,</span> <span class="s">u&#39;ice&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;oso&#39;</span><span class="p">,</span> <span class="s">u&#39;osi&#39;</span><span class="p">,</span> <span class="s">u&#39;osa&#39;</span><span class="p">,</span> <span class="s">u&#39;ose&#39;</span><span class="p">,</span> <span class="s">u&#39;it</span><span class="se">\xE0</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ivo&#39;</span><span class="p">,</span> <span class="s">u&#39;ivi&#39;</span><span class="p">,</span> <span class="s">u&#39;iva&#39;</span><span class="p">,</span> <span class="s">u&#39;ive&#39;</span><span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;erebbero&#39;</span><span class="p">,</span> <span class="s">u&#39;irebbero&#39;</span><span class="p">,</span> <span class="s">u&#39;assero&#39;</span><span class="p">,</span> <span class="s">u&#39;assimo&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;eranno&#39;</span><span class="p">,</span> <span class="s">u&#39;erebbe&#39;</span><span class="p">,</span> <span class="s">u&#39;eremmo&#39;</span><span class="p">,</span> <span class="s">u&#39;ereste&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;eresti&#39;</span><span class="p">,</span> <span class="s">u&#39;essero&#39;</span><span class="p">,</span> <span class="s">u&#39;iranno&#39;</span><span class="p">,</span> <span class="s">u&#39;irebbe&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;iremmo&#39;</span><span class="p">,</span> <span class="s">u&#39;ireste&#39;</span><span class="p">,</span> <span class="s">u&#39;iresti&#39;</span><span class="p">,</span> <span class="s">u&#39;iscano&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;iscono&#39;</span><span class="p">,</span> <span class="s">u&#39;issero&#39;</span><span class="p">,</span> <span class="s">u&#39;arono&#39;</span><span class="p">,</span> <span class="s">u&#39;avamo&#39;</span><span class="p">,</span> <span class="s">u&#39;avano&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;avate&#39;</span><span class="p">,</span> <span class="s">u&#39;eremo&#39;</span><span class="p">,</span> <span class="s">u&#39;erete&#39;</span><span class="p">,</span> <span class="s">u&#39;erono&#39;</span><span class="p">,</span> <span class="s">u&#39;evamo&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;evano&#39;</span><span class="p">,</span> <span class="s">u&#39;evate&#39;</span><span class="p">,</span> <span class="s">u&#39;iremo&#39;</span><span class="p">,</span> <span class="s">u&#39;irete&#39;</span><span class="p">,</span> <span class="s">u&#39;irono&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ivamo&#39;</span><span class="p">,</span> <span class="s">u&#39;ivano&#39;</span><span class="p">,</span> <span class="s">u&#39;ivate&#39;</span><span class="p">,</span> <span class="s">u&#39;ammo&#39;</span><span class="p">,</span> <span class="s">u&#39;ando&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;asse&#39;</span><span class="p">,</span> <span class="s">u&#39;assi&#39;</span><span class="p">,</span> <span class="s">u&#39;emmo&#39;</span><span class="p">,</span> <span class="s">u&#39;enda&#39;</span><span class="p">,</span> <span class="s">u&#39;ende&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;endi&#39;</span><span class="p">,</span> <span class="s">u&#39;endo&#39;</span><span class="p">,</span> <span class="s">u&#39;erai&#39;</span><span class="p">,</span> <span class="s">u&#39;erei&#39;</span><span class="p">,</span> <span class="s">u&#39;Yamo&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;iamo&#39;</span><span class="p">,</span> <span class="s">u&#39;immo&#39;</span><span class="p">,</span> <span class="s">u&#39;irai&#39;</span><span class="p">,</span> <span class="s">u&#39;irei&#39;</span><span class="p">,</span> <span class="s">u&#39;isca&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;isce&#39;</span><span class="p">,</span> <span class="s">u&#39;isci&#39;</span><span class="p">,</span> <span class="s">u&#39;isco&#39;</span><span class="p">,</span> <span class="s">u&#39;ano&#39;</span><span class="p">,</span> <span class="s">u&#39;are&#39;</span><span class="p">,</span> <span class="s">u&#39;ata&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ate&#39;</span><span class="p">,</span> <span class="s">u&#39;ati&#39;</span><span class="p">,</span> <span class="s">u&#39;ato&#39;</span><span class="p">,</span> <span class="s">u&#39;ava&#39;</span><span class="p">,</span> <span class="s">u&#39;avi&#39;</span><span class="p">,</span> <span class="s">u&#39;avo&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;er</span><span class="se">\xE0</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ere&#39;</span><span class="p">,</span> <span class="s">u&#39;er</span><span class="se">\xF2</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ete&#39;</span><span class="p">,</span> <span class="s">u&#39;eva&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;evi&#39;</span><span class="p">,</span> <span class="s">u&#39;evo&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\xE0</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ire&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\xF2</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ita&#39;</span><span class="p">,</span> <span class="s">u&#39;ite&#39;</span><span class="p">,</span> <span class="s">u&#39;iti&#39;</span><span class="p">,</span> <span class="s">u&#39;ito&#39;</span><span class="p">,</span> <span class="s">u&#39;iva&#39;</span><span class="p">,</span> <span class="s">u&#39;ivi&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ivo&#39;</span><span class="p">,</span> <span class="s">u&#39;ono&#39;</span><span class="p">,</span> <span class="s">u&#39;uta&#39;</span><span class="p">,</span> <span class="s">u&#39;ute&#39;</span><span class="p">,</span> <span class="s">u&#39;uti&#39;</span><span class="p">,</span> <span class="s">u&#39;uto&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ar&#39;</span><span class="p">,</span> <span class="s">u&#39;ir&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="ItalianStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.ItalianStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem an Italian word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="c"># All acute accents are replaced by grave accents.</span>
        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE0</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE8</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xED</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xEC</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xF3</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xF2</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xFA</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xF9</span><span class="s">&quot;</span><span class="p">))</span>

        <span class="c"># Every occurrence of &#39;u&#39; after &#39;q&#39;</span>
        <span class="c"># is put into upper case.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;q&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;u&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;U&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

        <span class="c"># Every occurrence of &#39;u&#39; and &#39;i&#39;</span>
        <span class="c"># between vowels is put into upper case.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;u&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;U&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

                <span class="k">elif</span> <span class="n">word</span> <span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;i&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;I&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rv_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c"># STEP 0: Attached pronoun</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step0_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ando&quot;</span><span class="p">,</span> <span class="s">u&quot;endo&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                <span class="k">elif</span> <span class="p">(</span><span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="ow">in</span>
                      <span class="p">(</span><span class="s">u&quot;ar&quot;</span><span class="p">,</span> <span class="s">u&quot;er&quot;</span><span class="p">,</span> <span class="s">u&quot;ir&quot;</span><span class="p">)):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                <span class="k">break</span>

        <span class="c"># STEP 1: Standard suffix removal</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;amente&quot;</span> <span class="ow">and</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;iv&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;at&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;os&quot;</span><span class="p">,</span> <span class="s">u&quot;ic&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">r2</span> <span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;abil&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                <span class="k">elif</span> <span class="p">(</span><span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;amento&quot;</span><span class="p">,</span> <span class="s">u&quot;amenti&quot;</span><span class="p">,</span>
                                 <span class="s">u&quot;imento&quot;</span><span class="p">,</span> <span class="s">u&quot;imenti&quot;</span><span class="p">)</span> <span class="ow">and</span>
                      <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;azione&quot;</span><span class="p">,</span> <span class="s">u&quot;azioni&quot;</span><span class="p">,</span> <span class="s">u&quot;atore&quot;</span><span class="p">,</span> <span class="s">u&quot;atori&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;ic&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;logia&quot;</span><span class="p">,</span> <span class="s">u&quot;logie&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;uzione&quot;</span><span class="p">,</span> <span class="s">u&quot;uzioni&quot;</span><span class="p">,</span>
                                    <span class="s">u&quot;usione&quot;</span><span class="p">,</span> <span class="s">u&quot;usioni&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;enza&quot;</span><span class="p">,</span> <span class="s">u&quot;enze&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s">u&quot;te&quot;</span><span class="p">))</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s">u&quot;te&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;it</span><span class="se">\xE0</span><span class="s">&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;ic&quot;</span><span class="p">,</span> <span class="s">u&quot;iv&quot;</span><span class="p">)):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                        <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;abil&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ivo&quot;</span><span class="p">,</span> <span class="s">u&quot;ivi&quot;</span><span class="p">,</span> <span class="s">u&quot;iva&quot;</span><span class="p">,</span> <span class="s">u&quot;ive&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;at&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                            <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;ic&quot;</span><span class="p">):</span>
                                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                                <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 2: Verb suffixes</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">break</span>

        <span class="c"># STEP 3a</span>
        <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;a&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">,</span> <span class="s">u&quot;o&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE0</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE8</span><span class="s">&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;</span><span class="se">\xEC</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xF2</span><span class="s">&quot;</span><span class="p">)):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;i&quot;</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c"># STEP 3b</span>
        <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;ch&quot;</span><span class="p">,</span> <span class="s">u&quot;gh&quot;</span><span class="p">)):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;I&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;U&quot;</span><span class="p">,</span> <span class="s">u&quot;u&quot;</span><span class="p">)</span>


        <span class="k">return</span> <span class="n">word</span>


</div></div>
<div class="viewcode-block" id="NorwegianStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.NorwegianStemmer">[docs]</a><span class="k">class</span> <span class="nc">NorwegianStemmer</span><span class="p">(</span><span class="n">_ScandinavianStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The Norwegian Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Norwegian vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __s_ending: Letters that may directly appear before a word final &#39;s&#39;.</span>
<span class="sd">    :type __s_ending: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Norwegian</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/norwegian/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiouy</span><span class="se">\xE6\xE5\xF8</span><span class="s">&quot;</span>
    <span class="n">__s_ending</span> <span class="o">=</span> <span class="s">u&quot;bcdfghjlmnoprtvyz&quot;</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;hetenes&quot;</span><span class="p">,</span> <span class="s">u&quot;hetene&quot;</span><span class="p">,</span> <span class="s">u&quot;hetens&quot;</span><span class="p">,</span> <span class="s">u&quot;heter&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;heten&quot;</span><span class="p">,</span> <span class="s">u&quot;endes&quot;</span><span class="p">,</span> <span class="s">u&quot;ande&quot;</span><span class="p">,</span> <span class="s">u&quot;ende&quot;</span><span class="p">,</span> <span class="s">u&quot;edes&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;enes&quot;</span><span class="p">,</span> <span class="s">u&quot;erte&quot;</span><span class="p">,</span> <span class="s">u&quot;ede&quot;</span><span class="p">,</span> <span class="s">u&quot;ane&quot;</span><span class="p">,</span> <span class="s">u&quot;ene&quot;</span><span class="p">,</span> <span class="s">u&quot;ens&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;ers&quot;</span><span class="p">,</span> <span class="s">u&quot;ets&quot;</span><span class="p">,</span> <span class="s">u&quot;het&quot;</span><span class="p">,</span> <span class="s">u&quot;ast&quot;</span><span class="p">,</span> <span class="s">u&quot;ert&quot;</span><span class="p">,</span> <span class="s">u&quot;en&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;ar&quot;</span><span class="p">,</span> <span class="s">u&quot;er&quot;</span><span class="p">,</span> <span class="s">u&quot;as&quot;</span><span class="p">,</span> <span class="s">u&quot;es&quot;</span><span class="p">,</span> <span class="s">u&quot;et&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="s">u&quot;s&quot;</span><span class="p">)</span>

    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;dt&quot;</span><span class="p">,</span> <span class="s">u&quot;vt&quot;</span><span class="p">)</span>

    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;hetslov&quot;</span><span class="p">,</span> <span class="s">u&quot;eleg&quot;</span><span class="p">,</span> <span class="s">u&quot;elig&quot;</span><span class="p">,</span> <span class="s">u&quot;elov&quot;</span><span class="p">,</span> <span class="s">u&quot;slov&quot;</span><span class="p">,</span>
                          <span class="s">u&quot;leg&quot;</span><span class="p">,</span> <span class="s">u&quot;eig&quot;</span><span class="p">,</span> <span class="s">u&quot;lig&quot;</span><span class="p">,</span> <span class="s">u&quot;els&quot;</span><span class="p">,</span> <span class="s">u&quot;lov&quot;</span><span class="p">,</span> <span class="s">u&quot;ig&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="NorwegianStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.NorwegianStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem a Norwegian word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">r1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1_scandinavian</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c"># STEP 1</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;erte&quot;</span><span class="p">,</span> <span class="s">u&quot;ert&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;er&quot;</span><span class="p">))</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;er&quot;</span><span class="p">))</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;s&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__s_ending</span> <span class="ow">or</span>
                        <span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;k&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 2</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c"># STEP 3</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>


        <span class="k">return</span> <span class="n">word</span>


</div></div>
<div class="viewcode-block" id="PortugueseStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.PortugueseStemmer">[docs]</a><span class="k">class</span> <span class="nc">PortugueseStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The Portuguese Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Portuguese vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step4_suffixes: Suffixes to be deleted in step 4 of the algorithm.</span>
<span class="sd">    :type __step4_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Portuguese</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/portuguese/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiou</span><span class="se">\xE1\xE9\xED\xF3\xFA\xE2\xEA\xF4</span><span class="s">&quot;</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;amentos&#39;</span><span class="p">,</span> <span class="s">u&#39;imentos&#39;</span><span class="p">,</span> <span class="s">u&#39;uciones&#39;</span><span class="p">,</span> <span class="s">u&#39;amento&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;imento&#39;</span><span class="p">,</span> <span class="s">u&#39;adoras&#39;</span><span class="p">,</span> <span class="s">u&#39;adores&#39;</span><span class="p">,</span> <span class="s">u&#39;a</span><span class="se">\xE7</span><span class="s">o~es&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;log</span><span class="se">\xED</span><span class="s">as&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xEA</span><span class="s">ncias&#39;</span><span class="p">,</span> <span class="s">u&#39;amente&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;idades&#39;</span><span class="p">,</span> <span class="s">u&#39;ismos&#39;</span><span class="p">,</span> <span class="s">u&#39;istas&#39;</span><span class="p">,</span> <span class="s">u&#39;adora&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;a</span><span class="se">\xE7</span><span class="s">a~o&#39;</span><span class="p">,</span> <span class="s">u&#39;antes&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">ncia&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;log</span><span class="se">\xED</span><span class="s">a&#39;</span><span class="p">,</span> <span class="s">u&#39;uci</span><span class="se">\xF3</span><span class="s">n&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xEA</span><span class="s">ncia&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;mente&#39;</span><span class="p">,</span> <span class="s">u&#39;idade&#39;</span><span class="p">,</span> <span class="s">u&#39;ezas&#39;</span><span class="p">,</span> <span class="s">u&#39;icos&#39;</span><span class="p">,</span> <span class="s">u&#39;icas&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ismo&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">vel&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xED</span><span class="s">vel&#39;</span><span class="p">,</span> <span class="s">u&#39;ista&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;osos&#39;</span><span class="p">,</span> <span class="s">u&#39;osas&#39;</span><span class="p">,</span> <span class="s">u&#39;ador&#39;</span><span class="p">,</span> <span class="s">u&#39;ante&#39;</span><span class="p">,</span> <span class="s">u&#39;ivas&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ivos&#39;</span><span class="p">,</span> <span class="s">u&#39;iras&#39;</span><span class="p">,</span> <span class="s">u&#39;eza&#39;</span><span class="p">,</span> <span class="s">u&#39;ico&#39;</span><span class="p">,</span> <span class="s">u&#39;ica&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;oso&#39;</span><span class="p">,</span> <span class="s">u&#39;osa&#39;</span><span class="p">,</span> <span class="s">u&#39;iva&#39;</span><span class="p">,</span> <span class="s">u&#39;ivo&#39;</span><span class="p">,</span> <span class="s">u&#39;ira&#39;</span><span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;ar</span><span class="se">\xED</span><span class="s">amos&#39;</span><span class="p">,</span> <span class="s">u&#39;er</span><span class="se">\xED</span><span class="s">amos&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\xED</span><span class="s">amos&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">ssemos&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xEA</span><span class="s">ssemos&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xED</span><span class="s">ssemos&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ar</span><span class="se">\xED</span><span class="s">eis&#39;</span><span class="p">,</span> <span class="s">u&#39;er</span><span class="se">\xED</span><span class="s">eis&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\xED</span><span class="s">eis&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">sseis&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">sseis&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xED</span><span class="s">sseis&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">ramos&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">ramos&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xED</span><span class="s">ramos&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">vamos&#39;</span><span class="p">,</span> <span class="s">u&#39;aremos&#39;</span><span class="p">,</span> <span class="s">u&#39;eremos&#39;</span><span class="p">,</span> <span class="s">u&#39;iremos&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ariam&#39;</span><span class="p">,</span> <span class="s">u&#39;eriam&#39;</span><span class="p">,</span> <span class="s">u&#39;iriam&#39;</span><span class="p">,</span> <span class="s">u&#39;assem&#39;</span><span class="p">,</span> <span class="s">u&#39;essem&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;issem&#39;</span><span class="p">,</span> <span class="s">u&#39;ara~o&#39;</span><span class="p">,</span> <span class="s">u&#39;era~o&#39;</span><span class="p">,</span> <span class="s">u&#39;ira~o&#39;</span><span class="p">,</span> <span class="s">u&#39;arias&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;erias&#39;</span><span class="p">,</span> <span class="s">u&#39;irias&#39;</span><span class="p">,</span> <span class="s">u&#39;ardes&#39;</span><span class="p">,</span> <span class="s">u&#39;erdes&#39;</span><span class="p">,</span> <span class="s">u&#39;irdes&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;asses&#39;</span><span class="p">,</span> <span class="s">u&#39;esses&#39;</span><span class="p">,</span> <span class="s">u&#39;isses&#39;</span><span class="p">,</span> <span class="s">u&#39;astes&#39;</span><span class="p">,</span> <span class="s">u&#39;estes&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;istes&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">reis&#39;</span><span class="p">,</span> <span class="s">u&#39;areis&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">reis&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ereis&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xED</span><span class="s">reis&#39;</span><span class="p">,</span> <span class="s">u&#39;ireis&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">veis&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xED</span><span class="s">amos&#39;</span><span class="p">,</span> <span class="s">u&#39;armos&#39;</span><span class="p">,</span> <span class="s">u&#39;ermos&#39;</span><span class="p">,</span> <span class="s">u&#39;irmos&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;aria&#39;</span><span class="p">,</span> <span class="s">u&#39;eria&#39;</span><span class="p">,</span> <span class="s">u&#39;iria&#39;</span><span class="p">,</span> <span class="s">u&#39;asse&#39;</span><span class="p">,</span> <span class="s">u&#39;esse&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;isse&#39;</span><span class="p">,</span> <span class="s">u&#39;aste&#39;</span><span class="p">,</span> <span class="s">u&#39;este&#39;</span><span class="p">,</span> <span class="s">u&#39;iste&#39;</span><span class="p">,</span> <span class="s">u&#39;arei&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;erei&#39;</span><span class="p">,</span> <span class="s">u&#39;irei&#39;</span><span class="p">,</span> <span class="s">u&#39;aram&#39;</span><span class="p">,</span> <span class="s">u&#39;eram&#39;</span><span class="p">,</span> <span class="s">u&#39;iram&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;avam&#39;</span><span class="p">,</span> <span class="s">u&#39;arem&#39;</span><span class="p">,</span> <span class="s">u&#39;erem&#39;</span><span class="p">,</span> <span class="s">u&#39;irem&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ando&#39;</span><span class="p">,</span> <span class="s">u&#39;endo&#39;</span><span class="p">,</span> <span class="s">u&#39;indo&#39;</span><span class="p">,</span> <span class="s">u&#39;adas&#39;</span><span class="p">,</span> <span class="s">u&#39;idas&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ar</span><span class="se">\xE1</span><span class="s">s&#39;</span><span class="p">,</span> <span class="s">u&#39;aras&#39;</span><span class="p">,</span> <span class="s">u&#39;er</span><span class="se">\xE1</span><span class="s">s&#39;</span><span class="p">,</span> <span class="s">u&#39;eras&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ir</span><span class="se">\xE1</span><span class="s">s&#39;</span><span class="p">,</span> <span class="s">u&#39;avas&#39;</span><span class="p">,</span> <span class="s">u&#39;ares&#39;</span><span class="p">,</span> <span class="s">u&#39;eres&#39;</span><span class="p">,</span> <span class="s">u&#39;ires&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xED</span><span class="s">eis&#39;</span><span class="p">,</span> <span class="s">u&#39;ados&#39;</span><span class="p">,</span> <span class="s">u&#39;idos&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">mos&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;amos&#39;</span><span class="p">,</span> <span class="s">u&#39;emos&#39;</span><span class="p">,</span> <span class="s">u&#39;imos&#39;</span><span class="p">,</span> <span class="s">u&#39;iras&#39;</span><span class="p">,</span> <span class="s">u&#39;ada&#39;</span><span class="p">,</span> <span class="s">u&#39;ida&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ar</span><span class="se">\xE1</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ara&#39;</span><span class="p">,</span> <span class="s">u&#39;er</span><span class="se">\xE1</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;era&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ir</span><span class="se">\xE1</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ava&#39;</span><span class="p">,</span> <span class="s">u&#39;iam&#39;</span><span class="p">,</span> <span class="s">u&#39;ado&#39;</span><span class="p">,</span> <span class="s">u&#39;ido&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ias&#39;</span><span class="p">,</span> <span class="s">u&#39;ais&#39;</span><span class="p">,</span> <span class="s">u&#39;eis&#39;</span><span class="p">,</span> <span class="s">u&#39;ira&#39;</span><span class="p">,</span> <span class="s">u&#39;ia&#39;</span><span class="p">,</span> <span class="s">u&#39;ei&#39;</span><span class="p">,</span> <span class="s">u&#39;am&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;em&#39;</span><span class="p">,</span> <span class="s">u&#39;ar&#39;</span><span class="p">,</span> <span class="s">u&#39;er&#39;</span><span class="p">,</span> <span class="s">u&#39;ir&#39;</span><span class="p">,</span> <span class="s">u&#39;as&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;es&#39;</span><span class="p">,</span> <span class="s">u&#39;is&#39;</span><span class="p">,</span> <span class="s">u&#39;eu&#39;</span><span class="p">,</span> <span class="s">u&#39;iu&#39;</span><span class="p">,</span> <span class="s">u&#39;ou&#39;</span><span class="p">)</span>
    <span class="n">__step4_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;os&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">,</span> <span class="s">u&quot;o&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;</span><span class="se">\xED</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xF3</span><span class="s">&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="PortugueseStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.PortugueseStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem a Portuguese word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">step2_success</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE3</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;a~&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xF5</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;o~&quot;</span><span class="p">))</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rv_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c"># STEP 1: Standard suffix removal</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;amente&quot;</span> <span class="ow">and</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;iv&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;at&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;os&quot;</span><span class="p">,</span> <span class="s">u&quot;ic&quot;</span><span class="p">,</span> <span class="s">u&quot;ad&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="p">(</span><span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ira&quot;</span><span class="p">,</span> <span class="s">u&quot;iras&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span>
                      <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s">u&quot;e&quot;</span><span class="p">):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ir&quot;</span><span class="p">))</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ir&quot;</span><span class="p">))</span>

                <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>

                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;log</span><span class="se">\xED</span><span class="s">a&quot;</span><span class="p">,</span> <span class="s">u&quot;log</span><span class="se">\xED</span><span class="s">as&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;uci</span><span class="se">\xF3</span><span class="s">n&quot;</span><span class="p">,</span> <span class="s">u&quot;uciones&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;u&quot;</span><span class="p">))</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;u&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;</span><span class="se">\xEA</span><span class="s">ncia&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xEA</span><span class="s">ncias&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ente&quot;</span><span class="p">))</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ente&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;mente&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;ante&quot;</span><span class="p">,</span> <span class="s">u&quot;avel&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xED</span><span class="s">vel&quot;</span><span class="p">)):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;idade&quot;</span><span class="p">,</span> <span class="s">u&quot;idades&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;ic&quot;</span><span class="p">,</span> <span class="s">u&quot;iv&quot;</span><span class="p">)):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                        <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;abil&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;iva&quot;</span><span class="p">,</span> <span class="s">u&quot;ivo&quot;</span><span class="p">,</span> <span class="s">u&quot;ivas&quot;</span><span class="p">,</span> <span class="s">u&quot;ivos&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;at&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 2: Verb suffixes</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">step2_success</span> <span class="o">=</span> <span class="bp">True</span>

                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">break</span>

        <span class="c"># STEP 3</span>
        <span class="k">if</span> <span class="n">step1_success</span> <span class="ow">or</span> <span class="n">step2_success</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;i&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;c&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c">### STEP 4: Residual suffix</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">step2_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step4_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">break</span>

        <span class="c"># STEP 5</span>
        <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xEA</span><span class="s">&quot;</span><span class="p">)):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="k">if</span> <span class="p">((</span><span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;gu&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;u&quot;</span><span class="p">))</span> <span class="ow">or</span>
                <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;ci&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;i&quot;</span><span class="p">))):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE7</span><span class="s">&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">u&quot;c&quot;</span><span class="p">))</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;a~&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE3</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;o~&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xF5</span><span class="s">&quot;</span><span class="p">)</span>


        <span class="k">return</span> <span class="n">word</span>


</div></div>
<div class="viewcode-block" id="RomanianStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.RomanianStemmer">[docs]</a><span class="k">class</span> <span class="nc">RomanianStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The Romanian Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Romanian vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __step0_suffixes: Suffixes to be deleted in step 0 of the algorithm.</span>
<span class="sd">    :type __step0_suffixes: tuple</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Romanian</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/romanian/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiou</span><span class="se">\u0103\xE2\xEE</span><span class="s">&quot;</span>
    <span class="n">__step0_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;iilor&#39;</span><span class="p">,</span> <span class="s">u&#39;ului&#39;</span><span class="p">,</span> <span class="s">u&#39;elor&#39;</span><span class="p">,</span> <span class="s">u&#39;iile&#39;</span><span class="p">,</span> <span class="s">u&#39;ilor&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;atei&#39;</span><span class="p">,</span> <span class="s">u&#39;a</span><span class="se">\u0163</span><span class="s">ie&#39;</span><span class="p">,</span> <span class="s">u&#39;a</span><span class="se">\u0163</span><span class="s">ia&#39;</span><span class="p">,</span> <span class="s">u&#39;aua&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ele&#39;</span><span class="p">,</span> <span class="s">u&#39;iua&#39;</span><span class="p">,</span> <span class="s">u&#39;iei&#39;</span><span class="p">,</span> <span class="s">u&#39;ile&#39;</span><span class="p">,</span> <span class="s">u&#39;ul&#39;</span><span class="p">,</span> <span class="s">u&#39;ea&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ii&#39;</span><span class="p">)</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;abilitate&#39;</span><span class="p">,</span> <span class="s">u&#39;abilitati&#39;</span><span class="p">,</span> <span class="s">u&#39;abilit</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ibilitate&#39;</span><span class="p">,</span> <span class="s">u&#39;abilit</span><span class="se">\u0103</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;ivitate&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ivitati&#39;</span><span class="p">,</span> <span class="s">u&#39;ivit</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;icitate&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;icitati&#39;</span><span class="p">,</span> <span class="s">u&#39;icit</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;icatori&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ivit</span><span class="se">\u0103</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;icit</span><span class="se">\u0103</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;icator&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;a</span><span class="se">\u0163</span><span class="s">iune&#39;</span><span class="p">,</span> <span class="s">u&#39;atoare&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\u0103</span><span class="s">toare&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;i</span><span class="se">\u0163</span><span class="s">iune&#39;</span><span class="p">,</span> <span class="s">u&#39;itoare&#39;</span><span class="p">,</span> <span class="s">u&#39;iciva&#39;</span><span class="p">,</span> <span class="s">u&#39;icive&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;icivi&#39;</span><span class="p">,</span> <span class="s">u&#39;iciv</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;icala&#39;</span><span class="p">,</span> <span class="s">u&#39;icale&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;icali&#39;</span><span class="p">,</span> <span class="s">u&#39;ical</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ativa&#39;</span><span class="p">,</span> <span class="s">u&#39;ative&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ativi&#39;</span><span class="p">,</span> <span class="s">u&#39;ativ</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;atori&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\u0103</span><span class="s">tori&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;itiva&#39;</span><span class="p">,</span> <span class="s">u&#39;itive&#39;</span><span class="p">,</span> <span class="s">u&#39;itivi&#39;</span><span class="p">,</span> <span class="s">u&#39;itiv</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;itori&#39;</span><span class="p">,</span> <span class="s">u&#39;iciv&#39;</span><span class="p">,</span> <span class="s">u&#39;ical&#39;</span><span class="p">,</span> <span class="s">u&#39;ativ&#39;</span><span class="p">,</span> <span class="s">u&#39;ator&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\u0103</span><span class="s">tor&#39;</span><span class="p">,</span> <span class="s">u&#39;itiv&#39;</span><span class="p">,</span> <span class="s">u&#39;itor&#39;</span><span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;abila&#39;</span><span class="p">,</span> <span class="s">u&#39;abile&#39;</span><span class="p">,</span> <span class="s">u&#39;abili&#39;</span><span class="p">,</span> <span class="s">u&#39;abil</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ibila&#39;</span><span class="p">,</span> <span class="s">u&#39;ibile&#39;</span><span class="p">,</span> <span class="s">u&#39;ibili&#39;</span><span class="p">,</span> <span class="s">u&#39;ibil</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;atori&#39;</span><span class="p">,</span> <span class="s">u&#39;itate&#39;</span><span class="p">,</span> <span class="s">u&#39;itati&#39;</span><span class="p">,</span> <span class="s">u&#39;it</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;abil&#39;</span><span class="p">,</span> <span class="s">u&#39;ibil&#39;</span><span class="p">,</span> <span class="s">u&#39;oasa&#39;</span><span class="p">,</span> <span class="s">u&#39;oas</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;oase&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;anta&#39;</span><span class="p">,</span> <span class="s">u&#39;ante&#39;</span><span class="p">,</span> <span class="s">u&#39;anti&#39;</span><span class="p">,</span> <span class="s">u&#39;ant</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ator&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;it</span><span class="se">\u0103</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;iune&#39;</span><span class="p">,</span> <span class="s">u&#39;iuni&#39;</span><span class="p">,</span> <span class="s">u&#39;isme&#39;</span><span class="p">,</span> <span class="s">u&#39;ista&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;iste&#39;</span><span class="p">,</span> <span class="s">u&#39;isti&#39;</span><span class="p">,</span> <span class="s">u&#39;ist</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;i</span><span class="se">\u015F</span><span class="s">ti&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ata&#39;</span><span class="p">,</span> <span class="s">u&#39;at</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ati&#39;</span><span class="p">,</span> <span class="s">u&#39;ate&#39;</span><span class="p">,</span> <span class="s">u&#39;uta&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ut</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;uti&#39;</span><span class="p">,</span> <span class="s">u&#39;ute&#39;</span><span class="p">,</span> <span class="s">u&#39;ita&#39;</span><span class="p">,</span> <span class="s">u&#39;it</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;iti&#39;</span><span class="p">,</span> <span class="s">u&#39;ite&#39;</span><span class="p">,</span> <span class="s">u&#39;ica&#39;</span><span class="p">,</span> <span class="s">u&#39;ice&#39;</span><span class="p">,</span> <span class="s">u&#39;ici&#39;</span><span class="p">,</span> <span class="s">u&#39;ic</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;osi&#39;</span><span class="p">,</span> <span class="s">u&#39;o</span><span class="se">\u015F</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;ant&#39;</span><span class="p">,</span> <span class="s">u&#39;iva&#39;</span><span class="p">,</span> <span class="s">u&#39;ive&#39;</span><span class="p">,</span> <span class="s">u&#39;ivi&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;iv</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ism&#39;</span><span class="p">,</span> <span class="s">u&#39;ist&#39;</span><span class="p">,</span> <span class="s">u&#39;at&#39;</span><span class="p">,</span> <span class="s">u&#39;ut&#39;</span><span class="p">,</span> <span class="s">u&#39;it&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ic&#39;</span><span class="p">,</span> <span class="s">u&#39;os&#39;</span><span class="p">,</span> <span class="s">u&#39;iv&#39;</span><span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;seser</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;aser</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;iser</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">ser</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;user</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;seser</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;aser</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span> <span class="s">u&#39;iser</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">ser</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;user</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span> <span class="s">u&#39;ser</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;sese</span><span class="se">\u015F</span><span class="s">i&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;seser</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;easc</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ar</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ur</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">r</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;ase</span><span class="se">\u015F</span><span class="s">i&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;aser</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ise</span><span class="se">\u015F</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;iser</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xe2</span><span class="s">se</span><span class="se">\u015F</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">ser</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;use</span><span class="se">\u015F</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;user</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ser</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;sesem&#39;</span><span class="p">,</span> <span class="s">u&#39;indu&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">ndu&#39;</span><span class="p">,</span> <span class="s">u&#39;eaz</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;e</span><span class="se">\u015F</span><span class="s">ti&#39;</span><span class="p">,</span> <span class="s">u&#39;e</span><span class="se">\u015F</span><span class="s">te&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\u0103\u015F</span><span class="s">ti&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\u0103\u015F</span><span class="s">te&#39;</span><span class="p">,</span> <span class="s">u&#39;ea</span><span class="se">\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;ia</span><span class="se">\u0163</span><span class="s">i&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ar</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span> <span class="s">u&#39;ur</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">r</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span> <span class="s">u&#39;asem&#39;</span><span class="p">,</span> <span class="s">u&#39;isem&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">sem&#39;</span><span class="p">,</span> <span class="s">u&#39;usem&#39;</span><span class="p">,</span> <span class="s">u&#39;se</span><span class="se">\u015F</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;ser</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;sese&#39;</span><span class="p">,</span> <span class="s">u&#39;are&#39;</span><span class="p">,</span> <span class="s">u&#39;ere&#39;</span><span class="p">,</span> <span class="s">u&#39;ire&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">re&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ind&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">nd&#39;</span><span class="p">,</span> <span class="s">u&#39;eze&#39;</span><span class="p">,</span> <span class="s">u&#39;ezi&#39;</span><span class="p">,</span> <span class="s">u&#39;esc&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\u0103</span><span class="s">sc&#39;</span><span class="p">,</span> <span class="s">u&#39;eam&#39;</span><span class="p">,</span> <span class="s">u&#39;eai&#39;</span><span class="p">,</span> <span class="s">u&#39;eau&#39;</span><span class="p">,</span> <span class="s">u&#39;iam&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;iai&#39;</span><span class="p">,</span> <span class="s">u&#39;iau&#39;</span><span class="p">,</span> <span class="s">u&#39;a</span><span class="se">\u015F</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;ar</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;u</span><span class="se">\u015F</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;ur</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;i</span><span class="se">\u015F</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE2\u015F</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xe2</span><span class="s">r</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ase&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ise&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">se&#39;</span><span class="p">,</span> <span class="s">u&#39;use&#39;</span><span class="p">,</span> <span class="s">u&#39;a</span><span class="se">\u0163</span><span class="s">i&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;e</span><span class="se">\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;i</span><span class="se">\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xe2\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;sei&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ez&#39;</span><span class="p">,</span> <span class="s">u&#39;am&#39;</span><span class="p">,</span> <span class="s">u&#39;ai&#39;</span><span class="p">,</span> <span class="s">u&#39;au&#39;</span><span class="p">,</span> <span class="s">u&#39;ea&#39;</span><span class="p">,</span> <span class="s">u&#39;ia&#39;</span><span class="p">,</span> <span class="s">u&#39;ui&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span> <span class="s">u&#39;em&#39;</span><span class="p">,</span> <span class="s">u&#39;im&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">m&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;se&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="RomanianStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.RomanianStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem a Romanian word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">step2_success</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;u&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;U&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

                <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;i&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s">u&quot;I&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]))</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rv_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c"># STEP 0: Removal of plurals and other simplifications</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step0_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ul&quot;</span><span class="p">,</span> <span class="s">u&quot;ului&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                        <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                    <span class="k">elif</span> <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;aua&quot;</span> <span class="ow">or</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;atei&quot;</span> <span class="ow">or</span>
                          <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;ile&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s">u&quot;ab&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ea&quot;</span><span class="p">,</span> <span class="s">u&quot;ele&quot;</span><span class="p">,</span> <span class="s">u&quot;elor&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>

                        <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;e&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ii&quot;</span><span class="p">,</span> <span class="s">u&quot;iua&quot;</span><span class="p">,</span> <span class="s">u&quot;iei&quot;</span><span class="p">,</span>
                                    <span class="s">u&quot;iile&quot;</span><span class="p">,</span> <span class="s">u&quot;iilor&quot;</span><span class="p">,</span> <span class="s">u&quot;ilor&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;i&quot;</span><span class="p">))</span>

                        <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;i&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;a</span><span class="se">\u0163</span><span class="s">ie&quot;</span><span class="p">,</span> <span class="s">u&quot;a</span><span class="se">\u0163</span><span class="s">ia&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c"># STEP 1: Reduction of combining suffixes</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>

            <span class="n">replacement_done</span> <span class="o">=</span> <span class="bp">False</span>

            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">:</span>
                        <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>
                        <span class="n">replacement_done</span> <span class="o">=</span> <span class="bp">True</span>

                        <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;abilitate&quot;</span><span class="p">,</span> <span class="s">u&quot;abilitati&quot;</span><span class="p">,</span>
                                      <span class="s">u&quot;abilit</span><span class="se">\u0103</span><span class="s">i&quot;</span><span class="p">,</span>
                                      <span class="s">u&quot;abilit</span><span class="se">\u0103\u0163</span><span class="s">i&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;abil&quot;</span><span class="p">))</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;ibilitate&quot;</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ivitate&quot;</span><span class="p">,</span> <span class="s">u&quot;ivitati&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;ivit</span><span class="se">\u0103</span><span class="s">i&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;ivit</span><span class="se">\u0103\u0163</span><span class="s">i&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;iv&quot;</span><span class="p">))</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;icitate&quot;</span><span class="p">,</span> <span class="s">u&quot;icitati&quot;</span><span class="p">,</span> <span class="s">u&quot;icit</span><span class="se">\u0103</span><span class="s">i&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;icit</span><span class="se">\u0103\u0163</span><span class="s">i&quot;</span><span class="p">,</span> <span class="s">u&quot;icator&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;icatori&quot;</span><span class="p">,</span> <span class="s">u&quot;iciv&quot;</span><span class="p">,</span> <span class="s">u&quot;iciva&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;icive&quot;</span><span class="p">,</span> <span class="s">u&quot;icivi&quot;</span><span class="p">,</span> <span class="s">u&quot;iciv</span><span class="se">\u0103</span><span class="s">&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;ical&quot;</span><span class="p">,</span> <span class="s">u&quot;icala&quot;</span><span class="p">,</span> <span class="s">u&quot;icale&quot;</span><span class="p">,</span> <span class="s">u&quot;icali&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;ical</span><span class="se">\u0103</span><span class="s">&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ic&quot;</span><span class="p">))</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ativ&quot;</span><span class="p">,</span> <span class="s">u&quot;ativa&quot;</span><span class="p">,</span> <span class="s">u&quot;ative&quot;</span><span class="p">,</span> <span class="s">u&quot;ativi&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;ativ</span><span class="se">\u0103</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;a</span><span class="se">\u0163</span><span class="s">iune&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;atoare&quot;</span><span class="p">,</span> <span class="s">u&quot;ator&quot;</span><span class="p">,</span> <span class="s">u&quot;atori&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;</span><span class="se">\u0103</span><span class="s">toare&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;</span><span class="se">\u0103</span><span class="s">tor&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0103</span><span class="s">tori&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;at&quot;</span><span class="p">))</span>

                            <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                                <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;at&quot;</span><span class="p">))</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;itiv&quot;</span><span class="p">,</span> <span class="s">u&quot;itiva&quot;</span><span class="p">,</span> <span class="s">u&quot;itive&quot;</span><span class="p">,</span> <span class="s">u&quot;itivi&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;itiv</span><span class="se">\u0103</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i</span><span class="se">\u0163</span><span class="s">iune&quot;</span><span class="p">,</span>
                                        <span class="s">u&quot;itoare&quot;</span><span class="p">,</span> <span class="s">u&quot;itor&quot;</span><span class="p">,</span> <span class="s">u&quot;itori&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;it&quot;</span><span class="p">))</span>

                            <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                                <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;it&quot;</span><span class="p">))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">False</span>
                    <span class="k">break</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">replacement_done</span><span class="p">:</span>
                <span class="k">break</span>

        <span class="c"># STEP 2: Removal of standard suffixes</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                    <span class="n">step2_success</span> <span class="o">=</span> <span class="bp">True</span>

                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;iune&quot;</span><span class="p">,</span> <span class="s">u&quot;iuni&quot;</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;</span><span class="se">\u0163</span><span class="s">&quot;</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="s">u&quot;t&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ism&quot;</span><span class="p">,</span> <span class="s">u&quot;isme&quot;</span><span class="p">,</span> <span class="s">u&quot;ist&quot;</span><span class="p">,</span> <span class="s">u&quot;ista&quot;</span><span class="p">,</span> <span class="s">u&quot;iste&quot;</span><span class="p">,</span>
                                    <span class="s">u&quot;isti&quot;</span><span class="p">,</span> <span class="s">u&quot;ist</span><span class="se">\u0103</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i</span><span class="se">\u015F</span><span class="s">ti&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)],</span> <span class="s">u&quot;ist&quot;</span><span class="p">))</span>

                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 3: Removal of verb suffixes</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">step2_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&#39;seser</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;seser</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span>
                                      <span class="s">u&#39;ser</span><span class="se">\u0103\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;sese</span><span class="se">\u015F</span><span class="s">i&#39;</span><span class="p">,</span>
                                      <span class="s">u&#39;seser</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ser</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span> <span class="s">u&#39;sesem&#39;</span><span class="p">,</span>
                                      <span class="s">u&#39;se</span><span class="se">\u015F</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;ser</span><span class="se">\u0103</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;sese&#39;</span><span class="p">,</span>
                                      <span class="s">u&#39;a</span><span class="se">\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;e</span><span class="se">\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;i</span><span class="se">\u0163</span><span class="s">i&#39;</span><span class="p">,</span>
                                      <span class="s">u&#39;</span><span class="se">\xE2\u0163</span><span class="s">i&#39;</span><span class="p">,</span> <span class="s">u&#39;sei&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\u0103</span><span class="s">m&#39;</span><span class="p">,</span>
                                      <span class="s">u&#39;em&#39;</span><span class="p">,</span> <span class="s">u&#39;im&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE2</span><span class="s">m&#39;</span><span class="p">,</span> <span class="s">u&#39;se&#39;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">rv</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span>
                                <span class="n">rv</span><span class="p">[</span><span class="n">rv</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span>
                                <span class="s">u&quot;aeio</span><span class="se">\u0103\xE2\xEE</span><span class="s">&quot;</span><span class="p">):</span>
                                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="k">break</span>

        <span class="c"># STEP 4: Removal of final vowel</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ie&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0103</span><span class="s">&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;I&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;U&quot;</span><span class="p">,</span> <span class="s">u&quot;u&quot;</span><span class="p">)</span>


        <span class="k">return</span> <span class="n">word</span>


</div></div>
<div class="viewcode-block" id="RussianStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.RussianStemmer">[docs]</a><span class="k">class</span> <span class="nc">RussianStemmer</span><span class="p">(</span><span class="n">_LanguageSpecificStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The Russian Snowball stemmer.</span>

<span class="sd">    :cvar __perfective_gerund_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __perfective_gerund_suffixes: tuple</span>
<span class="sd">    :cvar __adjectival_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __adjectival_suffixes: tuple</span>
<span class="sd">    :cvar __reflexive_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __reflexive_suffixes: tuple</span>
<span class="sd">    :cvar __verb_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __verb_suffixes: tuple</span>
<span class="sd">    :cvar __noun_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __noun_suffixes: tuple</span>
<span class="sd">    :cvar __superlative_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __superlative_suffixes: tuple</span>
<span class="sd">    :cvar __derivational_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __derivational_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Russian</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/russian/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__perfective_gerund_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;ivshis&#39;&quot;</span><span class="p">,</span> <span class="s">u&quot;yvshis&#39;&quot;</span><span class="p">,</span> <span class="s">u&quot;vshis&#39;&quot;</span><span class="p">,</span>
                                      <span class="s">u&quot;ivshi&quot;</span><span class="p">,</span> <span class="s">u&quot;yvshi&quot;</span><span class="p">,</span> <span class="s">u&quot;vshi&quot;</span><span class="p">,</span> <span class="s">u&quot;iv&quot;</span><span class="p">,</span>
                                      <span class="s">u&quot;yv&quot;</span><span class="p">,</span> <span class="s">u&quot;v&quot;</span><span class="p">)</span>
    <span class="n">__adjectival_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;ui^ushchi^ui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchi^ai^a&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ui^ushchimi&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchymi&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchego&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ui^ushchogo&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchemu&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchomu&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ui^ushchikh&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchykh&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ui^ushchui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchaia&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ui^ushchoi^u&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchei^u&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;i^ushchi^ui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchi^ai^a&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ui^ushchee&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchie&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ui^ushchye&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchoe&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchei`&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ui^ushchii`&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchyi`&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ui^ushchoi`&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchem&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchim&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ui^ushchym&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ushchom&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchimi&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;i^ushchymi&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchego&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchogo&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;i^ushchemu&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchomu&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchikh&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;i^ushchykh&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchai^a&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;i^ushchoi^u&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchei^u&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchee&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;i^ushchie&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchye&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchoe&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;i^ushchei`&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchii`&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;i^ushchyi`&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchoi`&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchem&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;i^ushchim&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchym&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchom&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;shchi^ui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;shchi^ai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshi^ui^u&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ivshi^ai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshi^ui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshi^ai^a&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;shchimi&#39;</span><span class="p">,</span> <span class="s">u&#39;shchymi&#39;</span><span class="p">,</span> <span class="s">u&#39;shchego&#39;</span><span class="p">,</span> <span class="s">u&#39;shchogo&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;shchemu&#39;</span><span class="p">,</span> <span class="s">u&#39;shchomu&#39;</span><span class="p">,</span> <span class="s">u&#39;shchikh&#39;</span><span class="p">,</span> <span class="s">u&#39;shchykh&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;shchui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;shchai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;shchoi^u&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;shchei^u&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshimi&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshymi&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ivshego&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshogo&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshemu&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshomu&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ivshikh&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshykh&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshui^u&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ivshai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshoi^u&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshei^u&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;yvshimi&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshymi&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshego&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshogo&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;yvshemu&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshomu&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshikh&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshykh&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;yvshui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshoi^u&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;yvshei^u&#39;</span><span class="p">,</span> <span class="s">u&#39;vshi^ui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;vshi^ai^a&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;shchee&#39;</span><span class="p">,</span> <span class="s">u&#39;shchie&#39;</span><span class="p">,</span> <span class="s">u&#39;shchye&#39;</span><span class="p">,</span> <span class="s">u&#39;shchoe&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;shchei`&#39;</span><span class="p">,</span> <span class="s">u&#39;shchii`&#39;</span><span class="p">,</span> <span class="s">u&#39;shchyi`&#39;</span><span class="p">,</span> <span class="s">u&#39;shchoi`&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;shchem&#39;</span><span class="p">,</span> <span class="s">u&#39;shchim&#39;</span><span class="p">,</span> <span class="s">u&#39;shchym&#39;</span><span class="p">,</span> <span class="s">u&#39;shchom&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ivshee&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshie&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshye&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshoe&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ivshei`&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshii`&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshyi`&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ivshoi`&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshem&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshim&#39;</span><span class="p">,</span> <span class="s">u&#39;ivshym&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ivshom&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshee&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshie&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshye&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;yvshoe&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshei`&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshii`&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;yvshyi`&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshoi`&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshem&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;yvshim&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshym&#39;</span><span class="p">,</span> <span class="s">u&#39;yvshom&#39;</span><span class="p">,</span> <span class="s">u&#39;vshimi&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;vshymi&#39;</span><span class="p">,</span> <span class="s">u&#39;vshego&#39;</span><span class="p">,</span> <span class="s">u&#39;vshogo&#39;</span><span class="p">,</span> <span class="s">u&#39;vshemu&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;vshomu&#39;</span><span class="p">,</span> <span class="s">u&#39;vshikh&#39;</span><span class="p">,</span> <span class="s">u&#39;vshykh&#39;</span><span class="p">,</span> <span class="s">u&#39;vshui^u&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;vshai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;vshoi^u&#39;</span><span class="p">,</span> <span class="s">u&#39;vshei^u&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;emi^ui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;emi^ai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;nni^ui^u&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;nni^ai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;vshee&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;vshie&#39;</span><span class="p">,</span> <span class="s">u&#39;vshye&#39;</span><span class="p">,</span> <span class="s">u&#39;vshoe&#39;</span><span class="p">,</span> <span class="s">u&#39;vshei`&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;vshii`&#39;</span><span class="p">,</span> <span class="s">u&#39;vshyi`&#39;</span><span class="p">,</span> <span class="s">u&#39;vshoi`&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;vshem&#39;</span><span class="p">,</span> <span class="s">u&#39;vshim&#39;</span><span class="p">,</span> <span class="s">u&#39;vshym&#39;</span><span class="p">,</span> <span class="s">u&#39;vshom&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;emimi&#39;</span><span class="p">,</span> <span class="s">u&#39;emymi&#39;</span><span class="p">,</span> <span class="s">u&#39;emego&#39;</span><span class="p">,</span> <span class="s">u&#39;emogo&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ememu&#39;</span><span class="p">,</span> <span class="s">u&#39;emomu&#39;</span><span class="p">,</span> <span class="s">u&#39;emikh&#39;</span><span class="p">,</span> <span class="s">u&#39;emykh&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;emui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;emai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;emoi^u&#39;</span><span class="p">,</span> <span class="s">u&#39;emei^u&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;nnimi&#39;</span><span class="p">,</span> <span class="s">u&#39;nnymi&#39;</span><span class="p">,</span> <span class="s">u&#39;nnego&#39;</span><span class="p">,</span> <span class="s">u&#39;nnogo&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;nnemu&#39;</span><span class="p">,</span> <span class="s">u&#39;nnomu&#39;</span><span class="p">,</span> <span class="s">u&#39;nnikh&#39;</span><span class="p">,</span> <span class="s">u&#39;nnykh&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;nnui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;nnai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;nnoi^u&#39;</span><span class="p">,</span> <span class="s">u&#39;nnei^u&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;emee&#39;</span><span class="p">,</span> <span class="s">u&#39;emie&#39;</span><span class="p">,</span> <span class="s">u&#39;emye&#39;</span><span class="p">,</span> <span class="s">u&#39;emoe&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;emei`&#39;</span><span class="p">,</span> <span class="s">u&#39;emii`&#39;</span><span class="p">,</span> <span class="s">u&#39;emyi`&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;emoi`&#39;</span><span class="p">,</span> <span class="s">u&#39;emem&#39;</span><span class="p">,</span> <span class="s">u&#39;emim&#39;</span><span class="p">,</span> <span class="s">u&#39;emym&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;emom&#39;</span><span class="p">,</span> <span class="s">u&#39;nnee&#39;</span><span class="p">,</span> <span class="s">u&#39;nnie&#39;</span><span class="p">,</span> <span class="s">u&#39;nnye&#39;</span><span class="p">,</span> <span class="s">u&#39;nnoe&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;nnei`&#39;</span><span class="p">,</span> <span class="s">u&#39;nnii`&#39;</span><span class="p">,</span> <span class="s">u&#39;nnyi`&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;nnoi`&#39;</span><span class="p">,</span> <span class="s">u&#39;nnem&#39;</span><span class="p">,</span> <span class="s">u&#39;nnim&#39;</span><span class="p">,</span> <span class="s">u&#39;nnym&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;nnom&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;imi&#39;</span><span class="p">,</span> <span class="s">u&#39;ymi&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ego&#39;</span><span class="p">,</span> <span class="s">u&#39;ogo&#39;</span><span class="p">,</span> <span class="s">u&#39;emu&#39;</span><span class="p">,</span> <span class="s">u&#39;omu&#39;</span><span class="p">,</span> <span class="s">u&#39;ikh&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ykh&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;ai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;oi^u&#39;</span><span class="p">,</span> <span class="s">u&#39;ei^u&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ee&#39;</span><span class="p">,</span> <span class="s">u&#39;ie&#39;</span><span class="p">,</span> <span class="s">u&#39;ye&#39;</span><span class="p">,</span> <span class="s">u&#39;oe&#39;</span><span class="p">,</span> <span class="s">u&#39;ei`&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;ii`&#39;</span><span class="p">,</span> <span class="s">u&#39;yi`&#39;</span><span class="p">,</span> <span class="s">u&#39;oi`&#39;</span><span class="p">,</span> <span class="s">u&#39;em&#39;</span><span class="p">,</span>
                               <span class="s">u&#39;im&#39;</span><span class="p">,</span> <span class="s">u&#39;ym&#39;</span><span class="p">,</span> <span class="s">u&#39;om&#39;</span><span class="p">)</span>
    <span class="n">__reflexive_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;si^a&quot;</span><span class="p">,</span> <span class="s">u&quot;s&#39;&quot;</span><span class="p">)</span>
    <span class="n">__verb_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;esh&#39;&quot;</span><span class="p">,</span> <span class="s">u&#39;ei`te&#39;</span><span class="p">,</span> <span class="s">u&#39;ui`te&#39;</span><span class="p">,</span> <span class="s">u&#39;ui^ut&#39;</span><span class="p">,</span>
                         <span class="s">u&quot;ish&#39;&quot;</span><span class="p">,</span> <span class="s">u&#39;ete&#39;</span><span class="p">,</span> <span class="s">u&#39;i`te&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ut&#39;</span><span class="p">,</span> <span class="s">u&#39;nno&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ila&#39;</span><span class="p">,</span> <span class="s">u&#39;yla&#39;</span><span class="p">,</span> <span class="s">u&#39;ena&#39;</span><span class="p">,</span> <span class="s">u&#39;ite&#39;</span><span class="p">,</span> <span class="s">u&#39;ili&#39;</span><span class="p">,</span> <span class="s">u&#39;yli&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ilo&#39;</span><span class="p">,</span> <span class="s">u&#39;ylo&#39;</span><span class="p">,</span> <span class="s">u&#39;eno&#39;</span><span class="p">,</span> <span class="s">u&#39;i^at&#39;</span><span class="p">,</span> <span class="s">u&#39;uet&#39;</span><span class="p">,</span> <span class="s">u&#39;eny&#39;</span><span class="p">,</span>
                         <span class="s">u&quot;it&#39;&quot;</span><span class="p">,</span> <span class="s">u&quot;yt&#39;&quot;</span><span class="p">,</span> <span class="s">u&#39;ui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;la&#39;</span><span class="p">,</span> <span class="s">u&#39;na&#39;</span><span class="p">,</span> <span class="s">u&#39;li&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;em&#39;</span><span class="p">,</span> <span class="s">u&#39;lo&#39;</span><span class="p">,</span> <span class="s">u&#39;no&#39;</span><span class="p">,</span> <span class="s">u&#39;et&#39;</span><span class="p">,</span> <span class="s">u&#39;ny&#39;</span><span class="p">,</span> <span class="s">u&quot;t&#39;&quot;</span><span class="p">,</span>
                         <span class="s">u&#39;ei`&#39;</span><span class="p">,</span> <span class="s">u&#39;ui`&#39;</span><span class="p">,</span> <span class="s">u&#39;il&#39;</span><span class="p">,</span> <span class="s">u&#39;yl&#39;</span><span class="p">,</span> <span class="s">u&#39;im&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ym&#39;</span><span class="p">,</span> <span class="s">u&#39;en&#39;</span><span class="p">,</span> <span class="s">u&#39;it&#39;</span><span class="p">,</span> <span class="s">u&#39;yt&#39;</span><span class="p">,</span> <span class="s">u&#39;i^u&#39;</span><span class="p">,</span> <span class="s">u&#39;i`&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;l&#39;</span><span class="p">,</span> <span class="s">u&#39;n&#39;</span><span class="p">)</span>
    <span class="n">__noun_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;ii^ami&#39;</span><span class="p">,</span> <span class="s">u&#39;ii^akh&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ami&#39;</span><span class="p">,</span> <span class="s">u&#39;ii^am&#39;</span><span class="p">,</span> <span class="s">u&#39;i^akh&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ami&#39;</span><span class="p">,</span> <span class="s">u&#39;iei`&#39;</span><span class="p">,</span> <span class="s">u&#39;i^am&#39;</span><span class="p">,</span> <span class="s">u&#39;iem&#39;</span><span class="p">,</span> <span class="s">u&#39;akh&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ii^u&#39;</span><span class="p">,</span> <span class="s">u&quot;&#39;i^u&quot;</span><span class="p">,</span> <span class="s">u&#39;ii^a&#39;</span><span class="p">,</span> <span class="s">u&quot;&#39;i^a&quot;</span><span class="p">,</span> <span class="s">u&#39;ev&#39;</span><span class="p">,</span> <span class="s">u&#39;ov&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ie&#39;</span><span class="p">,</span> <span class="s">u&quot;&#39;e&quot;</span><span class="p">,</span> <span class="s">u&#39;ei&#39;</span><span class="p">,</span> <span class="s">u&#39;ii&#39;</span><span class="p">,</span> <span class="s">u&#39;ei`&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;oi`&#39;</span><span class="p">,</span> <span class="s">u&#39;ii`&#39;</span><span class="p">,</span> <span class="s">u&#39;em&#39;</span><span class="p">,</span> <span class="s">u&#39;am&#39;</span><span class="p">,</span> <span class="s">u&#39;om&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;i^u&#39;</span><span class="p">,</span> <span class="s">u&#39;i^a&#39;</span><span class="p">,</span> <span class="s">u&#39;a&#39;</span><span class="p">,</span> <span class="s">u&#39;e&#39;</span><span class="p">,</span> <span class="s">u&#39;i&#39;</span><span class="p">,</span> <span class="s">u&#39;i`&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;o&#39;</span><span class="p">,</span> <span class="s">u&#39;u&#39;</span><span class="p">,</span> <span class="s">u&#39;y&#39;</span><span class="p">,</span> <span class="s">u&quot;&#39;&quot;</span><span class="p">)</span>
    <span class="n">__superlative_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;ei`she&quot;</span><span class="p">,</span> <span class="s">u&quot;ei`sh&quot;</span><span class="p">)</span>
    <span class="n">__derivational_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;ost&#39;&quot;</span><span class="p">,</span> <span class="s">u&quot;ost&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="RussianStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.RussianStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem a Russian word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">chr_exceeded</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nb">ord</span><span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">256</span><span class="p">):</span>
                <span class="n">chr_exceeded</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="k">break</span>

        <span class="k">if</span> <span class="n">chr_exceeded</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__cyrillic_to_roman</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

        <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">adjectival_removed</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">verb_removed</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">undouble_success</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">superlative_removed</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="n">rv</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__regions_russian</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

        <span class="c"># Step 1</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__perfective_gerund_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;v&quot;</span><span class="p">,</span> <span class="s">u&quot;vshi&quot;</span><span class="p">,</span> <span class="s">u&quot;vshis&#39;&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s">&quot;i^a&quot;</span> <span class="ow">or</span>
                        <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s">&quot;a&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>
                        <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="k">break</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__reflexive_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">break</span>

            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__adjectival_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&#39;i^ushchi^ui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchi^ai^a&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;i^ushchui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchoi^u&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;i^ushchei^u&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchimi&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchymi&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;i^ushchego&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchogo&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchemu&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;i^ushchomu&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchikh&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchykh&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;shchi^ui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;shchi^ai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchee&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;i^ushchie&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchye&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchoe&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;i^ushchei`&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchii`&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchyi`&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;i^ushchoi`&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchem&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchim&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;i^ushchym&#39;</span><span class="p">,</span> <span class="s">u&#39;i^ushchom&#39;</span><span class="p">,</span> <span class="s">u&#39;vshi^ui^u&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;vshi^ai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;shchui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;shchai^a&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;shchoi^u&#39;</span><span class="p">,</span> <span class="s">u&#39;shchei^u&#39;</span><span class="p">,</span> <span class="s">u&#39;emi^ui^u&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;emi^ai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;nni^ui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;nni^ai^a&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;shchimi&#39;</span><span class="p">,</span> <span class="s">u&#39;shchymi&#39;</span><span class="p">,</span> <span class="s">u&#39;shchego&#39;</span><span class="p">,</span> <span class="s">u&#39;shchogo&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;shchemu&#39;</span><span class="p">,</span> <span class="s">u&#39;shchomu&#39;</span><span class="p">,</span> <span class="s">u&#39;shchikh&#39;</span><span class="p">,</span> <span class="s">u&#39;shchykh&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;vshui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;vshai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;vshoi^u&#39;</span><span class="p">,</span> <span class="s">u&#39;vshei^u&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;shchee&#39;</span><span class="p">,</span> <span class="s">u&#39;shchie&#39;</span><span class="p">,</span> <span class="s">u&#39;shchye&#39;</span><span class="p">,</span> <span class="s">u&#39;shchoe&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;shchei`&#39;</span><span class="p">,</span> <span class="s">u&#39;shchii`&#39;</span><span class="p">,</span> <span class="s">u&#39;shchyi`&#39;</span><span class="p">,</span> <span class="s">u&#39;shchoi`&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;shchem&#39;</span><span class="p">,</span> <span class="s">u&#39;shchim&#39;</span><span class="p">,</span> <span class="s">u&#39;shchym&#39;</span><span class="p">,</span> <span class="s">u&#39;shchom&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;vshimi&#39;</span><span class="p">,</span> <span class="s">u&#39;vshymi&#39;</span><span class="p">,</span> <span class="s">u&#39;vshego&#39;</span><span class="p">,</span> <span class="s">u&#39;vshogo&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;vshemu&#39;</span><span class="p">,</span> <span class="s">u&#39;vshomu&#39;</span><span class="p">,</span> <span class="s">u&#39;vshikh&#39;</span><span class="p">,</span> <span class="s">u&#39;vshykh&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;emui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;emai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;emoi^u&#39;</span><span class="p">,</span> <span class="s">u&#39;emei^u&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;nnui^u&#39;</span><span class="p">,</span> <span class="s">u&#39;nnai^a&#39;</span><span class="p">,</span> <span class="s">u&#39;nnoi^u&#39;</span><span class="p">,</span> <span class="s">u&#39;nnei^u&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;vshee&#39;</span><span class="p">,</span> <span class="s">u&#39;vshie&#39;</span><span class="p">,</span> <span class="s">u&#39;vshye&#39;</span><span class="p">,</span> <span class="s">u&#39;vshoe&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;vshei`&#39;</span><span class="p">,</span> <span class="s">u&#39;vshii`&#39;</span><span class="p">,</span> <span class="s">u&#39;vshyi`&#39;</span><span class="p">,</span> <span class="s">u&#39;vshoi`&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;vshem&#39;</span><span class="p">,</span> <span class="s">u&#39;vshim&#39;</span><span class="p">,</span> <span class="s">u&#39;vshym&#39;</span><span class="p">,</span> <span class="s">u&#39;vshom&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;emimi&#39;</span><span class="p">,</span> <span class="s">u&#39;emymi&#39;</span><span class="p">,</span> <span class="s">u&#39;emego&#39;</span><span class="p">,</span> <span class="s">u&#39;emogo&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;ememu&#39;</span><span class="p">,</span> <span class="s">u&#39;emomu&#39;</span><span class="p">,</span> <span class="s">u&#39;emikh&#39;</span><span class="p">,</span> <span class="s">u&#39;emykh&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;nnimi&#39;</span><span class="p">,</span> <span class="s">u&#39;nnymi&#39;</span><span class="p">,</span> <span class="s">u&#39;nnego&#39;</span><span class="p">,</span> <span class="s">u&#39;nnogo&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;nnemu&#39;</span><span class="p">,</span> <span class="s">u&#39;nnomu&#39;</span><span class="p">,</span> <span class="s">u&#39;nnikh&#39;</span><span class="p">,</span> <span class="s">u&#39;nnykh&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;emee&#39;</span><span class="p">,</span> <span class="s">u&#39;emie&#39;</span><span class="p">,</span> <span class="s">u&#39;emye&#39;</span><span class="p">,</span> <span class="s">u&#39;emoe&#39;</span><span class="p">,</span> <span class="s">u&#39;emei`&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;emii`&#39;</span><span class="p">,</span> <span class="s">u&#39;emyi`&#39;</span><span class="p">,</span> <span class="s">u&#39;emoi`&#39;</span><span class="p">,</span> <span class="s">u&#39;emem&#39;</span><span class="p">,</span> <span class="s">u&#39;emim&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;emym&#39;</span><span class="p">,</span> <span class="s">u&#39;emom&#39;</span><span class="p">,</span> <span class="s">u&#39;nnee&#39;</span><span class="p">,</span> <span class="s">u&#39;nnie&#39;</span><span class="p">,</span> <span class="s">u&#39;nnye&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;nnoe&#39;</span><span class="p">,</span> <span class="s">u&#39;nnei`&#39;</span><span class="p">,</span> <span class="s">u&#39;nnii`&#39;</span><span class="p">,</span> <span class="s">u&#39;nnyi`&#39;</span><span class="p">,</span> <span class="s">u&#39;nnoi`&#39;</span><span class="p">,</span>
                              <span class="s">u&#39;nnem&#39;</span><span class="p">,</span> <span class="s">u&#39;nnim&#39;</span><span class="p">,</span> <span class="s">u&#39;nnym&#39;</span><span class="p">,</span> <span class="s">u&#39;nnom&#39;</span><span class="p">):</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s">&quot;i^a&quot;</span> <span class="ow">or</span>
                            <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s">&quot;a&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">adjectival_removed</span> <span class="o">=</span> <span class="bp">True</span>
                            <span class="k">break</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">adjectival_removed</span> <span class="o">=</span> <span class="bp">True</span>
                        <span class="k">break</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">adjectival_removed</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__verb_suffixes</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;la&quot;</span><span class="p">,</span> <span class="s">u&quot;na&quot;</span><span class="p">,</span> <span class="s">u&quot;ete&quot;</span><span class="p">,</span> <span class="s">u&quot;i`te&quot;</span><span class="p">,</span> <span class="s">u&quot;li&quot;</span><span class="p">,</span>
                                      <span class="s">u&quot;i`&quot;</span><span class="p">,</span> <span class="s">u&quot;l&quot;</span><span class="p">,</span> <span class="s">u&quot;em&quot;</span><span class="p">,</span> <span class="s">u&quot;n&quot;</span><span class="p">,</span> <span class="s">u&quot;lo&quot;</span><span class="p">,</span> <span class="s">u&quot;no&quot;</span><span class="p">,</span>
                                      <span class="s">u&quot;et&quot;</span><span class="p">,</span> <span class="s">u&quot;i^ut&quot;</span><span class="p">,</span> <span class="s">u&quot;ny&quot;</span><span class="p">,</span> <span class="s">u&quot;t&#39;&quot;</span><span class="p">,</span> <span class="s">u&quot;esh&#39;&quot;</span><span class="p">,</span>
                                      <span class="s">u&quot;nno&quot;</span><span class="p">):</span>
                            <span class="k">if</span> <span class="p">(</span><span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s">&quot;i^a&quot;</span> <span class="ow">or</span>
                                <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s">&quot;a&quot;</span><span class="p">):</span>
                                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                                <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                                <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                                <span class="n">verb_removed</span> <span class="o">=</span> <span class="bp">True</span>
                                <span class="k">break</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">verb_removed</span> <span class="o">=</span> <span class="bp">True</span>
                            <span class="k">break</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">adjectival_removed</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">verb_removed</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__noun_suffixes</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="k">break</span>

        <span class="c"># Step 2</span>
        <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&quot;i&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c"># Step 3</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__derivational_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># Step 4</span>
        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&quot;nn&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">undouble_success</span> <span class="o">=</span> <span class="bp">True</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">undouble_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__superlative_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">superlative_removed</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&quot;nn&quot;</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">undouble_success</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">superlative_removed</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&quot;&#39;&quot;</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">chr_exceeded</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__roman_to_cyrillic</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>


        <span class="k">return</span> <span class="n">word</span>


</div>
    <span class="k">def</span> <span class="nf">__regions_russian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Return the regions RV and R2 which are used by the Russian stemmer.</span>

<span class="sd">        In any word, RV is the region after the first vowel,</span>
<span class="sd">        or the end of the word if it contains no vowel.</span>

<span class="sd">        R2 is the region after the first non-vowel following</span>
<span class="sd">        a vowel in R1, or the end of the word if there is no such non-vowel.</span>

<span class="sd">        R1 is the region after the first non-vowel following a vowel,</span>
<span class="sd">        or the end of the word if there is no such non-vowel.</span>

<span class="sd">        :param word: The Russian word whose regions RV and R2 are determined.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: the regions RV and R2 for the respective Russian word.</span>
<span class="sd">        :rtype: tuple</span>
<span class="sd">        :note: This helper method is invoked by the stem method of the subclass</span>
<span class="sd">               RussianStemmer. It is not to be invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="s">u&quot;&quot;</span>

        <span class="n">vowels</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;A&quot;</span><span class="p">,</span> <span class="s">u&quot;U&quot;</span><span class="p">,</span> <span class="s">u&quot;E&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">,</span> <span class="s">u&quot;o&quot;</span><span class="p">,</span> <span class="s">u&quot;u&quot;</span><span class="p">,</span> <span class="s">u&quot;y&quot;</span><span class="p">)</span>
        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;i^a&quot;</span><span class="p">,</span> <span class="s">u&quot;A&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;i^u&quot;</span><span class="p">,</span> <span class="s">u&quot;U&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;e`&quot;</span><span class="p">,</span> <span class="s">u&quot;E&quot;</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
                <span class="k">break</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
                <span class="k">break</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
                <span class="k">break</span>

        <span class="n">r2</span> <span class="o">=</span> <span class="p">(</span><span class="n">r2</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;A&quot;</span><span class="p">,</span> <span class="s">u&quot;i^a&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;U&quot;</span><span class="p">,</span> <span class="s">u&quot;i^u&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;E&quot;</span><span class="p">,</span> <span class="s">u&quot;e`&quot;</span><span class="p">))</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="p">(</span><span class="n">rv</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;A&quot;</span><span class="p">,</span> <span class="s">u&quot;i^a&quot;</span><span class="p">)</span>
              <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;U&quot;</span><span class="p">,</span> <span class="s">u&quot;i^u&quot;</span><span class="p">)</span>
              <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;E&quot;</span><span class="p">,</span> <span class="s">u&quot;e`&quot;</span><span class="p">))</span>


        <span class="k">return</span> <span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">r2</span><span class="p">)</span>



    <span class="k">def</span> <span class="nf">__cyrillic_to_roman</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Transliterate a Russian word into the Roman alphabet.</span>

<span class="sd">        A Russian word whose letters consist of the Cyrillic</span>
<span class="sd">        alphabet are transliterated into the Roman alphabet</span>
<span class="sd">        in order to ease the forthcoming stemming process.</span>

<span class="sd">        :param word: The word that is transliterated.</span>
<span class="sd">        :type word: unicode</span>
<span class="sd">        :return: the transliterated word.</span>
<span class="sd">        :rtype: unicode</span>
<span class="sd">        :note: This helper method is invoked by the stem method of the subclass</span>
<span class="sd">               RussianStemmer. It is not to be invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0410</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0430</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0411</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;b&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0431</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;b&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0412</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;v&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0432</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;v&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0413</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;g&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0433</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;g&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0414</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;d&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0434</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;d&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0415</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0435</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0401</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0451</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0416</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;zh&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0436</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;zh&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0417</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;z&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0437</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;z&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0418</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0438</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0419</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i`&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0439</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i`&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u041A</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;k&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u043A</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;k&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u041B</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;l&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u043B</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;l&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u041C</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;m&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u043C</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;m&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u041D</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;n&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u043D</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;n&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u041E</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;o&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u043E</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;o&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u041F</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;p&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u043F</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;p&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0420</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0440</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;r&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0421</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;s&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0441</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;s&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0422</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;t&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0442</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;t&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0423</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0443</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;u&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0424</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;f&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0444</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;f&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0425</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;kh&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0445</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;kh&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0426</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;t^s&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0446</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;t^s&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0427</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;ch&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0447</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;ch&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0428</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;sh&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0448</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;sh&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0429</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;shch&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u0449</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;shch&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u042A</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;&#39;&#39;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u044A</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;&#39;&#39;&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u042B</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;y&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u044B</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;y&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u042C</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;&#39;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u044C</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;&#39;&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u042D</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;e`&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u044D</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;e`&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u042E</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i^u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u044E</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i^u&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u042F</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i^a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\u044F</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i^a&quot;</span><span class="p">))</span>


        <span class="k">return</span> <span class="n">word</span>



    <span class="k">def</span> <span class="nf">__roman_to_cyrillic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Transliterate a Russian word back into the Cyrillic alphabet.</span>

<span class="sd">        A Russian word formerly transliterated into the Roman alphabet</span>
<span class="sd">        in order to ease the stemming process, is transliterated back</span>
<span class="sd">        into the Cyrillic alphabet, its original form.</span>

<span class="sd">        :param word: The word that is transliterated.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: word, the transliterated word.</span>
<span class="sd">        :rtype: unicode</span>
<span class="sd">        :note: This helper method is invoked by the stem method of the subclass</span>
<span class="sd">               RussianStemmer. It is not to be invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;i^u&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u044E</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;i^a&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u044F</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;shch&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0449</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;kh&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0445</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;t^s&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0446</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;ch&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0447</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;e`&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u044D</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;i`&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0439</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;sh&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0448</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;k&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u043A</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0435</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;zh&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0436</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;a&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0430</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;b&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0431</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;v&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0432</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;g&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0433</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;d&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0434</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0435</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;z&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0437</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;i&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0438</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;l&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u043B</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;m&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u043C</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;n&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u043D</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;o&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u043E</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;p&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u043F</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;r&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0440</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;s&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0441</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;t&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0442</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;u&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0443</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;f&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u0444</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;&#39;&#39;&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u044A</span><span class="s">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;y&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u044B</span><span class="s">&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;&#39;&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\u044C</span><span class="s">&quot;</span><span class="p">))</span>


        <span class="k">return</span> <span class="n">word</span>


</div>
<div class="viewcode-block" id="SpanishStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.SpanishStemmer">[docs]</a><span class="k">class</span> <span class="nc">SpanishStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The Spanish Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Spanish vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __step0_suffixes: Suffixes to be deleted in step 0 of the algorithm.</span>
<span class="sd">    :type __step0_suffixes: tuple</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2a_suffixes: Suffixes to be deleted in step 2a of the algorithm.</span>
<span class="sd">    :type __step2a_suffixes: tuple</span>
<span class="sd">    :cvar __step2b_suffixes: Suffixes to be deleted in step 2b of the algorithm.</span>
<span class="sd">    :type __step2b_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Spanish</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/spanish/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiou</span><span class="se">\xE1\xE9\xED\xF3\xFA\xFC</span><span class="s">&quot;</span>
    <span class="n">__step0_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;selas&quot;</span><span class="p">,</span> <span class="s">u&quot;selos&quot;</span><span class="p">,</span> <span class="s">u&quot;sela&quot;</span><span class="p">,</span> <span class="s">u&quot;selo&quot;</span><span class="p">,</span> <span class="s">u&quot;las&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;les&quot;</span><span class="p">,</span> <span class="s">u&quot;los&quot;</span><span class="p">,</span> <span class="s">u&quot;nos&quot;</span><span class="p">,</span> <span class="s">u&quot;me&quot;</span><span class="p">,</span> <span class="s">u&quot;se&quot;</span><span class="p">,</span> <span class="s">u&quot;la&quot;</span><span class="p">,</span> <span class="s">u&quot;le&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;lo&quot;</span><span class="p">)</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;amientos&#39;</span><span class="p">,</span> <span class="s">u&#39;imientos&#39;</span><span class="p">,</span> <span class="s">u&#39;amiento&#39;</span><span class="p">,</span> <span class="s">u&#39;imiento&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;aciones&#39;</span><span class="p">,</span> <span class="s">u&#39;uciones&#39;</span><span class="p">,</span> <span class="s">u&#39;adoras&#39;</span><span class="p">,</span> <span class="s">u&#39;adores&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ancias&#39;</span><span class="p">,</span> <span class="s">u&#39;log</span><span class="se">\xED</span><span class="s">as&#39;</span><span class="p">,</span> <span class="s">u&#39;encias&#39;</span><span class="p">,</span> <span class="s">u&#39;amente&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;idades&#39;</span><span class="p">,</span> <span class="s">u&#39;anzas&#39;</span><span class="p">,</span> <span class="s">u&#39;ismos&#39;</span><span class="p">,</span> <span class="s">u&#39;ables&#39;</span><span class="p">,</span> <span class="s">u&#39;ibles&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;istas&#39;</span><span class="p">,</span> <span class="s">u&#39;adora&#39;</span><span class="p">,</span> <span class="s">u&#39;aci</span><span class="se">\xF3</span><span class="s">n&#39;</span><span class="p">,</span> <span class="s">u&#39;antes&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ancia&#39;</span><span class="p">,</span> <span class="s">u&#39;log</span><span class="se">\xED</span><span class="s">a&#39;</span><span class="p">,</span> <span class="s">u&#39;uci</span><span class="se">\xf3</span><span class="s">n&#39;</span><span class="p">,</span> <span class="s">u&#39;encia&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;mente&#39;</span><span class="p">,</span> <span class="s">u&#39;anza&#39;</span><span class="p">,</span> <span class="s">u&#39;icos&#39;</span><span class="p">,</span> <span class="s">u&#39;icas&#39;</span><span class="p">,</span> <span class="s">u&#39;ismo&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;able&#39;</span><span class="p">,</span> <span class="s">u&#39;ible&#39;</span><span class="p">,</span> <span class="s">u&#39;ista&#39;</span><span class="p">,</span> <span class="s">u&#39;osos&#39;</span><span class="p">,</span> <span class="s">u&#39;osas&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ador&#39;</span><span class="p">,</span> <span class="s">u&#39;ante&#39;</span><span class="p">,</span> <span class="s">u&#39;idad&#39;</span><span class="p">,</span> <span class="s">u&#39;ivas&#39;</span><span class="p">,</span> <span class="s">u&#39;ivos&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ico&#39;</span><span class="p">,</span>
                        <span class="s">u&#39;ica&#39;</span><span class="p">,</span> <span class="s">u&#39;oso&#39;</span><span class="p">,</span> <span class="s">u&#39;osa&#39;</span><span class="p">,</span> <span class="s">u&#39;iva&#39;</span><span class="p">,</span> <span class="s">u&#39;ivo&#39;</span><span class="p">)</span>
    <span class="n">__step2a_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;yeron&#39;</span><span class="p">,</span> <span class="s">u&#39;yendo&#39;</span><span class="p">,</span> <span class="s">u&#39;yamos&#39;</span><span class="p">,</span> <span class="s">u&#39;yais&#39;</span><span class="p">,</span> <span class="s">u&#39;yan&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;yen&#39;</span><span class="p">,</span> <span class="s">u&#39;yas&#39;</span><span class="p">,</span> <span class="s">u&#39;yes&#39;</span><span class="p">,</span> <span class="s">u&#39;ya&#39;</span><span class="p">,</span> <span class="s">u&#39;ye&#39;</span><span class="p">,</span> <span class="s">u&#39;yo&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;y</span><span class="se">\xF3</span><span class="s">&#39;</span><span class="p">)</span>
    <span class="n">__step2b_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&#39;ar</span><span class="se">\xED</span><span class="s">amos&#39;</span><span class="p">,</span> <span class="s">u&#39;er</span><span class="se">\xED</span><span class="s">amos&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\xED</span><span class="s">amos&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;i</span><span class="se">\xE9</span><span class="s">ramos&#39;</span><span class="p">,</span> <span class="s">u&#39;i</span><span class="se">\xE9</span><span class="s">semos&#39;</span><span class="p">,</span> <span class="s">u&#39;ar</span><span class="se">\xED</span><span class="s">ais&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;aremos&#39;</span><span class="p">,</span> <span class="s">u&#39;er</span><span class="se">\xED</span><span class="s">ais&#39;</span><span class="p">,</span> <span class="s">u&#39;eremos&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ir</span><span class="se">\xED</span><span class="s">ais&#39;</span><span class="p">,</span> <span class="s">u&#39;iremos&#39;</span><span class="p">,</span> <span class="s">u&#39;ierais&#39;</span><span class="p">,</span> <span class="s">u&#39;ieseis&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;asteis&#39;</span><span class="p">,</span> <span class="s">u&#39;isteis&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">bamos&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">ramos&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">semos&#39;</span><span class="p">,</span> <span class="s">u&#39;ar</span><span class="se">\xED</span><span class="s">an&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ar</span><span class="se">\xED</span><span class="s">as&#39;</span><span class="p">,</span> <span class="s">u&#39;ar</span><span class="se">\xE9</span><span class="s">is&#39;</span><span class="p">,</span> <span class="s">u&#39;er</span><span class="se">\xED</span><span class="s">an&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;er</span><span class="se">\xED</span><span class="s">as&#39;</span><span class="p">,</span> <span class="s">u&#39;er</span><span class="se">\xE9</span><span class="s">is&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\xED</span><span class="s">an&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ir</span><span class="se">\xED</span><span class="s">as&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\xE9</span><span class="s">is&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ieran&#39;</span><span class="p">,</span> <span class="s">u&#39;iesen&#39;</span><span class="p">,</span> <span class="s">u&#39;ieron&#39;</span><span class="p">,</span> <span class="s">u&#39;iendo&#39;</span><span class="p">,</span> <span class="s">u&#39;ieras&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ieses&#39;</span><span class="p">,</span> <span class="s">u&#39;abais&#39;</span><span class="p">,</span> <span class="s">u&#39;arais&#39;</span><span class="p">,</span> <span class="s">u&#39;aseis&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">amos&#39;</span><span class="p">,</span> <span class="s">u&#39;ar</span><span class="se">\xE1</span><span class="s">n&#39;</span><span class="p">,</span> <span class="s">u&#39;ar</span><span class="se">\xE1</span><span class="s">s&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ar</span><span class="se">\xED</span><span class="s">a&#39;</span><span class="p">,</span> <span class="s">u&#39;er</span><span class="se">\xE1</span><span class="s">n&#39;</span><span class="p">,</span> <span class="s">u&#39;er</span><span class="se">\xE1</span><span class="s">s&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;er</span><span class="se">\xED</span><span class="s">a&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\xE1</span><span class="s">n&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\xE1</span><span class="s">s&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ir</span><span class="se">\xED</span><span class="s">a&#39;</span><span class="p">,</span> <span class="s">u&#39;iera&#39;</span><span class="p">,</span> <span class="s">u&#39;iese&#39;</span><span class="p">,</span> <span class="s">u&#39;aste&#39;</span><span class="p">,</span> <span class="s">u&#39;iste&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;aban&#39;</span><span class="p">,</span> <span class="s">u&#39;aran&#39;</span><span class="p">,</span> <span class="s">u&#39;asen&#39;</span><span class="p">,</span> <span class="s">u&#39;aron&#39;</span><span class="p">,</span> <span class="s">u&#39;ando&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;abas&#39;</span><span class="p">,</span> <span class="s">u&#39;adas&#39;</span><span class="p">,</span> <span class="s">u&#39;idas&#39;</span><span class="p">,</span> <span class="s">u&#39;aras&#39;</span><span class="p">,</span> <span class="s">u&#39;ases&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;</span><span class="se">\xED</span><span class="s">ais&#39;</span><span class="p">,</span> <span class="s">u&#39;ados&#39;</span><span class="p">,</span> <span class="s">u&#39;idos&#39;</span><span class="p">,</span> <span class="s">u&#39;amos&#39;</span><span class="p">,</span> <span class="s">u&#39;imos&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;emos&#39;</span><span class="p">,</span> <span class="s">u&#39;ar</span><span class="se">\xE1</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ar</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;er</span><span class="se">\xE1</span><span class="s">&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;er</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\xE1</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ir</span><span class="se">\xE9</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;aba&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ada&#39;</span><span class="p">,</span> <span class="s">u&#39;ida&#39;</span><span class="p">,</span> <span class="s">u&#39;ara&#39;</span><span class="p">,</span> <span class="s">u&#39;ase&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xED</span><span class="s">an&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;ado&#39;</span><span class="p">,</span> <span class="s">u&#39;ido&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xED</span><span class="s">as&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xE1</span><span class="s">is&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;</span><span class="se">\xE9</span><span class="s">is&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xED</span><span class="s">a&#39;</span><span class="p">,</span> <span class="s">u&#39;ad&#39;</span><span class="p">,</span> <span class="s">u&#39;ed&#39;</span><span class="p">,</span> <span class="s">u&#39;id&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;an&#39;</span><span class="p">,</span> <span class="s">u&#39;i</span><span class="se">\xF3</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">u&#39;ar&#39;</span><span class="p">,</span> <span class="s">u&#39;er&#39;</span><span class="p">,</span> <span class="s">u&#39;ir&#39;</span><span class="p">,</span> <span class="s">u&#39;as&#39;</span><span class="p">,</span>
                         <span class="s">u&#39;</span><span class="se">\xED</span><span class="s">s&#39;</span><span class="p">,</span> <span class="s">u&#39;en&#39;</span><span class="p">,</span> <span class="s">u&#39;es&#39;</span><span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;os&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="s">u&quot;o&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xED</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xF3</span><span class="s">&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="SpanishStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.SpanishStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem a Spanish word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rv_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c"># STEP 0: Attached pronoun</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step0_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;i</span><span class="se">\xE9</span><span class="s">ndo&quot;</span><span class="p">,</span>
                                                   <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">ndo&quot;</span><span class="p">,</span>
                                                   <span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">r&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">r&quot;</span><span class="p">,</span>
                                                   <span class="s">u&quot;</span><span class="se">\xED</span><span class="s">r&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">)</span>
                                                   <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">)</span>
                                                   <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xED</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">))</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="p">(</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">)</span>
                                               <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">)</span>
                                               <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xED</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">))</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="p">(</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">)</span>
                                               <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">)</span>
                                               <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xED</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">))</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="p">(</span><span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">)</span>
                                               <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">)</span>
                                               <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xED</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;ando&quot;</span><span class="p">,</span> <span class="s">u&quot;iendo&quot;</span><span class="p">,</span>
                                                     <span class="s">u&quot;ar&quot;</span><span class="p">,</span> <span class="s">u&quot;er&quot;</span><span class="p">,</span> <span class="s">u&quot;ir&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                    <span class="k">elif</span> <span class="p">(</span><span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;yendo&quot;</span><span class="p">)</span> <span class="ow">and</span>
                          <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;uyendo&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 1: Standard suffix removal</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;amente&quot;</span> <span class="ow">and</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;iv&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;at&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;os&quot;</span><span class="p">,</span> <span class="s">u&quot;ic&quot;</span><span class="p">,</span> <span class="s">u&quot;ad&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;adora&quot;</span><span class="p">,</span> <span class="s">u&quot;ador&quot;</span><span class="p">,</span> <span class="s">u&quot;aci</span><span class="se">\xF3</span><span class="s">n&quot;</span><span class="p">,</span> <span class="s">u&quot;adoras&quot;</span><span class="p">,</span>
                                  <span class="s">u&quot;adores&quot;</span><span class="p">,</span> <span class="s">u&quot;aciones&quot;</span><span class="p">,</span> <span class="s">u&quot;ante&quot;</span><span class="p">,</span> <span class="s">u&quot;antes&quot;</span><span class="p">,</span>
                                  <span class="s">u&quot;ancia&quot;</span><span class="p">,</span> <span class="s">u&quot;ancias&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;ic&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;log</span><span class="se">\xED</span><span class="s">a&quot;</span><span class="p">,</span> <span class="s">u&quot;log</span><span class="se">\xED</span><span class="s">as&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">suffix</span><span class="p">,</span> <span class="s">u&quot;log&quot;</span><span class="p">)</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">suffix</span><span class="p">,</span> <span class="s">u&quot;log&quot;</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;uci</span><span class="se">\xF3</span><span class="s">n&quot;</span><span class="p">,</span> <span class="s">u&quot;uciones&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">suffix</span><span class="p">,</span> <span class="s">u&quot;u&quot;</span><span class="p">)</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">suffix</span><span class="p">,</span> <span class="s">u&quot;u&quot;</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;encia&quot;</span><span class="p">,</span> <span class="s">u&quot;encias&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">suffix</span><span class="p">,</span> <span class="s">u&quot;ente&quot;</span><span class="p">)</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">suffix</span><span class="p">,</span> <span class="s">u&quot;ente&quot;</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;mente&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">u&quot;ante&quot;</span><span class="p">,</span> <span class="s">u&quot;able&quot;</span><span class="p">,</span> <span class="s">u&quot;ible&quot;</span><span class="p">)):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;idad&quot;</span><span class="p">,</span> <span class="s">u&quot;idades&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                        <span class="k">for</span> <span class="n">pre_suff</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;abil&quot;</span><span class="p">,</span> <span class="s">u&quot;ic&quot;</span><span class="p">,</span> <span class="s">u&quot;iv&quot;</span><span class="p">):</span>
                            <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">pre_suff</span><span class="p">):</span>
                                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">pre_suff</span><span class="p">)]</span>
                                <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">pre_suff</span><span class="p">)]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;ivo&quot;</span><span class="p">,</span> <span class="s">u&quot;iva&quot;</span><span class="p">,</span> <span class="s">u&quot;ivos&quot;</span><span class="p">,</span> <span class="s">u&quot;ivas&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;at&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 2a: Verb suffixes beginning &#39;y&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2a_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span>
                    <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s">u&quot;u&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">break</span>

        <span class="c"># STEP 2b: Other verb suffixes</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2b_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;en&quot;</span><span class="p">,</span> <span class="s">u&quot;es&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">is&quot;</span><span class="p">,</span> <span class="s">u&quot;emos&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;gu&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">u&quot;gu&quot;</span><span class="p">):</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">break</span>

        <span class="c"># STEP 3: Residual suffix</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s">u&quot;gu&quot;</span> <span class="ow">and</span> <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">u&quot;u&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE1</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xE9</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xED</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;i&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xF3</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;o&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&quot;</span><span class="se">\xFA</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">u&quot;u&quot;</span><span class="p">))</span>


        <span class="k">return</span> <span class="n">word</span>


</div></div>
<div class="viewcode-block" id="SwedishStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.SwedishStemmer">[docs]</a><span class="k">class</span> <span class="nc">SwedishStemmer</span><span class="p">(</span><span class="n">_ScandinavianStemmer</span><span class="p">):</span>

    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    The Swedish Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Swedish vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __s_ending: Letters that may directly appear before a word final &#39;s&#39;.</span>
<span class="sd">    :type __s_ending: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Swedish</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/swedish/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s">u&quot;aeiouy</span><span class="se">\xE4\xE5\xF6</span><span class="s">&quot;</span>
    <span class="n">__s_ending</span> <span class="o">=</span> <span class="s">u&quot;bcdfghjklmnoprtvy&quot;</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;heterna&quot;</span><span class="p">,</span> <span class="s">u&quot;hetens&quot;</span><span class="p">,</span> <span class="s">u&quot;heter&quot;</span><span class="p">,</span> <span class="s">u&quot;heten&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;anden&quot;</span><span class="p">,</span> <span class="s">u&quot;arnas&quot;</span><span class="p">,</span> <span class="s">u&quot;ernas&quot;</span><span class="p">,</span> <span class="s">u&quot;ornas&quot;</span><span class="p">,</span> <span class="s">u&quot;andes&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;andet&quot;</span><span class="p">,</span> <span class="s">u&quot;arens&quot;</span><span class="p">,</span> <span class="s">u&quot;arna&quot;</span><span class="p">,</span> <span class="s">u&quot;erna&quot;</span><span class="p">,</span> <span class="s">u&quot;orna&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;ande&quot;</span><span class="p">,</span> <span class="s">u&quot;arne&quot;</span><span class="p">,</span> <span class="s">u&quot;aste&quot;</span><span class="p">,</span> <span class="s">u&quot;aren&quot;</span><span class="p">,</span> <span class="s">u&quot;ades&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;erns&quot;</span><span class="p">,</span> <span class="s">u&quot;ade&quot;</span><span class="p">,</span> <span class="s">u&quot;are&quot;</span><span class="p">,</span> <span class="s">u&quot;ern&quot;</span><span class="p">,</span> <span class="s">u&quot;ens&quot;</span><span class="p">,</span> <span class="s">u&quot;het&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;ast&quot;</span><span class="p">,</span> <span class="s">u&quot;ad&quot;</span><span class="p">,</span> <span class="s">u&quot;en&quot;</span><span class="p">,</span> <span class="s">u&quot;ar&quot;</span><span class="p">,</span> <span class="s">u&quot;er&quot;</span><span class="p">,</span> <span class="s">u&quot;or&quot;</span><span class="p">,</span> <span class="s">u&quot;as&quot;</span><span class="p">,</span>
                        <span class="s">u&quot;es&quot;</span><span class="p">,</span> <span class="s">u&quot;at&quot;</span><span class="p">,</span> <span class="s">u&quot;a&quot;</span><span class="p">,</span> <span class="s">u&quot;e&quot;</span><span class="p">,</span> <span class="s">u&quot;s&quot;</span><span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;dd&quot;</span><span class="p">,</span> <span class="s">u&quot;gd&quot;</span><span class="p">,</span> <span class="s">u&quot;nn&quot;</span><span class="p">,</span> <span class="s">u&quot;dt&quot;</span><span class="p">,</span> <span class="s">u&quot;gt&quot;</span><span class="p">,</span> <span class="s">u&quot;kt&quot;</span><span class="p">,</span> <span class="s">u&quot;tt&quot;</span><span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">u&quot;fullt&quot;</span><span class="p">,</span> <span class="s">u&quot;l</span><span class="se">\xF6</span><span class="s">st&quot;</span><span class="p">,</span> <span class="s">u&quot;els&quot;</span><span class="p">,</span> <span class="s">u&quot;lig&quot;</span><span class="p">,</span> <span class="s">u&quot;ig&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="SwedishStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.SwedishStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">        Stem a Swedish word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">r1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1_scandinavian</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c"># STEP 1</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s">u&quot;s&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__s_ending</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c"># STEP 2</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c"># STEP 3</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;els&quot;</span><span class="p">,</span> <span class="s">u&quot;lig&quot;</span><span class="p">,</span> <span class="s">u&quot;ig&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s">u&quot;fullt&quot;</span><span class="p">,</span> <span class="s">u&quot;l</span><span class="se">\xF6</span><span class="s">st&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>


        <span class="k">return</span> <span class="n">word</span>


</div></div>
<div class="viewcode-block" id="demo"><a class="viewcode-back" href="../../../api/nltk.stem.html#nltk.stem.snowball.demo">[docs]</a><span class="k">def</span> <span class="nf">demo</span><span class="p">():</span>
    <span class="sd">u&quot;&quot;&quot;</span>
<span class="sd">    This function provides a demonstration of the Snowball stemmers.</span>

<span class="sd">    After invoking this function and specifying a language,</span>
<span class="sd">    it stems an excerpt of the Universal Declaration of Human Rights</span>
<span class="sd">    (which is a part of the NLTK corpus collection) and then prints</span>
<span class="sd">    out the original and the stemmed text.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">import</span> <span class="nn">re</span>
    <span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">udhr</span>

    <span class="n">udhr_corpus</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;danish&quot;</span><span class="p">:</span>     <span class="s">&quot;Danish_Dansk-Latin1&quot;</span><span class="p">,</span>
                   <span class="s">&quot;dutch&quot;</span><span class="p">:</span>      <span class="s">&quot;Dutch_Nederlands-Latin1&quot;</span><span class="p">,</span>
                   <span class="s">&quot;english&quot;</span><span class="p">:</span>    <span class="s">&quot;English-Latin1&quot;</span><span class="p">,</span>
                   <span class="s">&quot;finnish&quot;</span><span class="p">:</span>    <span class="s">&quot;Finnish_Suomi-Latin1&quot;</span><span class="p">,</span>
                   <span class="s">&quot;french&quot;</span><span class="p">:</span>     <span class="s">&quot;French_Francais-Latin1&quot;</span><span class="p">,</span>
                   <span class="s">&quot;german&quot;</span><span class="p">:</span>     <span class="s">&quot;German_Deutsch-Latin1&quot;</span><span class="p">,</span>
                   <span class="s">&quot;hungarian&quot;</span><span class="p">:</span>  <span class="s">&quot;Hungarian_Magyar-UTF8&quot;</span><span class="p">,</span>
                   <span class="s">&quot;italian&quot;</span><span class="p">:</span>    <span class="s">&quot;Italian_Italiano-Latin1&quot;</span><span class="p">,</span>
                   <span class="s">&quot;norwegian&quot;</span><span class="p">:</span>  <span class="s">&quot;Norwegian-Latin1&quot;</span><span class="p">,</span>
                   <span class="s">&quot;porter&quot;</span><span class="p">:</span>     <span class="s">&quot;English-Latin1&quot;</span><span class="p">,</span>
                   <span class="s">&quot;portuguese&quot;</span><span class="p">:</span> <span class="s">&quot;Portuguese_Portugues-Latin1&quot;</span><span class="p">,</span>
                   <span class="s">&quot;romanian&quot;</span><span class="p">:</span>   <span class="s">&quot;Romanian_Romana-Latin2&quot;</span><span class="p">,</span>
                   <span class="s">&quot;russian&quot;</span><span class="p">:</span>    <span class="s">&quot;Russian-UTF8&quot;</span><span class="p">,</span>
                   <span class="s">&quot;spanish&quot;</span><span class="p">:</span>    <span class="s">&quot;Spanish-Latin1&quot;</span><span class="p">,</span>
                   <span class="s">&quot;swedish&quot;</span><span class="p">:</span>    <span class="s">&quot;Swedish_Svenska-Latin1&quot;</span><span class="p">,</span>
                   <span class="p">}</span>

    <span class="k">print</span> <span class="s">u&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
    <span class="k">print</span> <span class="s">u&quot;******************************&quot;</span>
    <span class="k">print</span> <span class="s">u&quot;Demo for the Snowball stemmers&quot;</span>
    <span class="k">print</span> <span class="s">u&quot;******************************&quot;</span>

    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>

        <span class="n">language</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">u&quot;Please enter the name of the language &quot;</span> <span class="o">+</span>
                             <span class="s">u&quot;to be demonstrated</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">+</span>
                             <span class="s">u&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SnowballStemmer</span><span class="o">.</span><span class="n">languages</span><span class="p">)</span> <span class="o">+</span>
                             <span class="s">u&quot;</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">+</span>
                             <span class="s">u&quot;(enter &#39;exit&#39; in order to leave): &quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">language</span> <span class="o">==</span> <span class="s">u&quot;exit&quot;</span><span class="p">:</span>
            <span class="k">break</span>

        <span class="k">if</span> <span class="n">language</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SnowballStemmer</span><span class="o">.</span><span class="n">languages</span><span class="p">:</span>
            <span class="k">print</span> <span class="p">(</span><span class="s">u&quot;</span><span class="se">\n</span><span class="s">Oops, there is no stemmer for this language. &quot;</span> <span class="o">+</span>
                   <span class="s">u&quot;Please try again.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="n">stemmer</span> <span class="o">=</span> <span class="n">SnowballStemmer</span><span class="p">(</span><span class="n">language</span><span class="p">)</span>
        <span class="n">excerpt</span> <span class="o">=</span> <span class="n">udhr</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="n">udhr_corpus</span><span class="p">[</span><span class="n">language</span><span class="p">])</span> <span class="p">[:</span><span class="mi">300</span><span class="p">]</span>

        <span class="n">stemmed</span> <span class="o">=</span> <span class="s">u&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">stemmer</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">excerpt</span><span class="p">])</span>
        <span class="n">stemmed</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">r&quot;(.{,70})\s&quot;</span><span class="p">,</span> <span class="s">r&#39;\1\n&#39;</span><span class="p">,</span> <span class="n">stemmed</span><span class="o">+</span><span class="s">u&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
        <span class="n">excerpt</span> <span class="o">=</span> <span class="s">u&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">excerpt</span><span class="p">)</span>
        <span class="n">excerpt</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">r&quot;(.{,70})\s&quot;</span><span class="p">,</span> <span class="s">r&#39;\1\n&#39;</span><span class="p">,</span> <span class="n">excerpt</span><span class="o">+</span><span class="s">u&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>

        <span class="k">print</span> <span class="s">u&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="k">print</span> <span class="s">u&#39;-&#39;</span> <span class="o">*</span> <span class="mi">70</span>
        <span class="k">print</span> <span class="s">u&#39;ORIGINAL&#39;</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">70</span><span class="p">)</span>
        <span class="k">print</span> <span class="n">excerpt</span>
        <span class="k">print</span> <span class="s">u&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span>
        <span class="k">print</span> <span class="s">u&#39;STEMMED RESULTS&#39;</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">70</span><span class="p">)</span>
        <span class="k">print</span> <span class="n">stemmed</span>
        <span class="k">print</span> <span class="s">u&#39;-&#39;</span> <span class="o">*</span> <span class="mi">70</span>
        <span class="k">print</span> <span class="s">u&quot;</span><span class="se">\n</span><span class="s">&quot;</span>


</div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">doctest</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">(</span><span class="n">optionflags</span><span class="o">=</span><span class="n">doctest</span><span class="o">.</span><span class="n">NORMALIZE_WHITESPACE</span><span class="p">)</span>
</pre></div>

          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../news.html">NLTK News</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/nltk.html">nltk Package</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="../../../search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../../../genindex.html" title="General Index"
             >index</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2012, NLTK Project.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>