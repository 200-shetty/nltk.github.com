<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.11: http://docutils.sourceforge.net/" />
<title>Metrics</title>
<style type="text/css">

/*
:Author: Edward Loper, James Curran
:Copyright: This stylesheet has been placed in the public domain.

Stylesheet for use with Docutils.

This stylesheet defines new css classes used by NLTK.

It uses a Python syntax highlighting scheme that matches
the colour scheme used by IDLE, which makes it easier for
beginners to check they are typing things in correctly.
*/

/* Include the standard docutils stylesheet. */
@import url(default.css);

/* Custom inline roles */
span.placeholder    { font-style: italic; font-family: monospace; }
span.example        { font-style: italic; }
span.emphasis       { font-style: italic; }
span.termdef        { font-weight: bold; }
/*span.term           { font-style: italic; }*/
span.category       { font-variant: small-caps; }
span.feature        { font-variant: small-caps; }
span.fval           { font-style: italic; }
span.math           { font-style: italic; }
span.mathit         { font-style: italic; }
span.lex            { font-variant: small-caps; }
span.guide-linecount{ text-align: right; display: block;}

/* Python souce code listings */
span.pysrc-prompt   { color: #9b0000; }
span.pysrc-more     { color: #9b00ff; }
span.pysrc-keyword  { color: #e06000; }
span.pysrc-builtin  { color: #940094; }
span.pysrc-string   { color: #00aa00; }
span.pysrc-comment  { color: #ff0000; }
span.pysrc-output   { color: #0000ff; }
span.pysrc-except   { color: #ff0000; }
span.pysrc-defname  { color: #008080; }


/* Doctest blocks */
pre.doctest         { margin: 0; padding: 0; font-weight: bold; }
div.doctest         { margin: 0 1em 1em 1em; padding: 0; }
table.doctest       { margin: 0; padding: 0;
                      border-top: 1px solid gray;
                      border-bottom: 1px solid gray; }
pre.copy-notify     { margin: 0; padding: 0.2em; font-weight: bold;
                      background-color: #ffffff; }

/* Python source listings */
div.pylisting       { margin: 0 1em 1em 1em; padding: 0; }
table.pylisting     { margin: 0; padding: 0;
                      border-top: 1px solid gray; }
td.caption { border-top: 1px solid black; margin: 0; padding: 0; }
.caption-label { font-weight: bold;  }
td.caption p { margin: 0; padding: 0; font-style: normal;}

table tr td.codeblock { 
  padding: 0.2em ! important; margin: 0;
  border-left: 1px solid gray;
  border-right: 2px solid gray;
  border-top: 0px solid gray;
  border-bottom: 1px solid gray;
  font-weight: bold; background-color: #eeffee;
}

table tr td.doctest  { 
  padding: 0.2em; margin: 0;
  border-left: 1px solid gray;
  border-right: 2px solid gray;
  border-top: 0px solid gray;
  border-bottom: 1px solid gray;
  font-weight: bold; background-color: #eeeeff;
}

td.codeblock table tr td.copybar {
    background: #40a060; border: 1px solid gray;
    font-family: monospace; padding: 0; margin: 0; }
td.doctest table tr td.copybar {
    background: #4060a0; border: 1px solid gray;
    font-family: monospace; padding: 0; margin: 0; }

td.pysrc { padding-left: 0.5em; }

img.callout { border-width: 0px; }

table.docutils {
    border-style: solid;
    border-width: 1px;
    margin-top: 6px;
    border-color: grey;
    border-collapse: collapse; }

table.docutils th {
    border-style: none;
    border-width: 1px;
    border-color: grey;
    padding: 0 .5em 0 .5em; }

table.docutils td {
    border-style: none;
    border-width: 1px;
    border-color: grey; 
    padding: 0 .5em 0 .5em; }

table.footnote td { padding: 0; }
table.footnote { border-width: 0; }
table.footnote td { border-width: 0; }
table.footnote th { border-width: 0; }

table.noborder { border-width: 0; }

table.example pre { margin-top: 4px; margin-bottom: 0; }

/* For figures & tables */
p.caption { margin-bottom: 0; }
div.figure { text-align: center; }

/* The index */
div.index { border: 1px solid black;
            background-color: #eeeeee; }
div.index h1 { padding-left: 0.5em; margin-top: 0.5ex;
               border-bottom: 1px solid black; }
ul.index { margin-left: 0.5em; padding-left: 0; }
li.index { list-style-type: none; }
p.index-heading { font-size: 120%; font-style: italic; margin: 0; }
li.index ul { margin-left: 2em; padding-left: 0; }

/* 'Note' callouts */
div.note
{
  border-right:   #87ceeb 1px solid;
  padding-right: 4px;
  border-top: #87ceeb 1px solid;
  padding-left: 4px;
  padding-bottom: 4px;
  margin: 2px 5% 10px;
  border-left: #87ceeb 1px solid;
  padding-top: 4px;
  border-bottom: #87ceeb 1px solid;
  font-style: normal;
  font-family: verdana, arial;
  background-color: #b0c4de;
}

table.avm { border: 0px solid black; width: 0; }
table.avm tbody tr {border: 0px solid black; }
table.avm tbody tr td { padding: 2px; }
table.avm tbody tr td.avm-key { padding: 5px; font-variant: small-caps; }
table.avm tbody tr td.avm-eq { padding: 5px; }
table.avm tbody tr td.avm-val { padding: 5px; font-style: italic; }
p.avm-empty { font-style: normal; }
table.avm colgroup col { border: 0px solid black; }
table.avm tbody tr td.avm-topleft 
    { border-left: 2px solid #000080; border-top: 2px solid #000080; }
table.avm tbody tr td.avm-botleft 
    { border-left: 2px solid #000080; border-bottom: 2px solid #000080; }
table.avm tbody tr td.avm-topright
    { border-right: 2px solid #000080; border-top: 2px solid #000080; }
table.avm tbody tr td.avm-botright
    { border-right: 2px solid #000080; border-bottom: 2px solid #000080; }
table.avm tbody tr td.avm-left
    { border-left: 2px solid #000080; }
table.avm tbody tr td.avm-right
    { border-right: 2px solid #000080; }
table.avm tbody tr td.avm-topbotleft
    { border: 2px solid #000080; border-right: 0px solid black; }
table.avm tbody tr td.avm-topbotright
    { border: 2px solid #000080; border-left: 0px solid black; }
table.avm tbody tr td.avm-ident
    { font-size: 80%; padding: 0; padding-left: 2px; vertical-align: top; }
.avm-pointer
{ border: 1px solid #008000; padding: 1px; color: #008000; 
  background: #c0ffc0; font-style: normal; }

table.gloss { border: 0px solid black; width: 0; }
table.gloss tbody tr { border: 0px solid black; }
table.gloss tbody tr td { border: 0px solid black; }
table.gloss colgroup col { border: 0px solid black; }
table.gloss p { margin: 0; padding: 0; }

table.rst-example { border: 1px solid black; }
table.rst-example tbody tr td { background: #eeeeee; }
table.rst-example thead tr th { background: #c0ffff; }
td.rst-raw { width: 0; }

/* Used by nltk.org/doc/test: */
div.doctest-list { text-align: center; }
table.doctest-list { border: 1px solid black;
  margin-left: auto; margin-right: auto;
}
table.doctest-list tbody tr td { background: #eeeeee;
  border: 1px solid #cccccc; text-align: left; }
table.doctest-list thead tr th { background: #304050; color: #ffffff;
  border: 1px solid #000000;}
table.doctest-list thead tr a { color: #ffffff; }
span.doctest-passed { color: #008000; }
span.doctest-failed { color: #800000; }

</style>
</head>
<body>
<div class="document" id="metrics">
<h1 class="title">Metrics</h1>

<!-- Copyright (C) 2001-2013 NLTK Project -->
<!-- For license information, see LICENSE.TXT -->
<p>The <cite>nltk.metrics</cite> package provides a variety of <em>evaluation measures</em>
which can be used for a wide variety of NLP tasks.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; from __future__ import print_function
&gt;&gt;&gt; from nltk.metrics import *
</pre>
</blockquote>
<div class="section" id="standard-ir-scores">
<h1>Standard IR Scores</h1>
<p>We can use standard scores from information retrieval to test the
performance of taggers, chunkers, etc.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; reference = 'DET NN VB DET JJ NN NN IN DET NN'.split()
&gt;&gt;&gt; test    = 'DET VB VB DET NN NN NN IN DET NN'.split()
&gt;&gt;&gt; print(accuracy(reference, test))
0.8
</pre>
</blockquote>
<p>The following measures apply to sets:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; reference_set = set(reference)
&gt;&gt;&gt; test_set = set(test)
&gt;&gt;&gt; precision(reference_set, test_set)
1.0
&gt;&gt;&gt; print(recall(reference_set, test_set))
0.8
&gt;&gt;&gt; print(f_measure(reference_set, test_set))
0.88888888888...
</pre>
</blockquote>
<p>Measuring the likelihood of the data, given probability distributions:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; from nltk import FreqDist, MLEProbDist
&gt;&gt;&gt; pdist1 = MLEProbDist(FreqDist(&quot;aldjfalskfjaldsf&quot;))
&gt;&gt;&gt; pdist2 = MLEProbDist(FreqDist(&quot;aldjfalssjjlldss&quot;))
&gt;&gt;&gt; print(log_likelihood(['a', 'd'], [pdist1, pdist2]))
-2.7075187496...
</pre>
</blockquote>
</div>
<div class="section" id="distance-metrics">
<h1>Distance Metrics</h1>
<p>String edit distance (Levenshtein):</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; edit_distance(&quot;rain&quot;, &quot;shine&quot;)
3
</pre>
</blockquote>
<p>Other distance measures:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; s1 = set([1,2,3,4])
&gt;&gt;&gt; s2 = set([3,4,5])
&gt;&gt;&gt; binary_distance(s1, s2)
1.0
&gt;&gt;&gt; print(jaccard_distance(s1, s2))
0.6
&gt;&gt;&gt; print(masi_distance(s1, s2))
0.868...
</pre>
</blockquote>
</div>
<div class="section" id="miscellaneous-measures">
<h1>Miscellaneous Measures</h1>
<p>Rank Correlation works with two dictionaries mapping keys to ranks.
The dictionaries should have the same set of keys.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; spearman_correlation({'e':1, 't':2, 'a':3}, {'e':1, 'a':2, 't':3})
0.5
</pre>
</blockquote>
<p>Windowdiff uses a sliding window in comparing two segmentations of the same input (e.g. tokenizations, chunkings).
Segmentations are represented using strings of zeros and ones.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; s1 = &quot;000100000010&quot;
&gt;&gt;&gt; s2 = &quot;000010000100&quot;
&gt;&gt;&gt; s3 = &quot;100000010000&quot;
&gt;&gt;&gt; s4 = &quot;000000000000&quot;
&gt;&gt;&gt; s5 = &quot;111111111111&quot;
&gt;&gt;&gt; windowdiff(s1, s1, 3)
0.0
&gt;&gt;&gt; windowdiff(s1, s2, 3)
0.3
&gt;&gt;&gt; windowdiff(s2, s3, 3)
0.8
&gt;&gt;&gt; windowdiff(s1, s4, 3)
0.5
&gt;&gt;&gt; windowdiff(s1, s5, 3)
1.0
</pre>
</blockquote>
</div>
<div class="section" id="confusion-matrix">
<h1>Confusion Matrix</h1>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; reference = 'This is the reference data.  Testing 123.  aoaeoeoe'
&gt;&gt;&gt; test =      'Thos iz_the rifirenci data.  Testeng 123.  aoaeoeoe'
&gt;&gt;&gt; print(ConfusionMatrix(reference, test))
  |   . 1 2 3 T _ a c d e f g h i n o r s t z |
--+-------------------------------------------+
  |&lt;8&gt;. . . . . 1 . . . . . . . . . . . . . . |
. | .&lt;2&gt;. . . . . . . . . . . . . . . . . . . |
1 | . .&lt;1&gt;. . . . . . . . . . . . . . . . . . |
2 | . . .&lt;1&gt;. . . . . . . . . . . . . . . . . |
3 | . . . .&lt;1&gt;. . . . . . . . . . . . . . . . |
T | . . . . .&lt;2&gt;. . . . . . . . . . . . . . . |
_ | . . . . . .&lt;.&gt;. . . . . . . . . . . . . . |
a | . . . . . . .&lt;4&gt;. . . . . . . . . . . . . |
c | . . . . . . . .&lt;1&gt;. . . . . . . . . . . . |
d | . . . . . . . . .&lt;1&gt;. . . . . . . . . . . |
e | . . . . . . . . . .&lt;6&gt;. . . 3 . . . . . . |
f | . . . . . . . . . . .&lt;1&gt;. . . . . . . . . |
g | . . . . . . . . . . . .&lt;1&gt;. . . . . . . . |
h | . . . . . . . . . . . . .&lt;2&gt;. . . . . . . |
i | . . . . . . . . . . 1 . . .&lt;1&gt;. 1 . . . . |
n | . . . . . . . . . . . . . . .&lt;2&gt;. . . . . |
o | . . . . . . . . . . . . . . . .&lt;3&gt;. . . . |
r | . . . . . . . . . . . . . . . . .&lt;2&gt;. . . |
s | . . . . . . . . . . . . . . . . . .&lt;2&gt;. 1 |
t | . . . . . . . . . . . . . . . . . . .&lt;3&gt;. |
z | . . . . . . . . . . . . . . . . . . . .&lt;.&gt;|
--+-------------------------------------------+
(row = reference; col = test)
&lt;BLANKLINE&gt;
</pre>
<pre class="doctest-block">
&gt;&gt;&gt; cm = ConfusionMatrix(reference, test)
&gt;&gt;&gt; print(cm.pp(sort_by_count=True))
  |   e a i o s t . T h n r 1 2 3 c d f g _ z |
--+-------------------------------------------+
  |&lt;8&gt;. . . . . . . . . . . . . . . . . . 1 . |
e | .&lt;6&gt;. 3 . . . . . . . . . . . . . . . . . |
a | . .&lt;4&gt;. . . . . . . . . . . . . . . . . . |
i | . 1 .&lt;1&gt;1 . . . . . . . . . . . . . . . . |
o | . . . .&lt;3&gt;. . . . . . . . . . . . . . . . |
s | . . . . .&lt;2&gt;. . . . . . . . . . . . . . 1 |
t | . . . . . .&lt;3&gt;. . . . . . . . . . . . . . |
. | . . . . . . .&lt;2&gt;. . . . . . . . . . . . . |
T | . . . . . . . .&lt;2&gt;. . . . . . . . . . . . |
h | . . . . . . . . .&lt;2&gt;. . . . . . . . . . . |
n | . . . . . . . . . .&lt;2&gt;. . . . . . . . . . |
r | . . . . . . . . . . .&lt;2&gt;. . . . . . . . . |
1 | . . . . . . . . . . . .&lt;1&gt;. . . . . . . . |
2 | . . . . . . . . . . . . .&lt;1&gt;. . . . . . . |
3 | . . . . . . . . . . . . . .&lt;1&gt;. . . . . . |
c | . . . . . . . . . . . . . . .&lt;1&gt;. . . . . |
d | . . . . . . . . . . . . . . . .&lt;1&gt;. . . . |
f | . . . . . . . . . . . . . . . . .&lt;1&gt;. . . |
g | . . . . . . . . . . . . . . . . . .&lt;1&gt;. . |
_ | . . . . . . . . . . . . . . . . . . .&lt;.&gt;. |
z | . . . . . . . . . . . . . . . . . . . .&lt;.&gt;|
--+-------------------------------------------+
(row = reference; col = test)
&lt;BLANKLINE&gt;
</pre>
<pre class="doctest-block">
&gt;&gt;&gt; print(cm.pp(sort_by_count=True, truncate=10))
  |   e a i o s t . T h |
--+---------------------+
  |&lt;8&gt;. . . . . . . . . |
e | .&lt;6&gt;. 3 . . . . . . |
a | . .&lt;4&gt;. . . . . . . |
i | . 1 .&lt;1&gt;1 . . . . . |
o | . . . .&lt;3&gt;. . . . . |
s | . . . . .&lt;2&gt;. . . . |
t | . . . . . .&lt;3&gt;. . . |
. | . . . . . . .&lt;2&gt;. . |
T | . . . . . . . .&lt;2&gt;. |
h | . . . . . . . . .&lt;2&gt;|
--+---------------------+
(row = reference; col = test)
&lt;BLANKLINE&gt;
</pre>
<pre class="doctest-block">
&gt;&gt;&gt; print(cm.pp(sort_by_count=True, truncate=10, values_in_chart=False))
   |                   1 |
   | 1 2 3 4 5 6 7 8 9 0 |
---+---------------------+
 1 |&lt;8&gt;. . . . . . . . . |
 2 | .&lt;6&gt;. 3 . . . . . . |
 3 | . .&lt;4&gt;. . . . . . . |
 4 | . 1 .&lt;1&gt;1 . . . . . |
 5 | . . . .&lt;3&gt;. . . . . |
 6 | . . . . .&lt;2&gt;. . . . |
 7 | . . . . . .&lt;3&gt;. . . |
 8 | . . . . . . .&lt;2&gt;. . |
 9 | . . . . . . . .&lt;2&gt;. |
10 | . . . . . . . . .&lt;2&gt;|
---+---------------------+
(row = reference; col = test)
Value key:
     1:
     2: e
     3: a
     4: i
     5: o
     6: s
     7: t
     8: .
     9: T
    10: h
&lt;BLANKLINE&gt;
</pre>
</blockquote>
</div>
</div>
</body>
</html>
