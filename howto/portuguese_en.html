<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.11: http://docutils.sourceforge.net/" />
<title>Examples for Portuguese Processing</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7614 2013-02-21 15:55:51Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="examples-for-portuguese-processing">
<h1 class="title">Examples for Portuguese Processing</h1>

<!-- Copyright (C) 2001-2013 NLTK Project -->
<!-- For license information, see LICENSE.TXT -->
<p>This HOWTO contains a variety of examples relating to the Portuguese language.
It is intended to be read in conjunction with the NLTK book
(<tt class="docutils literal"><span class="pre">http://www.nltk.org/book</span></tt>).  For instructions on running the Python
interpreter, please see the section <em>Getting Started with Python</em>, in Chapter 1.</p>
<div class="section" id="python-programming-with-portuguese-examples">
<h1>Python Programming, with Portuguese Examples</h1>
<p>Chapter 1 of the NLTK book contains many elementary programming examples, all
with English texts.  In this section, we'll see some corresponding examples
using Portuguese.  Please refer to the chapter for full discussion.  <em>Vamos!</em></p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; from nltk.examples.pt import *
*** Introductory Examples for the NLTK Book ***
Loading ptext1, ... and psent1, ...
Type the name of the text or sentence to view it.
Type: 'texts()' or 'sents()' to list the materials.
ptext1: Memórias Póstumas de Brás Cubas (1881)
ptext2: Dom Casmurro (1899)
ptext3: Gênesis
ptext4: Folha de Sao Paulo (1994)
</pre>
</blockquote>
<p>Any time we want to find out about these texts, we just have
to enter their names at the Python prompt:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; ptext2
&lt;Text: Dom Casmurro (1899)&gt;
</pre>
</blockquote>
<div class="section" id="searching-text">
<h2>Searching Text</h2>
<p>A concordance permits us to see words in context.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; ptext1.concordance('olhos')
Building index...
Displaying 25 of 138 matches:
De pé , à cabeceira da cama , com os olhos estúpidos , a boca entreaberta , a t
orelhas . Pela minha parte fechei os olhos e deixei - me ir à ventura . Já agor
xões de cérebro enfermo . Como ia de olhos fechados , não via o caminho ; lembr
gelos eternos . Com efeito , abri os olhos e vi que o meu animal galopava numa
me apareceu então , fitando - me uns olhos rutilantes como o sol . Tudo nessa f
 mim mesmo . Então , encarei - a com olhos súplices , e pedi mais alguns anos .
...
</pre>
</blockquote>
<p>For a given word, we can find words with a similar text distribution:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; ptext1.similar('chegar')
Building word-context index...
acabada acudir aludir avistar bramanismo casamento cheguei com contar
contrário corpo dali deixei desferirem dizer fazer filhos já leitor lhe
&gt;&gt;&gt; ptext3.similar('chegar')
Building word-context index...
achar alumiar arrombar destruir governar guardar ir lavrar passar que
toda tomar ver vir
</pre>
</blockquote>
<p>We can search for the statistically significant collocations in a text:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; ptext1.collocations()
Building collocations list
Quincas Borba; Lobo Neves; alguma coisa; Brás Cubas; meu pai; dia
seguinte; não sei; Meu pai; alguns instantes; outra vez; outra coisa;
por exemplo; mim mesmo; coisa nenhuma; mesma coisa; não era; dias
depois; Passeio Público; olhar para; das coisas
</pre>
</blockquote>
<p>We can search for words in context, with the help of <em>regular expressions</em>, e.g.:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; ptext1.findall(&quot;&lt;olhos&gt; (&lt;.*&gt;)&quot;)
estúpidos; e; fechados; rutilantes; súplices; a; do; babavam;
na; moles; se; da; umas; espraiavam; chamejantes; espetados;
...
</pre>
</blockquote>
<p>We can automatically generate random text based on a given text, e.g.:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; ptext3.generate() # doctest: +SKIP
No princípio , criou Deus os abençoou , dizendo : Onde { estão } e até
à ave dos céus , { que } será . Disse mais Abrão : Dá - me a mulher
que tomaste ; porque daquele poço Eseque , { tinha .} E disse : Não
poderemos descer ; mas , do campo ainda não estava na casa do teu
pescoço . E viveu Serugue , depois Simeão e Levi { são } estes ? E o
varão , porque habitava na terra de Node , da mão de Esaú : Jeús ,
Jalão e Corá
</pre>
</blockquote>
</div>
<div class="section" id="texts-as-list-of-words">
<h2>Texts as List of Words</h2>
<p>A few sentences have been defined for you.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; psent1
['o', 'amor', 'da', 'gl\xf3ria', 'era', 'a', 'coisa', 'mais',
'verdadeiramente', 'humana', 'que', 'h\xe1', 'no', 'homem', ',',
'e', ',', 'conseq\xfcentemente', ',', 'a', 'sua', 'mais',
'genu\xedna', 'fei\xe7\xe3o', '.']
&gt;&gt;&gt;
</pre>
</blockquote>
<p>Notice that the sentence has been <em>tokenized</em>.  Each token is
represented as a string, represented using quotes, e.g. <tt class="docutils literal">'coisa'</tt>.
Some strings contain special characters, e.g. <tt class="docutils literal">\xf3</tt>,
the internal representation for ó.
The tokens are combined in the form of a <em>list</em>.  How long is this list?</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; len(psent1)
25
&gt;&gt;&gt;
</pre>
</blockquote>
<p>What is the vocabulary of this sentence?</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; sorted(set(psent1))
[',', '.', 'a', 'amor', 'coisa', 'conseqüentemente', 'da', 'e', 'era',
 'feição', 'genuína', 'glória', 'homem', 'humana', 'há', 'mais', 'no',
 'o', 'que', 'sua', 'verdadeiramente']
&gt;&gt;&gt;
</pre>
</blockquote>
<p>Let's iterate over each item in <tt class="docutils literal">psent2</tt>, and print information for each:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; for w in psent2:
...     print(w, len(w), w[-1])
...
Não 3 o
consultes 9 s
dicionários 11 s
. 1 .
</pre>
</blockquote>
<p>Observe how we make a human-readable version of a string, using <tt class="docutils literal">decode()</tt>.
Also notice that we accessed the last character of a string <tt class="docutils literal">w</tt> using <tt class="docutils literal"><span class="pre">w[-1]</span></tt>.</p>
<p>We just saw a <tt class="docutils literal">for</tt> loop above.  Another useful control structure is a
<em>list comprehension</em>.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; [w.upper() for w in psent2]
['N\xc3O', 'CONSULTES', 'DICION\xc1RIOS', '.']
&gt;&gt;&gt; [w for w in psent1 if w.endswith('a')]
['da', 'gl\xf3ria', 'era', 'a', 'coisa', 'humana', 'a', 'sua', 'genu\xedna']
&gt;&gt;&gt; [w for w in ptext4 if len(w) &gt; 15]
[u'norte-irlandeses', u'pan-nacionalismo', u'predominatemente', u'primeiro-ministro',
u'primeiro-ministro', u'irlandesa-americana', u'responsabilidades', u'significativamente']
</pre>
</blockquote>
<p>We can examine the relative frequency of words in a text, using <tt class="docutils literal">FreqDist</tt>:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; fd1 = FreqDist(ptext1)
&gt;&gt;&gt; fd1
&lt;FreqDist with 10848 samples and 77098 outcomes&gt;
&gt;&gt;&gt; fd1['olhos']
137
&gt;&gt;&gt; fd1.max()
u','
&gt;&gt;&gt; fd1.samples()[:100]
[u',', u'.', u'a', u'que', u'de', u'e', u'-', u'o', u';', u'me', u'um', u'n\xe3o',
u'\x97', u'se', u'do', u'da', u'uma', u'com', u'os', u'\xe9', u'era', u'as', u'eu',
u'lhe', u'ao', u'em', u'para', u'mas', u'...', u'!', u'\xe0', u'na', u'mais', u'?',
u'no', u'como', u'por', u'N\xe3o', u'dos', u'ou', u'ele', u':', u'Virg\xedlia',
u'meu', u'disse', u'minha', u'das', u'O', u'/', u'A', u'CAP\xcdTULO', u'muito',
u'depois', u'coisa', u'foi', u'sem', u'olhos', u'ela', u'nos', u'tinha', u'nem',
u'E', u'outro', u'vida', u'nada', u'tempo', u'menos', u'outra', u'casa', u'homem',
u'porque', u'quando', u'mim', u'mesmo', u'ser', u'pouco', u'estava', u'dia',
u't\xe3o', u'tudo', u'Mas', u'at\xe9', u'D', u'ainda', u's\xf3', u'alguma',
u'la', u'vez', u'anos', u'h\xe1', u'Era', u'pai', u'esse', u'lo', u'dizer', u'assim',
u'ent\xe3o', u'dizia', u'aos', u'Borba']
</pre>
</blockquote>
</div>
</div>
<div class="section" id="reading-corpora">
<h1>Reading Corpora</h1>
<div class="section" id="accessing-the-machado-text-corpus">
<h2>Accessing the Machado Text Corpus</h2>
<p>NLTK includes the complete works of Machado de Assis.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; from nltk.corpus import machado
&gt;&gt;&gt; machado.fileids()
['contos/macn001.txt', 'contos/macn002.txt', 'contos/macn003.txt', ...]
</pre>
</blockquote>
<p>Each file corresponds to one of the works of Machado de Assis.  To see a complete
list of works, you can look at the corpus README file: <tt class="docutils literal">print machado.readme()</tt>.
Let's access the text of the <em>Posthumous Memories of Brás Cubas</em>.</p>
<p>We can access the text as a list of characters, and access 200 characters starting
from position 10,000.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; raw_text = machado.raw('romance/marm05.txt')
&gt;&gt;&gt; raw_text[10000:10200]
u', primou no\nEstado, e foi um dos amigos particulares do vice-rei Conde
da Cunha.\n\nComo este apelido de Cubas lhe\ncheirasse excessivamente a
tanoaria, alegava meu pai, bisneto de Dami\xe3o, que o\ndito ape'
</pre>
</blockquote>
<p>However, this is not a very useful way to work with a text.  We generally think
of a text as a sequence of words and punctuation, not characters:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; text1 = machado.words('romance/marm05.txt')
&gt;&gt;&gt; text1
['Romance', ',', 'Mem\xf3rias', 'P\xf3stumas', 'de', ...]
&gt;&gt;&gt; len(text1)
77098
&gt;&gt;&gt; len(set(text1))
10848
</pre>
</blockquote>
<p>Here's a program that finds the most common ngrams that contain a
particular target word.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; from nltk import ingrams, FreqDist
&gt;&gt;&gt; target_word = 'olhos'
&gt;&gt;&gt; fd = FreqDist(ng
...               for ng in ingrams(text1, 5)
...               if target_word in ng)
&gt;&gt;&gt; for hit in fd.samples():
...     print(' '.join(hit))
...
, com os olhos no
com os olhos no ar
com os olhos no chão
e todos com os olhos
me estar com os olhos
os olhos estúpidos , a
os olhos na costura ,
os olhos no ar ,
, com os olhos espetados
, com os olhos estúpidos
, com os olhos fitos
, com os olhos naquele
, com os olhos para
</pre>
</blockquote>
</div>
<div class="section" id="accessing-the-macmorpho-tagged-corpus">
<h2>Accessing the MacMorpho Tagged Corpus</h2>
<p>NLTK includes the MAC-MORPHO Brazilian Portuguese POS-tagged news text,
with over a million words of
journalistic texts extracted from ten sections of
the daily newspaper <em>Folha de Sao Paulo</em>, 1994.</p>
<dl class="docutils">
<dt>We can access this corpus as a sequence of words or tagged words as follows:</dt>
<dd><pre class="first last doctest-block">
&gt;&gt;&gt; import nltk.corpus
&gt;&gt;&gt; nltk.corpus.mac_morpho.words()
['Jersei', 'atinge', 'm\xe9dia', 'de', 'Cr$', '1,4', ...]
&gt;&gt;&gt; nltk.corpus.mac_morpho.sents() # doctest: +NORMALIZE_WHITESPACE
[['Jersei', 'atinge', 'm\xe9dia', 'de', 'Cr$', '1,4', 'milh\xe3o',
'em', 'a', 'venda', 'de', 'a', 'Pinhal', 'em', 'S\xe3o', 'Paulo'],
['Programe', 'sua', 'viagem', 'a', 'a', 'Exposi\xe7\xe3o', 'Nacional',
'do', 'Zebu', ',', 'que', 'come\xe7a', 'dia', '25'], ...]
&gt;&gt;&gt; nltk.corpus.mac_morpho.tagged_words()
[('Jersei', 'N'), ('atinge', 'V'), ('m\xe9dia', 'N'), ...]
</pre>
</dd>
</dl>
<p>We can also access it in sentence chunks.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; nltk.corpus.mac_morpho.tagged_sents() # doctest: +NORMALIZE_WHITESPACE
[[('Jersei', 'N'), ('atinge', 'V'), ('m\xe9dia', 'N'), ('de', 'PREP'),
  ('Cr$', 'CUR'), ('1,4', 'NUM'), ('milh\xe3o', 'N'), ('em', 'PREP|+'),
  ('a', 'ART'), ('venda', 'N'), ('de', 'PREP|+'), ('a', 'ART'),
  ('Pinhal', 'NPROP'), ('em', 'PREP'), ('S\xe3o', 'NPROP'),
  ('Paulo', 'NPROP')],
 [('Programe', 'V'), ('sua', 'PROADJ'), ('viagem', 'N'), ('a', 'PREP|+'),
  ('a', 'ART'), ('Exposi\xe7\xe3o', 'NPROP'), ('Nacional', 'NPROP'),
  ('do', 'NPROP'), ('Zebu', 'NPROP'), (',', ','), ('que', 'PRO-KS-REL'),
  ('come\xe7a', 'V'), ('dia', 'N'), ('25', 'N|AP')], ...]
</pre>
</blockquote>
<p>This data can be used to train taggers (examples below for the Floresta treebank).</p>
</div>
<div class="section" id="accessing-the-floresta-portuguese-treebank">
<h2>Accessing the Floresta Portuguese Treebank</h2>
<p>The NLTK data distribution includes the
&quot;Floresta Sinta(c)tica Corpus&quot; version 7.4, available from
<tt class="docutils literal"><span class="pre">http://www.linguateca.pt/Floresta/</span></tt>.</p>
<p>We can access this corpus as a sequence of words or tagged words as follows:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; from nltk.corpus import floresta
&gt;&gt;&gt; floresta.words()
['Um', 'revivalismo', 'refrescante', 'O', '7_e_Meio', ...]
&gt;&gt;&gt; floresta.tagged_words()
[('Um', '&gt;N+art'), ('revivalismo', 'H+n'), ...]
</pre>
</blockquote>
<p>The tags consist of some syntactic information, followed by a plus sign,
followed by a conventional part-of-speech tag.  Let's strip off the material before
the plus sign:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; def simplify_tag(t):
...     if &quot;+&quot; in t:
...         return t[t.index(&quot;+&quot;)+1:]
...     else:
...         return t
&gt;&gt;&gt; twords = floresta.tagged_words()
&gt;&gt;&gt; twords = [(w.lower(), simplify_tag(t)) for (w,t) in twords]
&gt;&gt;&gt; twords[:10]
[('um', 'art'), ('revivalismo', 'n'), ('refrescante', 'adj'), ('o', 'art'), ('7_e_meio', 'prop'),
('\xe9', 'v-fin'), ('um', 'art'), ('ex-libris', 'n'), ('de', 'prp'), ('a', 'art')]
</pre>
</blockquote>
<p>Pretty printing the tagged words:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; print(' '.join(word + '/' + tag for (word, tag) in twords[:10]))
um/art revivalismo/n refrescante/adj o/art 7_e_meio/prop é/v-fin um/art ex-libris/n de/prp a/art
</pre>
</blockquote>
<p>Count the word tokens and types, and determine the most common word:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; words = floresta.words()
&gt;&gt;&gt; len(words)
211852
&gt;&gt;&gt; fd = nltk.FreqDist(words)
&gt;&gt;&gt; len(fd)
29421
&gt;&gt;&gt; fd.max()
'de'
</pre>
</blockquote>
<p>List the 20 most frequent tags, in order of decreasing frequency:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; tags = [simplify_tag(tag) for (word,tag) in floresta.tagged_words()]
&gt;&gt;&gt; fd = nltk.FreqDist(tags)
&gt;&gt;&gt; fd.keys()[:20] # doctest: +NORMALIZE_WHITESPACE
['n', 'prp', 'art', 'v-fin', ',', 'prop', 'adj', 'adv', '.',
 'conj-c', 'v-inf', 'pron-det', 'v-pcp', 'num', 'pron-indp',
 'pron-pers', '\xab', '\xbb', 'conj-s', '}']
</pre>
</blockquote>
<p>We can also access the corpus grouped by sentence:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; floresta.sents() # doctest: +NORMALIZE_WHITESPACE
[['Um', 'revivalismo', 'refrescante'],
 ['O', '7_e_Meio', '\xe9', 'um', 'ex-libris', 'de', 'a', 'noite',
  'algarvia', '.'], ...]
&gt;&gt;&gt; floresta.tagged_sents() # doctest: +NORMALIZE_WHITESPACE
[[('Um', '&gt;N+art'), ('revivalismo', 'H+n'), ('refrescante', 'N&lt;+adj')],
 [('O', '&gt;N+art'), ('7_e_Meio', 'H+prop'), ('\xe9', 'P+v-fin'),
  ('um', '&gt;N+art'), ('ex-libris', 'H+n'), ('de', 'H+prp'),
  ('a', '&gt;N+art'), ('noite', 'H+n'), ('algarvia', 'N&lt;+adj'), ('.', '.')],
 ...]
&gt;&gt;&gt; floresta.parsed_sents() # doctest: +NORMALIZE_WHITESPACE +ELLIPSIS
[Tree('UTT+np', [Tree('&gt;N+art', ['Um']), Tree('H+n', ['revivalismo']),
                 Tree('N&lt;+adj', ['refrescante'])]),
 Tree('STA+fcl',
     [Tree('SUBJ+np', [Tree('&gt;N+art', ['O']),
                       Tree('H+prop', ['7_e_Meio'])]),
      Tree('P+v-fin', ['\xe9']),
      Tree('SC+np',
         [Tree('&gt;N+art', ['um']),
          Tree('H+n', ['ex-libris']),
          Tree('N&lt;+pp', [Tree('H+prp', ['de']),
                         Tree('P&lt;+np', [Tree('&gt;N+art', ['a']),
                                        Tree('H+n', ['noite']),
                                        Tree('N&lt;+adj', ['algarvia'])])])]),
      Tree('.', ['.'])]), ...]
</pre>
</blockquote>
<p>To view a parse tree, use the <tt class="docutils literal">draw()</tt> method, e.g.:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; psents = floresta.parsed_sents()
&gt;&gt;&gt; psents[5].draw() # doctest: +SKIP
</pre>
</blockquote>
</div>
<div class="section" id="character-encodings">
<h2>Character Encodings</h2>
<p>Python understands the common character encoding used for Portuguese, ISO 8859-1 (ISO Latin 1).</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; import os, nltk.test
&gt;&gt;&gt; testdir = os.path.split(nltk.test.__file__)[0]
&gt;&gt;&gt; text = open(os.path.join(testdir, 'floresta.txt'), 'rb').read().decode('ISO 8859-1')
&gt;&gt;&gt; text[:60]
'O 7 e Meio \xe9 um ex-libris da noite algarvia.\n\xc9 uma das mais '
&gt;&gt;&gt; print(text[:60])
O 7 e Meio é um ex-libris da noite algarvia.
É uma das mais
</pre>
</blockquote>
<p>For more information about character encodings and Python, please see section 3.3 of the book.</p>
</div>
</div>
<div class="section" id="processing-tasks">
<h1>Processing Tasks</h1>
<div class="section" id="simple-concordancing">
<h2>Simple Concordancing</h2>
<p>Here's a function that takes a word and a specified amount of context (measured
in characters), and generates a concordance for that word.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; def concordance(word, context=30):
...     for sent in floresta.sents():
...         if word in sent:
...             pos = sent.index(word)
...             left = ' '.join(sent[:pos])
...             right = ' '.join(sent[pos+1:])
...             print('%*s %s %-*s' %
...                 (context, left[-context:], word, context, right[:context]))
</pre>
<pre class="doctest-block">
&gt;&gt;&gt; concordance(&quot;dar&quot;) # doctest: +SKIP
anduru , foi o suficiente para dar a volta a o resultado .
             1. O P?BLICO veio dar a a imprensa di?ria portuguesa
  A fartura de pensamento pode dar maus resultados e n?s n?o quer
                      Come?a a dar resultados a pol?tica de a Uni
ial come?ar a incorporar- lo e dar forma a um ' site ' que tem se
r com Constantino para ele lhe dar tamb?m os pap?is assinados .
va a brincar , pois n?o lhe ia dar procura??o nenhuma enquanto n?
?rica como o ant?doto capaz de dar sentido a o seu enorme poder .
. . .
&gt;&gt;&gt; concordance(&quot;vender&quot;) # doctest: +SKIP
er recebido uma encomenda para vender 4000 blindados a o Iraque .
m?rico_Amorim caso conseguisse vender o lote de ac??es de o empres?r
mpre ter jovens simp?ticos a ? vender ? chega ! }
       Disse que o governo vai vender ? desde autom?vel at? particip
ndiciou ontem duas pessoas por vender carro com ?gio .
        A inten??o de Fleury ? vender as a??es para equilibrar as fi
</pre>
</blockquote>
</div>
<div class="section" id="part-of-speech-tagging">
<h2>Part-of-Speech Tagging</h2>
<p>Let's begin by getting the tagged sentence data, and simplifying the tags
as described earlier.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; from nltk.corpus import floresta
&gt;&gt;&gt; tsents = floresta.tagged_sents()
&gt;&gt;&gt; tsents = [[(w.lower(),simplify_tag(t)) for (w,t) in sent] for sent in tsents if sent]
&gt;&gt;&gt; train = tsents[100:]
&gt;&gt;&gt; test = tsents[:100]
</pre>
</blockquote>
<p>We already know that <tt class="docutils literal">n</tt> is the most common tag, so we can set up a
default tagger that tags every word as a noun, and see how well it does:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; tagger0 = nltk.DefaultTagger('n')
&gt;&gt;&gt; nltk.tag.accuracy(tagger0, test)
0.17697228144989338
</pre>
</blockquote>
<p>Evidently, about one in every six words is a noun.  Let's improve on this by
training a unigram tagger:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; tagger1 = nltk.UnigramTagger(train, backoff=tagger0)
&gt;&gt;&gt; nltk.tag.accuracy(tagger1, test)
0.87029140014214645
</pre>
</blockquote>
<p>Next a bigram tagger:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; tagger2 = nltk.BigramTagger(train, backoff=tagger1)
&gt;&gt;&gt; nltk.tag.accuracy(tagger2, test)
0.89019189765458417
</pre>
</blockquote>
</div>
<div class="section" id="sentence-segmentation">
<h2>Sentence Segmentation</h2>
<p>Punkt is a language-neutral sentence segmentation tool.  We</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; sent_tokenizer=nltk.data.load('tokenizers/punkt/portuguese.pickle')
&gt;&gt;&gt; raw_text = machado.raw('romance/marm05.txt')
&gt;&gt;&gt; sentences = sent_tokenizer.tokenize(raw_text)
&gt;&gt;&gt; for sent in sentences[1000:1005]:
...     print(&quot;&lt;&lt;&quot;, sent, &quot;&gt;&gt;&quot;)
...
&lt;&lt; Em verdade, parecia ainda mais mulher do que era;
seria criança nos seus folgares de moça; mas assim quieta, impassível, tinha a
compostura da mulher casada. &gt;&gt;
&lt;&lt; Talvez essa circunstância lhe diminuía um pouco da
graça virginal. &gt;&gt;
&lt;&lt; Depressa nos familiarizamos; a mãe fazia-lhe grandes elogios, eu
escutava-os de boa sombra, e ela sorria com os olhos fúlgidos, como se lá dentro
do cérebro lhe estivesse a voar uma borboletinha de asas de ouro e olhos de
diamante... &gt;&gt;
&lt;&lt; Digo lá dentro, porque cá fora o
que esvoaçou foi uma borboleta preta, que subitamente penetrou na varanda, e
começou a bater as asas em derredor de D. Eusébia. &gt;&gt;
&lt;&lt; D. Eusébia deu um grito,
levantou-se, praguejou umas palavras soltas: - T'esconjuro!... &gt;&gt;
</pre>
</blockquote>
<p>The sentence tokenizer can be trained and evaluated on other text.
The source text (from the Floresta Portuguese Treebank) contains one sentence per line.
We read the text, split it into its lines, and then join these lines together using
spaces.  Now the information about sentence breaks has been discarded.  We split this
material into training and testing data:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; import os, nltk.test
&gt;&gt;&gt; testdir = os.path.split(nltk.test.__file__)[0]
&gt;&gt;&gt; text = open(os.path.join(testdir, 'floresta.txt'), 'rb').read().decode('ISO-8859-1')
&gt;&gt;&gt; lines = text.split('\n')
&gt;&gt;&gt; train = ' '.join(lines[10:])
&gt;&gt;&gt; test = ' '.join(lines[:10])
</pre>
</blockquote>
<p>Now we train the sentence segmenter (or sentence tokenizer) and use it on our test sentences:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; stok = nltk.PunktSentenceTokenizer(train)
&gt;&gt;&gt; print(stok.tokenize(test))
['O 7 e Meio \xe9 um ex-libris da noite algarvia.',
'\xc9 uma das mais antigas discotecas do Algarve, situada em Albufeira,
que continua a manter os tra\xe7os decorativos e as clientelas de sempre.',
'\xc9 um pouco a vers\xe3o de uma esp\xe9cie de \xaboutro lado\xbb da noite,
a meio caminho entre os devaneios de uma fauna perif\xe9rica, seja de Lisboa,
Londres, Dublin ou Faro e Portim\xe3o, e a postura circunspecta dos fi\xe9is da casa,
que dela esperam a m\xfasica \xabgeracionista\xbb dos 60 ou dos 70.',
'N\xe3o deixa de ser, nos tempos que correm, um certo \xabvery typical\xbb algarvio,
cabe\xe7a de cartaz para os que querem fugir a algumas movimenta\xe7\xf5es nocturnas
j\xe1 a caminho da ritualiza\xe7\xe3o de massas, do g\xe9nero \xabvamos todos ao
Calypso e encontramo-nos na Locomia\xbb.',
'E assim, aos 2,5 milh\xf5es que o Minist\xe9rio do Planeamento e Administra\xe7\xe3o
do Territ\xf3rio j\xe1 gasta no pagamento do pessoal afecto a estes organismos,
v\xeam juntar-se os montantes das obras propriamente ditas, que os munic\xedpios,
j\xe1 com projectos na m\xe3o, v\xeam reivindicar junto do Executivo, como salienta
aquele membro do Governo.',
'E o dinheiro \xabn\xe3o falta s\xf3 \xe0s c\xe2maras\xbb, lembra o secret\xe1rio de Estado,
que considera que a solu\xe7\xe3o para as autarquias \xe9 \xabespecializarem-se em
fundos comunit\xe1rios\xbb.',
'Mas como, se muitas n\xe3o disp\xf5em, nos seus quadros, dos t\xe9cnicos necess\xe1rios?',
'\xabEncomendem-nos a projectistas de fora\xbb porque, se as obras vierem a ser financiadas,
eles at\xe9 saem de gra\xe7a, j\xe1 que, nesse caso, \xabos fundos comunit\xe1rios pagam
os projectos, o mesmo n\xe3o acontecendo quando eles s\xe3o feitos pelos GAT\xbb,
dado serem organismos do Estado.',
'Essa poder\xe1 vir a ser uma hip\xf3tese, at\xe9 porque, no terreno, a capacidade dos GAT
est\xe1 cada vez mais enfraquecida.',
'Alguns at\xe9 j\xe1 desapareceram, como o de Castro Verde, e outros t\xeam vindo a perder quadros.']
</pre>
</blockquote>
<p>NLTK's data collection includes a trained model for Portuguese sentence
segmentation, which can be loaded as follows.  It is faster to load a trained model than
to retrain it.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; stok = nltk.data.load('tokenizers/punkt/portuguese.pickle')
</pre>
</blockquote>
</div>
<div class="section" id="stemming">
<h2>Stemming</h2>
<p>NLTK includes the RSLP Portuguese stemmer.  Here we use it to stem some Portuguese text:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; stemmer = nltk.stem.RSLPStemmer()
&gt;&gt;&gt; stemmer.stem(&quot;copiar&quot;)
'copi'
&gt;&gt;&gt; stemmer.stem(&quot;paisagem&quot;)
'pais'
</pre>
</blockquote>
</div>
<div class="section" id="stopwords">
<h2>Stopwords</h2>
<p>NLTK includes Portuguese stopwords:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; stopwords = nltk.corpus.stopwords.words('portuguese')
&gt;&gt;&gt; stopwords[:10]
['a', 'ao', 'aos', 'aquela', 'aquelas', 'aquele', 'aqueles', 'aquilo', 'as', 'at\xe9']
</pre>
</blockquote>
<p>Now we can use these to filter text.  Let's find the most frequent words (other than stopwords)
and print them in descending order of frequency:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; fd = nltk.FreqDist(w.lower() for w in floresta.words() if w not in stopwords)
&gt;&gt;&gt; for word in list(fd.keys())[:20]:
...     print(word, fd[word])
, 13444
. 7725
« 2369
» 2310
é 1305
o 1086
} 1047
{ 1044
a 897
; 633
em 516
ser 466
sobre 349
os 313
anos 301
ontem 292
ainda 279
segundo 256
ter 249
dois 231
</pre>
</blockquote>
</div>
</div>
</div>
</body>
</html>
