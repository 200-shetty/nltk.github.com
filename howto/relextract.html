<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title>Information Extraction</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7614 2013-02-21 15:55:51Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="information-extraction">
<h1 class="title">Information Extraction</h1>

<!-- Copyright (C) 2001-2015 NLTK Project -->
<!-- For license information, see LICENSE.TXT -->
<p>Information Extraction standardly consists of three subtasks:</p>
<ol class="arabic simple">
<li>Named Entity Recognition</li>
<li>Relation Extraction</li>
<li>Template Filling</li>
</ol>
<div class="section" id="named-entities">
<h1>Named Entities</h1>
<p>The IEER corpus is marked up for a variety of Named Entities. A <a href="#id1"><span class="problematic" id="id2">`Named
Entity`:dt:</span></a> (more strictly, a Named Entity mention) is a name of an
entity belonging to a specified class. For example, the Named Entity
classes in IEER include PERSON, LOCATION, ORGANIZATION, DATE and so
on. Within NLTK, Named Entities are represented as subtrees within a
chunk structure: the class name is treated as node label, while the
entity mention itself appears as the leaves of the subtree. This is
illustrated below, where we have show an extract of the chunk
representation of document NYT_19980315.064:</p>
<div class="system-message" id="id1">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">relextract.doctest</tt>, line 19); <em><a href="#id2">backlink</a></em></p>
Unknown interpreted text role &quot;dt&quot;.</div>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; from nltk.corpus import ieer
&gt;&gt;&gt; docs = ieer.parsed_docs('NYT_19980315')
&gt;&gt;&gt; tree = docs[1].text
&gt;&gt;&gt; print(tree) # doctest: +ELLIPSIS
(DOCUMENT
...
  ``It's
  a
  chance
  to
  think
  about
  first-level
  questions,''
  said
  Ms.
  (PERSON Cohn)
  ,
  a
  partner
  in
  the
  (ORGANIZATION McGlashan &amp;AMP; Sarrail)
  firm
  in
  (LOCATION San Mateo)
  ,
  (LOCATION Calif.)
  ...)
</pre>
</blockquote>
<p>Thus, the Named Entity mentions in this example are <em>Cohn</em>, <em>McGlashan &amp;AMP;
Sarrail</em>, <em>San Mateo</em> and <em>Calif.</em>.</p>
<p>The CoNLL2002 Dutch and Spanish data is treated similarly, although in
this case, the strings are also POS tagged.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; from nltk.corpus import conll2002
&gt;&gt;&gt; for doc in conll2002.chunked_sents('ned.train')[27]:
...     print(doc)
(u'Het', u'Art')
(ORG Hof/N van/Prep Cassatie/N)
(u'verbrak', u'V')
(u'het', u'Art')
(u'arrest', u'N')
(u'zodat', u'Conj')
(u'het', u'Pron')
(u'moest', u'V')
(u'worden', u'V')
(u'overgedaan', u'V')
(u'door', u'Prep')
(u'het', u'Art')
(u'hof', u'N')
(u'van', u'Prep')
(u'beroep', u'N')
(u'van', u'Prep')
(LOC Antwerpen/N)
(u'.', u'Punc')
</pre>
</blockquote>
</div>
<div class="section" id="relation-extraction">
<h1>Relation Extraction</h1>
<p>Relation Extraction standardly consists of identifying specified
relations between Named Entities. For example, assuming that we can
recognize ORGANIZATIONs and LOCATIONs in text, we might want to also
recognize pairs <em>(o, l)</em> of these kinds of entities such that <em>o</em> is
located in <em>l</em>.</p>
<p>The <cite>sem.relextract</cite> module provides some tools to help carry out a
simple version of this task. The <cite>tree2semi_rel()</cite> function splits a chunk
document into a list of two-member lists, each of which consists of a
(possibly empty) string followed by a <cite>Tree</cite> (i.e., a Named Entity):</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; from nltk.sem import relextract
&gt;&gt;&gt; pairs = relextract.tree2semi_rel(tree)
&gt;&gt;&gt; for s, tree in pairs[18:22]:
...     print('(&quot;...%s&quot;, %s)' % (&quot; &quot;.join(s[-5:]),tree))
(&quot;...about first-level questions,'' said Ms.&quot;, (PERSON Cohn))
(&quot;..., a partner in the&quot;, (ORGANIZATION McGlashan &amp;AMP; Sarrail))
(&quot;...firm in&quot;, (LOCATION San Mateo))
(&quot;...,&quot;, (LOCATION Calif.))
</pre>
</blockquote>
<p>The function <cite>semi_rel2reldict()</cite> processes triples of these pairs, i.e.,
pairs of the form <tt class="docutils literal">((string1, Tree1), (string2, Tree2), (string3,
Tree3))</tt> and outputs a dictionary (a <cite>reldict</cite>) in which <tt class="docutils literal">Tree1</tt> is
the subject of the relation, <tt class="docutils literal">string2</tt> is the filler
and <tt class="docutils literal">Tree3</tt> is the object of the relation. <tt class="docutils literal">string1</tt> and <tt class="docutils literal">string3</tt> are
stored as left and right context respectively.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; reldicts = relextract.semi_rel2reldict(pairs)
&gt;&gt;&gt; for k, v in sorted(reldicts[0].items()):
...     print(k, '=&gt;', v) # doctest: +ELLIPSIS
filler =&gt; of messages to their own ``Cyberia'' ...
lcon =&gt; transactions.'' Each week, they post
objclass =&gt; ORGANIZATION
objsym =&gt; white_house
objtext =&gt; White House
rcon =&gt; for access to its planned
subjclass =&gt; CARDINAL
subjsym =&gt; hundreds
subjtext =&gt; hundreds
untagged_filler =&gt; of messages to their own ``Cyberia'' ...
</pre>
</blockquote>
<p>The next example shows some of the values for two <cite>reldict</cite>s
corresponding to the <tt class="docutils literal">'NYT_19980315'</tt> text extract shown earlier.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; for r in reldicts[18:20]:
...     print('=' * 20)
...     print(r['subjtext'])
...     print(r['filler'])
...     print(r['objtext'])
====================
Cohn
, a partner in the
McGlashan &amp;AMP; Sarrail
====================
McGlashan &amp;AMP; Sarrail
firm in
San Mateo
</pre>
</blockquote>
<p>The function <cite>relextract()</cite> allows us to filter the <cite>reldict</cite>s
according to the classes of the subject and object named entities. In
addition, we can specify that the filler text has to match a given
regular expression, as illustrated in the next example. Here, we are
looking for pairs of entities in the IN relation, where IN has
signature &lt;ORG, LOC&gt;.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; import re
&gt;&gt;&gt; IN = re.compile(r'.*\bin\b(?!\b.+ing\b)')
&gt;&gt;&gt; for fileid in ieer.fileids():
...     for doc in ieer.parsed_docs(fileid):
...         for rel in relextract.extract_rels('ORG', 'LOC', doc, corpus='ieer', pattern = IN):
...             print(relextract.rtuple(rel))  # doctest: +ELLIPSIS
[ORG: 'Christian Democrats'] ', the leading political forces in' [LOC: 'Italy']
[ORG: 'AP'] ') _ Lebanese guerrillas attacked Israeli forces in southern' [LOC: 'Lebanon']
[ORG: 'Security Council'] 'adopted Resolution 425. Huge yellow banners hung across intersections in' [LOC: 'Beirut']
[ORG: 'U.N.'] 'failures in' [LOC: 'Africa']
[ORG: 'U.N.'] 'peacekeeping operation in' [LOC: 'Somalia']
[ORG: 'U.N.'] 'partners on a more effective role in' [LOC: 'Africa']
[ORG: 'AP'] ') _ A bomb exploded in a mosque in central' [LOC: 'San`a']
[ORG: 'Krasnoye Sormovo'] 'shipyard in the Soviet city of' [LOC: 'Gorky']
[ORG: 'Kelab Golf Darul Ridzuan'] 'in' [LOC: 'Perak']
[ORG: 'U.N.'] 'peacekeeping operation in' [LOC: 'Somalia']
[ORG: 'WHYY'] 'in' [LOC: 'Philadelphia']
[ORG: 'McGlashan &amp;AMP; Sarrail'] 'firm in' [LOC: 'San Mateo']
[ORG: 'Freedom Forum'] 'in' [LOC: 'Arlington']
[ORG: 'Brookings Institution'] ', the research group in' [LOC: 'Washington']
[ORG: 'Idealab'] ', a self-described business incubator based in' [LOC: 'Los Angeles']
[ORG: 'Open Text'] ', based in' [LOC: 'Waterloo']
...
</pre>
</blockquote>
<p>The next example illustrates a case where the patter is a disjunction
of roles that a PERSON can occupy in an ORGANIZATION.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; roles = &quot;&quot;&quot;
... (.*(
... analyst|
... chair(wo)?man|
... commissioner|
... counsel|
... director|
... economist|
... editor|
... executive|
... foreman|
... governor|
... head|
... lawyer|
... leader|
... librarian).*)|
... manager|
... partner|
... president|
... producer|
... professor|
... researcher|
... spokes(wo)?man|
... writer|
... ,\sof\sthe?\s*  # &quot;X, of (the) Y&quot;
... &quot;&quot;&quot;
&gt;&gt;&gt; ROLES = re.compile(roles, re.VERBOSE)
&gt;&gt;&gt; for fileid in ieer.fileids():
...     for doc in ieer.parsed_docs(fileid):
...         for rel in relextract.extract_rels('PER', 'ORG', doc, corpus='ieer', pattern=ROLES):
...             print(relextract.rtuple(rel)) # doctest: +ELLIPSIS
[PER: 'Kivutha Kibwana'] ', of the' [ORG: 'National Convention Assembly']
[PER: 'Boban Boskovic'] ', chief executive of the' [ORG: 'Plastika']
[PER: 'Annan'] ', the first sub-Saharan African to head the' [ORG: 'United Nations']
[PER: 'Kiriyenko'] 'became a foreman at the' [ORG: 'Krasnoye Sormovo']
[PER: 'Annan'] ', the first sub-Saharan African to head the' [ORG: 'United Nations']
[PER: 'Mike Godwin'] ', chief counsel for the' [ORG: 'Electronic Frontier Foundation']
...
</pre>
</blockquote>
<p>In the case of the CoNLL2002 data, we can include POS tags in the
query pattern. This example also illustrates how the output can be
presented as something that looks more like a clause in a logical language.</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; de = &quot;&quot;&quot;
... .*
... (
... de/SP|
... del/SP
... )
... &quot;&quot;&quot;
&gt;&gt;&gt; DE = re.compile(de, re.VERBOSE)
&gt;&gt;&gt; rels = [rel for doc in conll2002.chunked_sents('esp.train')
...         for rel in relextract.extract_rels('ORG', 'LOC', doc, corpus='conll2002', pattern = DE)]
&gt;&gt;&gt; for r in rels[:10]:
...     print(relextract.clause(r, relsym='DE'))    # doctest: +NORMALIZE_WHITESPACE
DE(u'tribunal_supremo', u'victoria')
DE(u'museo_de_arte', u'alcorc\xf3n')
DE(u'museo_de_bellas_artes', u'a_coru\xf1a')
DE(u'siria', u'l\xedbano')
DE(u'uni\xf3n_europea', u'pek\xedn')
DE(u'ej\xe9rcito', u'rogberi')
DE(u'juzgado_de_instrucci\xf3n_n\xfamero_1', u'san_sebasti\xe1n')
DE(u'psoe', u'villanueva_de_la_serena')
DE(u'ej\xe9rcito', u'l\xedbano')
DE(u'juzgado_de_lo_penal_n\xfamero_2', u'ceuta')
&gt;&gt;&gt; vnv = &quot;&quot;&quot;
... (
... is/V|
... was/V|
... werd/V|
... wordt/V
... )
... .*
... van/Prep
... &quot;&quot;&quot;
&gt;&gt;&gt; VAN = re.compile(vnv, re.VERBOSE)
&gt;&gt;&gt; for doc in conll2002.chunked_sents('ned.train'):
...     for r in relextract.extract_rels('PER', 'ORG', doc, corpus='conll2002', pattern=VAN):
...         print(relextract.clause(r, relsym=&quot;VAN&quot;))
VAN(u&quot;cornet_d'elzius&quot;, u'buitenlandse_handel')
VAN(u'johan_rottiers', u'kardinaal_van_roey_instituut')
VAN(u'annie_lennox', u'eurythmics')
</pre>
</blockquote>
</div>
</div>
</body>
</html>
