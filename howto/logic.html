<?xml version="1.0" encoding="ascii" ?>

<script language="javascript" type="text/javascript">

function astext(node)
{
    return node.innerHTML.replace(/(<([^>]+)>)/ig,"")
                         .replace(/&gt;/ig, ">")
                         .replace(/&lt;/ig, "<")
                         .replace(/&quot;/ig, '"')
                         .replace(/&amp;/ig, "&");
}

function copy_notify(node, bar_color, data)
{
    // The outer box: relative + inline positioning.
    var box1 = document.createElement("div");
    box1.style.position = "relative";
    box1.style.display = "inline";
    box1.style.top = "2em";
    box1.style.left = "1em";
  
    // A shadow for fun
    var shadow = document.createElement("div");
    shadow.style.position = "absolute";
    shadow.style.left = "-1.3em";
    shadow.style.top = "-1.3em";
    shadow.style.background = "#404040";
    
    // The inner box: absolute positioning.
    var box2 = document.createElement("div");
    box2.style.position = "relative";
    box2.style.border = "1px solid #a0a0a0";
    box2.style.left = "-.2em";
    box2.style.top = "-.2em";
    box2.style.background = "white";
    box2.style.padding = ".3em .4em .3em .4em";
    box2.style.fontStyle = "normal";
    box2.style.background = "#f0e0e0";

    node.insertBefore(box1, node.childNodes.item(0));
    box1.appendChild(shadow);
    shadow.appendChild(box2);
    box2.innerHTML="Copied&nbsp;to&nbsp;the&nbsp;clipboard: " +
                   "<pre class='copy-notify'>"+
                   data+"</pre>";
    setTimeout(function() { node.removeChild(box1); }, 1000);

    var elt = node.parentNode.firstChild;
    elt.style.background = "#ffc0c0";
    setTimeout(function() { elt.style.background = bar_color; }, 200);
}

function copy_codeblock_to_clipboard(node)
{
    var data = astext(node)+"\n";
    if (copy_text_to_clipboard(data)) {
        copy_notify(node, "#40a060", data);
    }
}

function copy_doctest_to_clipboard(node)
{
    var s = astext(node)+"\n   ";
    var data = "";

    var start = 0;
    var end = s.indexOf("\n");
    while (end >= 0) {
        if (s.substring(start, start+4) == ">>> ") {
            data += s.substring(start+4, end+1);
        }
        else if (s.substring(start, start+4) == "... ") {
            data += s.substring(start+4, end+1);
        }
        /*
        else if (end-start > 1) {
            data += "# " + s.substring(start, end+1);
        }*/
        // Grab the next line.
        start = end+1;
        end = s.indexOf("\n", start);
    }
    
    if (copy_text_to_clipboard(data)) {
        copy_notify(node, "#4060a0", data);
    }
}
    
function copy_text_to_clipboard(data)
{
    if (window.clipboardData) {
        window.clipboardData.setData("Text", data);
        return true;
     }
    else if (window.netscape) {
        // w/ default firefox settings, permission will be denied for this:
        netscape.security.PrivilegeManager
                      .enablePrivilege("UniversalXPConnect");
    
        var clip = Components.classes["@mozilla.org/widget/clipboard;1"]
                      .createInstance(Components.interfaces.nsIClipboard);
        if (!clip) return;
    
        var trans = Components.classes["@mozilla.org/widget/transferable;1"]
                       .createInstance(Components.interfaces.nsITransferable);
        if (!trans) return;
    
        trans.addDataFlavor("text/unicode");
    
        var str = new Object();
        var len = new Object();
    
        var str = Components.classes["@mozilla.org/supports-string;1"]
                     .createInstance(Components.interfaces.nsISupportsString);
        var datacopy=data;
        str.data=datacopy;
        trans.setTransferData("text/unicode",str,datacopy.length*2);
        var clipid=Components.interfaces.nsIClipboard;
    
        if (!clip) return false;
    
        clip.setData(trans,null,clipid.kGlobalClipboard);
        return true;
    }
    return false;
}
//-->
</script>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ascii" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title>Logic &amp; Lambda Calculus</title>
<style type="text/css">

/*
:Author: Edward Loper, James Curran
:Copyright: This stylesheet has been placed in the public domain.

Stylesheet for use with Docutils.

This stylesheet defines new css classes used by NLTK.

It uses a Python syntax highlighting scheme that matches
the colour scheme used by IDLE, which makes it easier for
beginners to check they are typing things in correctly.
*/

/* Include the standard docutils stylesheet. */
@import url(default.css);

/* Custom inline roles */
span.placeholder    { font-style: italic; font-family: monospace; }
span.example        { font-style: italic; }
span.emphasis       { font-style: italic; }
span.termdef        { font-weight: bold; }
/*span.term           { font-style: italic; }*/
span.category       { font-variant: small-caps; }
span.feature        { font-variant: small-caps; }
span.fval           { font-style: italic; }
span.math           { font-style: italic; }
span.mathit         { font-style: italic; }
span.lex            { font-variant: small-caps; }
span.guide-linecount{ text-align: right; display: block;}

/* Python souce code listings */
span.pysrc-prompt   { color: #9b0000; }
span.pysrc-more     { color: #9b00ff; }
span.pysrc-keyword  { color: #e06000; }
span.pysrc-builtin  { color: #940094; }
span.pysrc-string   { color: #00aa00; }
span.pysrc-comment  { color: #ff0000; }
span.pysrc-output   { color: #0000ff; }
span.pysrc-except   { color: #ff0000; }
span.pysrc-defname  { color: #008080; }


/* Doctest blocks */
pre.doctest         { margin: 0; padding: 0; font-weight: bold; }
div.doctest         { margin: 0 1em 1em 1em; padding: 0; }
table.doctest       { margin: 0; padding: 0;
                      border-top: 1px solid gray;
                      border-bottom: 1px solid gray; }
pre.copy-notify     { margin: 0; padding: 0.2em; font-weight: bold;
                      background-color: #ffffff; }

/* Python source listings */
div.pylisting       { margin: 0 1em 1em 1em; padding: 0; }
table.pylisting     { margin: 0; padding: 0;
                      border-top: 1px solid gray; }
td.caption { border-top: 1px solid black; margin: 0; padding: 0; }
.caption-label { font-weight: bold;  }
td.caption p { margin: 0; padding: 0; font-style: normal;}

table tr td.codeblock { 
  padding: 0.2em ! important; margin: 0;
  border-left: 1px solid gray;
  border-right: 2px solid gray;
  border-top: 0px solid gray;
  border-bottom: 1px solid gray;
  font-weight: bold; background-color: #eeffee;
}

table tr td.doctest  { 
  padding: 0.2em; margin: 0;
  border-left: 1px solid gray;
  border-right: 2px solid gray;
  border-top: 0px solid gray;
  border-bottom: 1px solid gray;
  font-weight: bold; background-color: #eeeeff;
}

td.codeblock table tr td.copybar {
    background: #40a060; border: 1px solid gray;
    font-family: monospace; padding: 0; margin: 0; }
td.doctest table tr td.copybar {
    background: #4060a0; border: 1px solid gray;
    font-family: monospace; padding: 0; margin: 0; }

td.pysrc { padding-left: 0.5em; }

img.callout { border-width: 0px; }

table.docutils {
    border-style: solid;
    border-width: 1px;
    margin-top: 6px;
    border-color: grey;
    border-collapse: collapse; }

table.docutils th {
    border-style: none;
    border-width: 1px;
    border-color: grey;
    padding: 0 .5em 0 .5em; }

table.docutils td {
    border-style: none;
    border-width: 1px;
    border-color: grey; 
    padding: 0 .5em 0 .5em; }

table.footnote td { padding: 0; }
table.footnote { border-width: 0; }
table.footnote td { border-width: 0; }
table.footnote th { border-width: 0; }

table.noborder { border-width: 0; }

table.example pre { margin-top: 4px; margin-bottom: 0; }

/* For figures & tables */
p.caption { margin-bottom: 0; }
div.figure { text-align: center; }

/* The index */
div.index { border: 1px solid black;
            background-color: #eeeeee; }
div.index h1 { padding-left: 0.5em; margin-top: 0.5ex;
               border-bottom: 1px solid black; }
ul.index { margin-left: 0.5em; padding-left: 0; }
li.index { list-style-type: none; }
p.index-heading { font-size: 120%; font-style: italic; margin: 0; }
li.index ul { margin-left: 2em; padding-left: 0; }

/* 'Note' callouts */
div.note
{
  border-right:   #87ceeb 1px solid;
  padding-right: 4px;
  border-top: #87ceeb 1px solid;
  padding-left: 4px;
  padding-bottom: 4px;
  margin: 2px 5% 10px;
  border-left: #87ceeb 1px solid;
  padding-top: 4px;
  border-bottom: #87ceeb 1px solid;
  font-style: normal;
  font-family: verdana, arial;
  background-color: #b0c4de;
}

table.avm { border: 0px solid black; width: 0; }
table.avm tbody tr {border: 0px solid black; }
table.avm tbody tr td { padding: 2px; }
table.avm tbody tr td.avm-key { padding: 5px; font-variant: small-caps; }
table.avm tbody tr td.avm-eq { padding: 5px; }
table.avm tbody tr td.avm-val { padding: 5px; font-style: italic; }
p.avm-empty { font-style: normal; }
table.avm colgroup col { border: 0px solid black; }
table.avm tbody tr td.avm-topleft 
    { border-left: 2px solid #000080; border-top: 2px solid #000080; }
table.avm tbody tr td.avm-botleft 
    { border-left: 2px solid #000080; border-bottom: 2px solid #000080; }
table.avm tbody tr td.avm-topright
    { border-right: 2px solid #000080; border-top: 2px solid #000080; }
table.avm tbody tr td.avm-botright
    { border-right: 2px solid #000080; border-bottom: 2px solid #000080; }
table.avm tbody tr td.avm-left
    { border-left: 2px solid #000080; }
table.avm tbody tr td.avm-right
    { border-right: 2px solid #000080; }
table.avm tbody tr td.avm-topbotleft
    { border: 2px solid #000080; border-right: 0px solid black; }
table.avm tbody tr td.avm-topbotright
    { border: 2px solid #000080; border-left: 0px solid black; }
table.avm tbody tr td.avm-ident
    { font-size: 80%; padding: 0; padding-left: 2px; vertical-align: top; }
.avm-pointer
{ border: 1px solid #008000; padding: 1px; color: #008000; 
  background: #c0ffc0; font-style: normal; }

table.gloss { border: 0px solid black; width: 0; }
table.gloss tbody tr { border: 0px solid black; }
table.gloss tbody tr td { border: 0px solid black; }
table.gloss colgroup col { border: 0px solid black; }
table.gloss p { margin: 0; padding: 0; }

table.rst-example { border: 1px solid black; }
table.rst-example tbody tr td { background: #eeeeee; }
table.rst-example thead tr th { background: #c0ffff; }
td.rst-raw { width: 0; }

/* Used by nltk.org/doc/test: */
div.doctest-list { text-align: center; }
table.doctest-list { border: 1px solid black;
  margin-left: auto; margin-right: auto;
}
table.doctest-list tbody tr td { background: #eeeeee;
  border: 1px solid #cccccc; text-align: left; }
table.doctest-list thead tr th { background: #304050; color: #ffffff;
  border: 1px solid #000000;}
table.doctest-list thead tr a { color: #ffffff; }
span.doctest-passed { color: #008000; }
span.doctest-failed { color: #800000; }

</style>
</head>
<body>
<div class="document" id="logic-lambda-calculus">
<h1 class="title">Logic &amp; Lambda Calculus</h1>

<!-- Copyright (C) 2001-2014 NLTK Project -->
<!-- For license information, see LICENSE.TXT -->
<p>The <cite>nltk.logic</cite> package allows expressions of First-Order Logic (FOL) to be
parsed into <tt class="doctest"><span class="pre">Expression</span></tt> objects. In addition to FOL, the parser
handles lambda-abstraction with variables of higher order.</p>
<div class="section" id="overview">
<h1>1&nbsp;&nbsp;&nbsp;Overview</h1>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">from</span> nltk.sem.logic <span class="pysrc-keyword">import</span> *</pre>
</td>
</tr></table></td></tr>
</table></div>
<p>The default inventory of logical constants is the following:</p>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>boolean_ops() 
<span class="pysrc-output">negation           -</span>
<span class="pysrc-output">conjunction        &amp;</span>
<span class="pysrc-output">disjunction        |</span>
<span class="pysrc-output">implication        -&gt;</span>
<span class="pysrc-output">equivalence        &lt;-&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>equality_preds() 
<span class="pysrc-output">equality           =</span>
<span class="pysrc-output">inequality         !=</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>binding_ops() 
<span class="pysrc-output">existential        exists</span>
<span class="pysrc-output">universal          all</span>
<span class="pysrc-output">lambda             \</span></pre>
</td>
</tr></table></td></tr>
</table></div>
</div>
<div class="section" id="regression-tests">
<h1>2&nbsp;&nbsp;&nbsp;Regression Tests</h1>
<div class="section" id="untyped-logic">
<h2>2.1&nbsp;&nbsp;&nbsp;Untyped Logic</h2>
<p>Process logical expressions conveniently:</p>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>lexpr = Expression.fromstring</pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="section" id="test-for-equality-under-alpha-conversion">
<h3>Test for equality under alpha-conversion</h3>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e1 = lexpr(<span class="pysrc-string">'exists x.P(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(e1)
<span class="pysrc-output">exists x.P(x)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>e2 = e1.alpha_convert(Variable(<span class="pysrc-string">'z'</span>))
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(e2)
<span class="pysrc-output">exists z.P(z)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>e1 == e2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>l = lexpr(r<span class="pysrc-string">'\X.\X.X(X)(1)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>id = lexpr(r<span class="pysrc-string">'\X.X(X)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>l == id
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
</div>
<div class="section" id="test-numerals">
<h3>Test numerals</h3>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>zero = lexpr(r<span class="pysrc-string">'\F x.x'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>one = lexpr(r<span class="pysrc-string">'\F x.F(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>two = lexpr(r<span class="pysrc-string">'\F x.F(F(x))'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>three = lexpr(r<span class="pysrc-string">'\F x.F(F(F(x)))'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>four = lexpr(r<span class="pysrc-string">'\F x.F(F(F(F(x))))'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>succ = lexpr(r<span class="pysrc-string">'\N F x.F(N(F,x))'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>plus = lexpr(r<span class="pysrc-string">'\M N F x.M(F,N(F,x))'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>mult = lexpr(r<span class="pysrc-string">'\M N F.M(N(F))'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>pred = lexpr(r<span class="pysrc-string">'\N F x.(N(\G H.H(G(F)))(\u.x)(\u.u))'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>v1 = ApplicationExpression(succ, zero).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>v1 == one
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>v2 = ApplicationExpression(succ, v1).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>v2 == two
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>v3 = ApplicationExpression(ApplicationExpression(plus, v1), v2).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>v3 == three
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>v4 = ApplicationExpression(ApplicationExpression(mult, v2), v2).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>v4 == four
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>v5 = ApplicationExpression(pred, ApplicationExpression(pred, v4)).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>v5 == two
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<p>Overloaded operators also exist, for convenience.</p>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(succ(zero).simplify() == one)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(plus(one,two).simplify() == three)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(mult(two,two).simplify() == four)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(pred(pred(four)).simplify() == two)
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>john = lexpr(r<span class="pysrc-string">'john'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>man = lexpr(r<span class="pysrc-string">'\x.man(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>walk = lexpr(r<span class="pysrc-string">'\x.walk(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>man(john).simplify()
<span class="pysrc-output">&lt;ApplicationExpression man(john)&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(-walk(john).simplify())
<span class="pysrc-output">-walk(john)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>((man(john) &amp; walk(john)).simplify())
<span class="pysrc-output">(man(john) &amp; walk(john))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>((man(john) | walk(john)).simplify())
<span class="pysrc-output">(man(john) | walk(john))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>((man(john) &gt; walk(john)).simplify())
<span class="pysrc-output">(man(john) -&gt; walk(john))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>((man(john) &lt; walk(john)).simplify())
<span class="pysrc-output">(man(john) &lt;-&gt; walk(john))</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<p>Python's built-in lambda operator can also be used with Expressions</p>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>john = VariableExpression(Variable(<span class="pysrc-string">'john'</span>))
<span class="pysrc-prompt">&gt;&gt;&gt; </span>run_var = VariableExpression(Variable(<span class="pysrc-string">'run'</span>))
<span class="pysrc-prompt">&gt;&gt;&gt; </span>run = <span class="pysrc-keyword">lambda</span> x: run_var(x)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>run(john)
<span class="pysrc-output">&lt;ApplicationExpression run(john)&gt;</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="section" id="betaconversiontestsuite-pl">
<h4><tt class="doctest"><span class="pre">betaConversionTestSuite.pl</span></tt></h4>
<p>Tests based on Blackburn &amp; Bos' book, <em>Representation and Inference
for Natural Language</em>.</p>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'\P.P(mia)(\x.walk(x))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'walk(mia)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'exists x.(man(x) &amp; ((\P.exists x.(woman(x) &amp; P(x)))(\y.love(x,y))))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'exists x.(man(x) &amp; exists y.(woman(y) &amp; love(x,y)))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'\a.sleep(a)(mia)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'sleep(mia)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'\a.\b.like(b,a)(mia)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'\b.like(b,mia)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'\a.(\b.like(b,a)(vincent))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'\a.like(vincent,a)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'\a.((\b.like(b,a)(vincent)) &amp; sleep(a))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'\a.(like(vincent,a) &amp; sleep(a))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'(\a.\b.like(b,a)(mia)(vincent))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'like(vincent,mia)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'P((\a.sleep(a)(vincent)))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'P(sleep(vincent))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'\A.A((\b.sleep(b)(vincent)))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'\A.A(sleep(vincent))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'\A.A(sleep(vincent))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'\A.A(sleep(vincent))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'(\A.A(vincent)(\b.sleep(b)))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'sleep(vincent)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'\A.believe(mia,A(vincent))(\b.sleep(b))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'believe(mia,sleep(vincent))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'(\A.(A(vincent) &amp; A(mia)))(\b.sleep(b))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'(sleep(vincent) &amp; sleep(mia))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'\A.\B.(\C.C(A(vincent))(\d.probably(d)) &amp; (\C.C(B(mia))(\d.improbably(d))))(\f.walk(f))(\f.talk(f))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'(probably(walk(vincent)) &amp; improbably(talk(mia)))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'(\a.\b.(\C.C(a,b)(\d.\f.love(d,f))))(jules)(mia)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'love(jules,mia)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'(\A.\B.exists c.(A(c) &amp; B(c)))(\d.boxer(d),\d.sleep(d))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'exists c.(boxer(c) &amp; sleep(c))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'\A.Z(A)(\c.\a.like(a,c))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'Z(\c.\a.like(a,c))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'\A.\b.A(b)(\c.\b.like(b,c))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'\b.(\c.\b.like(b,c)(b))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'(\a.\b.(\C.C(a,b)(\b.\a.loves(b,a))))(jules)(mia)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'loves(jules,mia)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 = lexpr(r<span class="pysrc-string">'(\A.\b.(exists b.A(b) &amp; A(b)))(\c.boxer(c))(vincent)'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x2 = lexpr(r<span class="pysrc-string">'((exists b.boxer(b)) &amp; boxer(vincent))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x1 == x2
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
</div>
</div>
<div class="section" id="test-parser">
<h3>Test Parser</h3>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'john'</span>))
<span class="pysrc-output">john</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'x'</span>))
<span class="pysrc-output">x</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'-man(x)'</span>))
<span class="pysrc-output">-man(x)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'--man(x)'</span>))
<span class="pysrc-output">--man(x)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'(man(x))'</span>))
<span class="pysrc-output">man(x)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'((man(x)))'</span>))
<span class="pysrc-output">man(x)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'man(x) &lt;-&gt; tall(x)'</span>))
<span class="pysrc-output">(man(x) &lt;-&gt; tall(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'(man(x) &lt;-&gt; tall(x))'</span>))
<span class="pysrc-output">(man(x) &lt;-&gt; tall(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'(man(x) &amp; tall(x) &amp; walks(x))'</span>))
<span class="pysrc-output">(man(x) &amp; tall(x) &amp; walks(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'(man(x) &amp; tall(x) &amp; walks(x))'</span>).first)
<span class="pysrc-output">(man(x) &amp; tall(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'man(x) | tall(x) &amp; walks(x)'</span>))
<span class="pysrc-output">(man(x) | (tall(x) &amp; walks(x)))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'((man(x) &amp; tall(x)) | walks(x))'</span>))
<span class="pysrc-output">((man(x) &amp; tall(x)) | walks(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'man(x) &amp; (tall(x) | walks(x))'</span>))
<span class="pysrc-output">(man(x) &amp; (tall(x) | walks(x)))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'(man(x) &amp; (tall(x) | walks(x)))'</span>))
<span class="pysrc-output">(man(x) &amp; (tall(x) | walks(x)))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'P(x) -&gt; Q(x) &lt;-&gt; R(x) | S(x) &amp; T(x)'</span>))
<span class="pysrc-output">((P(x) -&gt; Q(x)) &lt;-&gt; (R(x) | (S(x) &amp; T(x))))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'exists x.man(x)'</span>))
<span class="pysrc-output">exists x.man(x)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'exists x.(man(x) &amp; tall(x))'</span>))
<span class="pysrc-output">exists x.(man(x) &amp; tall(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'exists x.(man(x) &amp; tall(x) &amp; walks(x))'</span>))
<span class="pysrc-output">exists x.(man(x) &amp; tall(x) &amp; walks(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'-P(x) &amp; Q(x)'</span>))
<span class="pysrc-output">(-P(x) &amp; Q(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>lexpr(r<span class="pysrc-string">'-P(x) &amp; Q(x)'</span>) == lexpr(r<span class="pysrc-string">'(-P(x)) &amp; Q(x)'</span>)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.man(x)'</span>))
<span class="pysrc-output">\x.man(x)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.man(x)(john)'</span>))
<span class="pysrc-output">\x.man(x)(john)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.man(x)(john) &amp; tall(x)'</span>))
<span class="pysrc-output">(\x.man(x)(john) &amp; tall(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.\y.sees(x,y)'</span>))
<span class="pysrc-output">\x y.sees(x,y)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x  y.sees(x,y)'</span>))
<span class="pysrc-output">\x y.sees(x,y)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.\y.sees(x,y)(a)'</span>))
<span class="pysrc-output">(\x y.sees(x,y))(a)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x  y.sees(x,y)(a)'</span>))
<span class="pysrc-output">(\x y.sees(x,y))(a)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.\y.sees(x,y)(a)(b)'</span>))
<span class="pysrc-output">((\x y.sees(x,y))(a))(b)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x  y.sees(x,y)(a)(b)'</span>))
<span class="pysrc-output">((\x y.sees(x,y))(a))(b)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.\y.sees(x,y)(a,b)'</span>))
<span class="pysrc-output">((\x y.sees(x,y))(a))(b)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x  y.sees(x,y)(a,b)'</span>))
<span class="pysrc-output">((\x y.sees(x,y))(a))(b)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'((\x.\y.sees(x,y))(a))(b)'</span>))
<span class="pysrc-output">((\x y.sees(x,y))(a))(b)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'P(x)(y)(z)'</span>))
<span class="pysrc-output">P(x,y,z)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'P(Q)'</span>))
<span class="pysrc-output">P(Q)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'P(Q(x))'</span>))
<span class="pysrc-output">P(Q(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'(\x.exists y.walks(x,y))(x)'</span>))
<span class="pysrc-output">(\x.exists y.walks(x,y))(x)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'exists x.(x = john)'</span>))
<span class="pysrc-output">exists x.(x = john)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'((\P.\Q.exists x.(P(x) &amp; Q(x)))(\x.dog(x)))(\x.bark(x))'</span>))
<span class="pysrc-output">((\P Q.exists x.(P(x) &amp; Q(x)))(\x.dog(x)))(\x.bark(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a = lexpr(r<span class="pysrc-string">'exists c.exists b.A(b,c) &amp; A(b,c)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>b = lexpr(r<span class="pysrc-string">'(exists c.(exists b.A(b,c))) &amp; A(b,c)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a == b)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a = lexpr(r<span class="pysrc-string">'exists c.(exists b.A(b,c) &amp; A(b,c))'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>b = lexpr(r<span class="pysrc-string">'exists c.((exists b.A(b,c)) &amp; A(b,c))'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a == b)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'exists x.x = y'</span>))
<span class="pysrc-output">exists x.(x = y)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(<span class="pysrc-string">'A(B)(C)'</span>))
<span class="pysrc-output">A(B,C)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(<span class="pysrc-string">'(A(B))(C)'</span>))
<span class="pysrc-output">A(B,C)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(<span class="pysrc-string">'A((B)(C))'</span>))
<span class="pysrc-output">A(B(C))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(<span class="pysrc-string">'A(B(C))'</span>))
<span class="pysrc-output">A(B(C))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(<span class="pysrc-string">'(A)(B(C))'</span>))
<span class="pysrc-output">A(B(C))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(<span class="pysrc-string">'(((A)))(((B))(((C))))'</span>))
<span class="pysrc-output">A(B(C))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'A != B'</span>))
<span class="pysrc-output">-(A = B)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(<span class="pysrc-string">'P(x) &amp; x=y &amp; P(y)'</span>))
<span class="pysrc-output">(P(x) &amp; (x = y) &amp; P(y))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: <span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\walk.walk(x)'</span>))
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">'walk' is an illegal variable name.  Constants may not be abstracted.</span>
<span class="pysrc-output">\walk.walk(x)</span>
<span class="pysrc-output"> ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: <span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'all walk.walk(john)'</span>))
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">'walk' is an illegal variable name.  Constants may not be quantified.</span>
<span class="pysrc-output">all walk.walk(john)</span>
<span class="pysrc-output">    ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: <span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'x(john)'</span>))
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">'x' is an illegal predicate name.  Individual variables may not be used as predicates.</span>
<span class="pysrc-output">x(john)</span>
<span class="pysrc-output">^</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">from</span> nltk.sem.logic <span class="pysrc-keyword">import</span> _LogicParser <span class="pysrc-comment"># hack to give access to custom quote chars</span>
<span class="pysrc-prompt">&gt;&gt;&gt; </span>lpq = _LogicParser()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>lpq.quote_chars = [(<span class="pysrc-string">&quot;'&quot;</span>, <span class="pysrc-string">&quot;'&quot;</span>, <span class="pysrc-string">&quot;\\&quot;</span>, False)]
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lpq.parse(r<span class="pysrc-string">&quot;(man(x) &amp; 'tall\'s,' (x) &amp; walks (x) )&quot;</span>))
<span class="pysrc-output">(man(x) &amp; tall's,(x) &amp; walks(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>lpq.quote_chars = [(<span class="pysrc-string">&quot;'&quot;</span>, <span class="pysrc-string">&quot;'&quot;</span>, <span class="pysrc-string">&quot;\\&quot;</span>, True)]
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lpq.parse(r<span class="pysrc-string">&quot;'tall\'s,'&quot;</span>))
<span class="pysrc-output">'tall\'s,'</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lpq.parse(r<span class="pysrc-string">&quot;'spaced name(x)'&quot;</span>))
<span class="pysrc-output">'spaced name(x)'</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lpq.parse(r<span class="pysrc-string">&quot;-'tall\'s,'(x)&quot;</span>))
<span class="pysrc-output">-'tall\'s,'(x)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lpq.parse(r<span class="pysrc-string">&quot;(man(x) &amp; 'tall\'s,' (x) &amp; walks (x) )&quot;</span>))
<span class="pysrc-output">(man(x) &amp; 'tall\'s,'(x) &amp; walks(x))</span></pre>
</td>
</tr></table></td></tr>
</table></div>
</div>
<div class="section" id="simplify">
<h3>Simplify</h3>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.man(x)(john)'</span>).simplify())
<span class="pysrc-output">man(john)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.((man(x)))(john)'</span>).simplify())
<span class="pysrc-output">man(john)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.\y.sees(x,y)(john, mary)'</span>).simplify())
<span class="pysrc-output">sees(john,mary)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x  y.sees(x,y)(john, mary)'</span>).simplify())
<span class="pysrc-output">sees(john,mary)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.\y.sees(x,y)(john)(mary)'</span>).simplify())
<span class="pysrc-output">sees(john,mary)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x  y.sees(x,y)(john)(mary)'</span>).simplify())
<span class="pysrc-output">sees(john,mary)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.\y.sees(x,y)(john)'</span>).simplify())
<span class="pysrc-output">\y.sees(john,y)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x  y.sees(x,y)(john)'</span>).simplify())
<span class="pysrc-output">\y.sees(john,y)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'(\x.\y.sees(x,y)(john))(mary)'</span>).simplify())
<span class="pysrc-output">sees(john,mary)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'(\x  y.sees(x,y)(john))(mary)'</span>).simplify())
<span class="pysrc-output">sees(john,mary)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'exists x.(man(x) &amp; (\x.exists y.walks(x,y))(x))'</span>).simplify())
<span class="pysrc-output">exists x.(man(x) &amp; exists y.walks(x,y))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>e1 = lexpr(r<span class="pysrc-string">'exists x.(man(x) &amp; (\x.exists y.walks(x,y))(y))'</span>).simplify()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e2 = lexpr(r<span class="pysrc-string">'exists x.(man(x) &amp; exists z1.walks(y,z1))'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e1 == e2
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'(\P Q.exists x.(P(x) &amp; Q(x)))(\x.dog(x))'</span>).simplify())
<span class="pysrc-output">\Q.exists x.(dog(x) &amp; Q(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'((\P.\Q.exists x.(P(x) &amp; Q(x)))(\x.dog(x)))(\x.bark(x))'</span>).simplify())
<span class="pysrc-output">exists x.(dog(x) &amp; bark(x))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\P.(P(x)(y))(\a b.Q(a,b))'</span>).simplify())
<span class="pysrc-output">Q(x,y)</span></pre>
</td>
</tr></table></td></tr>
</table></div>
</div>
<div class="section" id="replace">
<h3>Replace</h3>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = lexpr(r<span class="pysrc-string">'a'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>x = lexpr(r<span class="pysrc-string">'x'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>y = lexpr(r<span class="pysrc-string">'y'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>z = lexpr(r<span class="pysrc-string">'z'</span>)</pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'man(x)'</span>).replace(x.variable, a, False))
<span class="pysrc-output">man(a)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'(man(x) &amp; tall(x))'</span>).replace(x.variable, a, False))
<span class="pysrc-output">(man(a) &amp; tall(a))</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'exists x.man(x)'</span>).replace(x.variable, a, False))
<span class="pysrc-output">exists x.man(x)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'exists x.man(x)'</span>).replace(x.variable, a, True))
<span class="pysrc-output">exists a.man(a)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'exists x.give(x,y,z)'</span>).replace(y.variable, a, False))
<span class="pysrc-output">exists x.give(x,a,z)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'exists x.give(x,y,z)'</span>).replace(y.variable, a, True))
<span class="pysrc-output">exists x.give(x,a,z)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>e1 = lexpr(r<span class="pysrc-string">'exists x.give(x,y,z)'</span>).replace(y.variable, x, False)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e2 = lexpr(r<span class="pysrc-string">'exists z1.give(z1,x,z)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e1 == e2
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>e1 = lexpr(r<span class="pysrc-string">'exists x.give(x,y,z)'</span>).replace(y.variable, x, True)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e2 = lexpr(r<span class="pysrc-string">'exists z1.give(z1,x,z)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e1 == e2
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x y z.give(x,y,z)'</span>).replace(y.variable, a, False))
<span class="pysrc-output">\x y z.give(x,y,z)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x y z.give(x,y,z)'</span>).replace(y.variable, a, True))
<span class="pysrc-output">\x a z.give(x,a,z)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.\y.give(x,y,z)'</span>).replace(z.variable, a, False))
<span class="pysrc-output">\x y.give(x,y,a)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.\y.give(x,y,z)'</span>).replace(z.variable, a, True))
<span class="pysrc-output">\x y.give(x,y,a)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>e1 = lexpr(r<span class="pysrc-string">'\x.\y.give(x,y,z)'</span>).replace(z.variable, x, False)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e2 = lexpr(r<span class="pysrc-string">'\z1.\y.give(z1,y,x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e1 == e2
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>e1 = lexpr(r<span class="pysrc-string">'\x.\y.give(x,y,z)'</span>).replace(z.variable, x, True)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e2 = lexpr(r<span class="pysrc-string">'\z1.\y.give(z1,y,x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e1 == e2
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.give(x,y,z)'</span>).replace(z.variable, y, False))
<span class="pysrc-output">\x.give(x,y,y)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\x.give(x,y,z)'</span>).replace(z.variable, y, True))
<span class="pysrc-output">\x.give(x,y,y)</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">from</span> nltk.sem <span class="pysrc-keyword">import</span> logic
<span class="pysrc-prompt">&gt;&gt;&gt; </span>logic._counter._value = 0
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e1 = lexpr(<span class="pysrc-string">'e1'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e2 = lexpr(<span class="pysrc-string">'e2'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(<span class="pysrc-string">'exists e1 e2.(walk(e1) &amp; talk(e2))'</span>).replace(e1.variable, e2, True))
<span class="pysrc-output">exists e2 e01.(walk(e2) &amp; talk(e01))</span></pre>
</td>
</tr></table></td></tr>
</table></div>
</div>
<div class="section" id="variables-free">
<h3>Variables / Free</h3>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>examples = [r<span class="pysrc-string">'walk(john)'</span>,
<span class="pysrc-more">... </span>            r<span class="pysrc-string">'walk(x)'</span>,
<span class="pysrc-more">... </span>            r<span class="pysrc-string">'?vp(?np)'</span>,
<span class="pysrc-more">... </span>            r<span class="pysrc-string">'see(john,mary)'</span>,
<span class="pysrc-more">... </span>            r<span class="pysrc-string">'exists x.walk(x)'</span>,
<span class="pysrc-more">... </span>            r<span class="pysrc-string">'\x.see(john,x)'</span>,
<span class="pysrc-more">... </span>            r<span class="pysrc-string">'\x.see(john,x)(mary)'</span>,
<span class="pysrc-more">... </span>            r<span class="pysrc-string">'P(x)'</span>,
<span class="pysrc-more">... </span>            r<span class="pysrc-string">'\P.P(x)'</span>,
<span class="pysrc-more">... </span>            r<span class="pysrc-string">'aa(x,bb(y),cc(z),P(w),u)'</span>,
<span class="pysrc-more">... </span>            r<span class="pysrc-string">'bo(?det(?n),&#64;x)'</span>]
<span class="pysrc-prompt">&gt;&gt;&gt; </span>examples = [lexpr(e) <span class="pysrc-keyword">for</span> e <span class="pysrc-keyword">in</span> examples]</pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">for</span> e <span class="pysrc-keyword">in</span> examples:
<span class="pysrc-more">... </span>    <span class="pysrc-keyword">print</span>(<span class="pysrc-string">'%-25s'</span> % e, sorted(e.free()))
<span class="pysrc-output">walk(john)                []</span>
<span class="pysrc-output">walk(x)                   [Variable('x')]</span>
<span class="pysrc-output">?vp(?np)                  []</span>
<span class="pysrc-output">see(john,mary)            []</span>
<span class="pysrc-output">exists x.walk(x)          []</span>
<span class="pysrc-output">\x.see(john,x)            []</span>
<span class="pysrc-output">(\x.see(john,x))(mary)    []</span>
<span class="pysrc-output">P(x)                      [Variable('P'), Variable('x')]</span>
<span class="pysrc-output">\P.P(x)                   [Variable('x')]</span>
<span class="pysrc-output">aa(x,bb(y),cc(z),P(w),u)  [Variable('P'), Variable('u'), Variable('w'), Variable('x'), Variable('y'), Variable('z')]</span>
<span class="pysrc-output">bo(?det(?n),&#64;x)           []</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">for</span> e <span class="pysrc-keyword">in</span> examples:
<span class="pysrc-more">... </span>    <span class="pysrc-keyword">print</span>(<span class="pysrc-string">'%-25s'</span> % e, sorted(e.constants()))
<span class="pysrc-output">walk(john)                [Variable('john')]</span>
<span class="pysrc-output">walk(x)                   []</span>
<span class="pysrc-output">?vp(?np)                  [Variable('?np')]</span>
<span class="pysrc-output">see(john,mary)            [Variable('john'), Variable('mary')]</span>
<span class="pysrc-output">exists x.walk(x)          []</span>
<span class="pysrc-output">\x.see(john,x)            [Variable('john')]</span>
<span class="pysrc-output">(\x.see(john,x))(mary)    [Variable('john'), Variable('mary')]</span>
<span class="pysrc-output">P(x)                      []</span>
<span class="pysrc-output">\P.P(x)                   []</span>
<span class="pysrc-output">aa(x,bb(y),cc(z),P(w),u)  []</span>
<span class="pysrc-output">bo(?det(?n),&#64;x)           [Variable('?n'), Variable('&#64;x')]</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">for</span> e <span class="pysrc-keyword">in</span> examples:
<span class="pysrc-more">... </span>    <span class="pysrc-keyword">print</span>(<span class="pysrc-string">'%-25s'</span> % e, sorted(e.predicates()))
<span class="pysrc-output">walk(john)                [Variable('walk')]</span>
<span class="pysrc-output">walk(x)                   [Variable('walk')]</span>
<span class="pysrc-output">?vp(?np)                  [Variable('?vp')]</span>
<span class="pysrc-output">see(john,mary)            [Variable('see')]</span>
<span class="pysrc-output">exists x.walk(x)          [Variable('walk')]</span>
<span class="pysrc-output">\x.see(john,x)            [Variable('see')]</span>
<span class="pysrc-output">(\x.see(john,x))(mary)    [Variable('see')]</span>
<span class="pysrc-output">P(x)                      []</span>
<span class="pysrc-output">\P.P(x)                   []</span>
<span class="pysrc-output">aa(x,bb(y),cc(z),P(w),u)  [Variable('aa'), Variable('bb'), Variable('cc')]</span>
<span class="pysrc-output">bo(?det(?n),&#64;x)           [Variable('?det'), Variable('bo')]</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">for</span> e <span class="pysrc-keyword">in</span> examples:
<span class="pysrc-more">... </span>    <span class="pysrc-keyword">print</span>(<span class="pysrc-string">'%-25s'</span> % e, sorted(e.variables()))
<span class="pysrc-output">walk(john)                []</span>
<span class="pysrc-output">walk(x)                   [Variable('x')]</span>
<span class="pysrc-output">?vp(?np)                  [Variable('?np'), Variable('?vp')]</span>
<span class="pysrc-output">see(john,mary)            []</span>
<span class="pysrc-output">exists x.walk(x)          []</span>
<span class="pysrc-output">\x.see(john,x)            []</span>
<span class="pysrc-output">(\x.see(john,x))(mary)    []</span>
<span class="pysrc-output">P(x)                      [Variable('P'), Variable('x')]</span>
<span class="pysrc-output">\P.P(x)                   [Variable('x')]</span>
<span class="pysrc-output">aa(x,bb(y),cc(z),P(w),u)  [Variable('P'), Variable('u'), Variable('w'), Variable('x'), Variable('y'), Variable('z')]</span>
<span class="pysrc-output">bo(?det(?n),&#64;x)           [Variable('?det'), Variable('?n'), Variable('&#64;x')]</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<dl class="docutils">
<dt><cite>normalize</cite></dt>
<dd><div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(lexpr(r<span class="pysrc-string">'\e083.(walk(e083, z472) &amp; talk(e092, z938))'</span>).normalize())
<span class="pysrc-output">\e01.(walk(e01,z3) &amp; talk(e02,z4))</span></pre>
</td>
</tr></table></td></tr>
</table></div>
</dd>
</dl>
</div>
</div>
<div class="section" id="typed-logic">
<h2>2.2&nbsp;&nbsp;&nbsp;Typed Logic</h2>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">from</span> nltk.sem.logic <span class="pysrc-keyword">import</span> _LogicParser
<span class="pysrc-prompt">&gt;&gt;&gt; </span>tlp = _LogicParser(True)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'man(x)'</span>).type)
<span class="pysrc-output">?</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'walk(angus)'</span>).type)
<span class="pysrc-output">?</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'-man(x)'</span>).type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'(man(x) &lt;-&gt; tall(x))'</span>).type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'exists x.(man(x) &amp; tall(x))'</span>).type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'\x.man(x)'</span>).type)
<span class="pysrc-output">&lt;e,?&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'john'</span>).type)
<span class="pysrc-output">e</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'\x y.sees(x,y)'</span>).type)
<span class="pysrc-output">&lt;e,&lt;e,?&gt;&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'\x.man(x)(john)'</span>).type)
<span class="pysrc-output">?</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'\x.\y.sees(x,y)(john)'</span>).type)
<span class="pysrc-output">&lt;e,?&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'\x.\y.sees(x,y)(john)(mary)'</span>).type)
<span class="pysrc-output">?</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'\P.\Q.exists x.(P(x) &amp; Q(x))'</span>).type)
<span class="pysrc-output">&lt;&lt;e,t&gt;,&lt;&lt;e,t&gt;,t&gt;&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'\x.y'</span>).type)
<span class="pysrc-output">&lt;?,e&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'\P.P(x)'</span>).type)
<span class="pysrc-output">&lt;&lt;e,?&gt;,?&gt;</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>parsed = tlp.parse(<span class="pysrc-string">'see(john,mary)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parsed.type)
<span class="pysrc-output">?</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parsed.function)
<span class="pysrc-output">see(john)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parsed.function.type)
<span class="pysrc-output">&lt;e,?&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parsed.function.function)
<span class="pysrc-output">see</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parsed.function.function.type)
<span class="pysrc-output">&lt;e,&lt;e,?&gt;&gt;</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>parsed = tlp.parse(<span class="pysrc-string">'P(x,y)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parsed)
<span class="pysrc-output">P(x,y)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parsed.type)
<span class="pysrc-output">?</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parsed.function)
<span class="pysrc-output">P(x)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parsed.function.type)
<span class="pysrc-output">&lt;e,?&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parsed.function.function)
<span class="pysrc-output">P</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parsed.function.function.type)
<span class="pysrc-output">&lt;e,&lt;e,?&gt;&gt;</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'P'</span>).type)
<span class="pysrc-output">?</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'P'</span>, {<span class="pysrc-string">'P'</span>: <span class="pysrc-string">'t'</span>}).type)
<span class="pysrc-output">t</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'P(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.type)
<span class="pysrc-output">?</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.function.type)
<span class="pysrc-output">&lt;e,?&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.argument.type)
<span class="pysrc-output">e</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'-P(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.term.type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.term.function.type)
<span class="pysrc-output">&lt;e,t&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.term.argument.type)
<span class="pysrc-output">e</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'P &amp; Q'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.first.type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.second.type)
<span class="pysrc-output">t</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'(P(x) &amp; Q(x))'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.first.type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.first.function.type)
<span class="pysrc-output">&lt;e,t&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.first.argument.type)
<span class="pysrc-output">e</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.second.type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.second.function.type)
<span class="pysrc-output">&lt;e,t&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.second.argument.type)
<span class="pysrc-output">e</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'\x.P(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.type)
<span class="pysrc-output">&lt;e,?&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.term.function.type)
<span class="pysrc-output">&lt;e,?&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.term.argument.type)
<span class="pysrc-output">e</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'\P.P(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.type)
<span class="pysrc-output">&lt;&lt;e,?&gt;,?&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.term.function.type)
<span class="pysrc-output">&lt;e,?&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.term.argument.type)
<span class="pysrc-output">e</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'(\x.P(x)(john)) &amp; Q(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.first.type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.first.function.type)
<span class="pysrc-output">&lt;e,t&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.first.function.term.function.type)
<span class="pysrc-output">&lt;e,t&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.first.function.term.argument.type)
<span class="pysrc-output">e</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.first.argument.type)
<span class="pysrc-output">e</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'\x y.P(x,y)(john)(mary) &amp; Q(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.first.type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.first.function.type)
<span class="pysrc-output">&lt;e,t&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.first.function.function.type)
<span class="pysrc-output">&lt;e,&lt;e,t&gt;&gt;</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'--P'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.term.type)
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(a.term.term.type)
<span class="pysrc-output">t</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>tlp.parse(r<span class="pysrc-string">'\x y.P(x,y)'</span>).type
<span class="pysrc-output">&lt;e,&lt;e,?&gt;&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>tlp.parse(r<span class="pysrc-string">'\x y.P(x,y)'</span>, {<span class="pysrc-string">'P'</span>: <span class="pysrc-string">'&lt;e,&lt;e,t&gt;&gt;'</span>}).type
<span class="pysrc-output">&lt;e,&lt;e,t&gt;&gt;</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'\P y.P(john,y)(\x y.see(x,y))'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a.type
<span class="pysrc-output">&lt;e,?&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a.function.type
<span class="pysrc-output">&lt;&lt;e,&lt;e,?&gt;&gt;,&lt;e,?&gt;&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a.function.term.term.function.function.type
<span class="pysrc-output">&lt;e,&lt;e,?&gt;&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a.argument.type
<span class="pysrc-output">&lt;e,&lt;e,?&gt;&gt;</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'exists c f.(father(c) = f)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a.type
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a.term.term.type
<span class="pysrc-output">t</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a.term.term.first.type
<span class="pysrc-output">e</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a.term.term.first.function.type
<span class="pysrc-output">&lt;e,e&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a.term.term.second.type
<span class="pysrc-output">e</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<p>typecheck()</p>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(<span class="pysrc-string">'P(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>b = tlp.parse(<span class="pysrc-string">'Q(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a.type
<span class="pysrc-output">?</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>c = a &amp; b
<span class="pysrc-prompt">&gt;&gt;&gt; </span>c.first.type
<span class="pysrc-output">?</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>c.typecheck() 
<span class="pysrc-output">{...}</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>c.first.type
<span class="pysrc-output">t</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(<span class="pysrc-string">'P(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>b = tlp.parse(<span class="pysrc-string">'P(x) &amp; Q(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a.type
<span class="pysrc-output">?</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>typecheck([a,b]) 
<span class="pysrc-output">{...}</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a.type
<span class="pysrc-output">t</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e = tlp.parse(r<span class="pysrc-string">'man(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(dict((k,str(v)) <span class="pysrc-keyword">for</span> k,v <span class="pysrc-keyword">in</span> e.typecheck().items()) == {<span class="pysrc-string">'x'</span>: <span class="pysrc-string">'e'</span>, <span class="pysrc-string">'man'</span>: <span class="pysrc-string">'&lt;e,?&gt;'</span>})
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>sig = {<span class="pysrc-string">'man'</span>: <span class="pysrc-string">'&lt;e, t&gt;'</span>}
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e = tlp.parse(r<span class="pysrc-string">'man(x)'</span>, sig)
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(e.function.type)
<span class="pysrc-output">&lt;e,t&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(dict((k,str(v)) <span class="pysrc-keyword">for</span> k,v <span class="pysrc-keyword">in</span> e.typecheck().items()) == {<span class="pysrc-string">'x'</span>: <span class="pysrc-string">'e'</span>, <span class="pysrc-string">'man'</span>: <span class="pysrc-string">'&lt;e,t&gt;'</span>})
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(e.function.type)
<span class="pysrc-output">&lt;e,t&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(dict((k,str(v)) <span class="pysrc-keyword">for</span> k,v <span class="pysrc-keyword">in</span> e.typecheck(sig).items()) == {<span class="pysrc-string">'x'</span>: <span class="pysrc-string">'e'</span>, <span class="pysrc-string">'man'</span>: <span class="pysrc-string">'&lt;e,t&gt;'</span>})
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<p>findtype()</p>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'man(x)'</span>).findtype(Variable(<span class="pysrc-string">'man'</span>)))
<span class="pysrc-output">&lt;e,?&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'see(x,y)'</span>).findtype(Variable(<span class="pysrc-string">'see'</span>)))
<span class="pysrc-output">&lt;e,&lt;e,?&gt;&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'P(Q(R(x)))'</span>).findtype(Variable(<span class="pysrc-string">'Q'</span>)))
<span class="pysrc-output">?</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<p>parse_type()</p>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parse_type(<span class="pysrc-string">'e'</span>))
<span class="pysrc-output">e</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parse_type(<span class="pysrc-string">'&lt;e,t&gt;'</span>))
<span class="pysrc-output">&lt;e,t&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parse_type(<span class="pysrc-string">'&lt;&lt;e,t&gt;,&lt;e,t&gt;&gt;'</span>))
<span class="pysrc-output">&lt;&lt;e,t&gt;,&lt;e,t&gt;&gt;</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parse_type(<span class="pysrc-string">'&lt;&lt;e,?&gt;,?&gt;'</span>))
<span class="pysrc-output">&lt;&lt;e,?&gt;,?&gt;</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<p>alternative type format</p>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parse_type(<span class="pysrc-string">'e'</span>).str())
<span class="pysrc-output">IND</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parse_type(<span class="pysrc-string">'&lt;e,?&gt;'</span>).str())
<span class="pysrc-output">(IND -&gt; ANY)</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">print</span>(parse_type(<span class="pysrc-string">'&lt;&lt;e,t&gt;,t&gt;'</span>).str())
<span class="pysrc-output">((IND -&gt; BOOL) -&gt; BOOL)</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<p>Type.__eq__()</p>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span><span class="pysrc-keyword">from</span> nltk.sem.logic <span class="pysrc-keyword">import</span> *</pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e = ENTITY_TYPE
<span class="pysrc-prompt">&gt;&gt;&gt; </span>t = TRUTH_TYPE
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = ANY_TYPE
<span class="pysrc-prompt">&gt;&gt;&gt; </span>et = ComplexType(e,t)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>eet = ComplexType(e,ComplexType(e,t))
<span class="pysrc-prompt">&gt;&gt;&gt; </span>at = ComplexType(a,t)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>ea = ComplexType(e,a)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>aa = ComplexType(a,a)</pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e == e
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>t == t
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>e == t
<span class="pysrc-output">False</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a == t
<span class="pysrc-output">False</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>t == a
<span class="pysrc-output">False</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a == a
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>et == et
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a == et
<span class="pysrc-output">False</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>et == a
<span class="pysrc-output">False</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a == ComplexType(a,aa)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>ComplexType(a,aa) == a
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<p>matches()</p>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>e.matches(t)
<span class="pysrc-output">False</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a.matches(t)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>t.matches(a)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>a.matches(et)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>et.matches(a)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>ea.matches(eet)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>eet.matches(ea)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>aa.matches(et)
<span class="pysrc-output">True</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>aa.matches(t)
<span class="pysrc-output">True</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="section" id="type-error-during-parsing">
<h3>Type error during parsing</h3>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>try: <span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'exists x y.(P(x) &amp; P(x,y))'</span>))
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> InconsistentTypeHierarchyException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">The variable 'P' was found in multiple places with different types.</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: tlp.parse(r<span class="pysrc-string">'\x y.see(x,y)(\x.man(x))'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> TypeException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">The function '\x y.see(x,y)' is of type '&lt;e,&lt;e,?&gt;&gt;' and cannot be applied to '\x.man(x)' of type '&lt;e,?&gt;'.  Its argument must match type 'e'.</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: tlp.parse(r<span class="pysrc-string">'\P x y.-P(x,y)(\x.-man(x))'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> TypeException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">The function '\P x y.-P(x,y)' is of type '&lt;&lt;e,&lt;e,t&gt;&gt;,&lt;e,&lt;e,t&gt;&gt;&gt;' and cannot be applied to '\x.-man(x)' of type '&lt;e,t&gt;'.  Its argument must match type '&lt;e,&lt;e,t&gt;&gt;'.</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'-talk(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>signature = a.typecheck()
<span class="pysrc-prompt">&gt;&gt;&gt; </span>try: <span class="pysrc-keyword">print</span>(tlp.parse(r<span class="pysrc-string">'-talk(x,y)'</span>, signature))
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> InconsistentTypeHierarchyException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">The variable 'talk' was found in multiple places with different types.</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'-P(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>b = tlp.parse(r<span class="pysrc-string">'-P(x,y)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a.typecheck() 
<span class="pysrc-output">{...}</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>b.typecheck() 
<span class="pysrc-output">{...}</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: typecheck([a,b])
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> InconsistentTypeHierarchyException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">The variable 'P' was found in multiple places with different types.</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a = tlp.parse(r<span class="pysrc-string">'P(x)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>b = tlp.parse(r<span class="pysrc-string">'P(x,y)'</span>)
<span class="pysrc-prompt">&gt;&gt;&gt; </span>signature = {<span class="pysrc-string">'P'</span>: <span class="pysrc-string">'&lt;e,t&gt;'</span>}
<span class="pysrc-prompt">&gt;&gt;&gt; </span>a.typecheck(signature) 
<span class="pysrc-output">{...}</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: typecheck([a,b], signature)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> InconsistentTypeHierarchyException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">The variable 'P' was found in multiple places with different types.</span></pre>
</td>
</tr></table></td></tr>
</table></div>
</div>
<div class="section" id="parse-errors">
<h3>Parse errors</h3>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">''</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expression expected.</span>
<span class="pysrc-output"></span>
<span class="pysrc-output">^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'('</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expression expected.</span>
<span class="pysrc-output">(</span>
<span class="pysrc-output"> ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">')'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">)</span>
<span class="pysrc-output">^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'()'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">()</span>
<span class="pysrc-output"> ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'(P(x) &amp; Q(x)'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expected token ')'.</span>
<span class="pysrc-output">(P(x) &amp; Q(x)</span>
<span class="pysrc-output">            ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'(P(x) &amp;'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expression expected.</span>
<span class="pysrc-output">(P(x) &amp;</span>
<span class="pysrc-output">       ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'(P(x) | )'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">(P(x) | )</span>
<span class="pysrc-output">        ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'P(x) -&gt;'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expression expected.</span>
<span class="pysrc-output">P(x) -&gt;</span>
<span class="pysrc-output">       ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'P(x'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expected token ')'.</span>
<span class="pysrc-output">P(x</span>
<span class="pysrc-output">   ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'P(x,'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expression expected.</span>
<span class="pysrc-output">P(x,</span>
<span class="pysrc-output">    ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'P(x,)'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">P(x,)</span>
<span class="pysrc-output">    ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'exists'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Variable and Expression expected following quantifier 'exists'.</span>
<span class="pysrc-output">exists</span>
<span class="pysrc-output">       ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'exists x'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expression expected.</span>
<span class="pysrc-output">exists x</span>
<span class="pysrc-output">         ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'exists x.'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expression expected.</span>
<span class="pysrc-output">exists x.</span>
<span class="pysrc-output">         ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'\  '</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Variable and Expression expected following lambda operator.</span>
<span class="pysrc-output">\</span>
<span class="pysrc-output">  ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'\ x'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expression expected.</span>
<span class="pysrc-output">\ x</span>
<span class="pysrc-output">    ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'\ x y'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expression expected.</span>
<span class="pysrc-output">\ x y</span>
<span class="pysrc-output">      ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'\ x.'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expression expected.</span>
<span class="pysrc-output">\ x.</span>
<span class="pysrc-output">    ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'P(x)Q(x)'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: 'Q'.</span>
<span class="pysrc-output">P(x)Q(x)</span>
<span class="pysrc-output">    ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'(P(x)Q(x)'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: 'Q'.  Expected token ')'.</span>
<span class="pysrc-output">(P(x)Q(x)</span>
<span class="pysrc-output">     ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'exists x y'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expression expected.</span>
<span class="pysrc-output">exists x y</span>
<span class="pysrc-output">           ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'exists x y.'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expression expected.</span>
<span class="pysrc-output">exists x y.</span>
<span class="pysrc-output">           ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'exists x -&gt; y'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: '-&gt;'.  Expression expected.</span>
<span class="pysrc-output">exists x -&gt; y</span>
<span class="pysrc-output">         ^</span></pre>
</td>
</tr></table></td></tr>
</table></div>
<div class="doctest">
<table border="0" cellpadding="0" cellspacing="0" class="doctest" width="95%">
<tr><td class="doctest">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td width="1" class="copybar"
        onclick="javascript:copy_doctest_to_clipboard(this.nextSibling);"
        >&nbsp;</td>
<td class="pysrc"><pre class="doctest">
<span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; ((P(x) &amp; Q(x)) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expected token ')'.</span>
<span class="pysrc-output">A -&gt; ((P(x) &amp; Q(x)) -&gt; Z</span>
<span class="pysrc-output">                        ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; ((P(x) &amp;) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">A -&gt; ((P(x) &amp;) -&gt; Z</span>
<span class="pysrc-output">             ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; ((P(x) | )) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">A -&gt; ((P(x) | )) -&gt; Z</span>
<span class="pysrc-output">              ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (P(x) -&gt;) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">A -&gt; (P(x) -&gt;) -&gt; Z</span>
<span class="pysrc-output">             ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (P(x) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">End of input found.  Expected token ')'.</span>
<span class="pysrc-output">A -&gt; (P(x) -&gt; Z</span>
<span class="pysrc-output">               ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (P(x,) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">A -&gt; (P(x,) -&gt; Z</span>
<span class="pysrc-output">          ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (P(x,)) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">A -&gt; (P(x,)) -&gt; Z</span>
<span class="pysrc-output">          ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (exists) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">')' is an illegal variable name.  Constants may not be quantified.</span>
<span class="pysrc-output">A -&gt; (exists) -&gt; Z</span>
<span class="pysrc-output">            ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (exists x) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">A -&gt; (exists x) -&gt; Z</span>
<span class="pysrc-output">              ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (exists x.) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">A -&gt; (exists x.) -&gt; Z</span>
<span class="pysrc-output">               ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (\  ) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">')' is an illegal variable name.  Constants may not be abstracted.</span>
<span class="pysrc-output">A -&gt; (\  ) -&gt; Z</span>
<span class="pysrc-output">         ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (\ x) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">A -&gt; (\ x) -&gt; Z</span>
<span class="pysrc-output">         ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (\ x y) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">A -&gt; (\ x y) -&gt; Z</span>
<span class="pysrc-output">           ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (\ x.) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">A -&gt; (\ x.) -&gt; Z</span>
<span class="pysrc-output">          ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (P(x)Q(x)) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: 'Q'.  Expected token ')'.</span>
<span class="pysrc-output">A -&gt; (P(x)Q(x)) -&gt; Z</span>
<span class="pysrc-output">          ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; ((P(x)Q(x)) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: 'Q'.  Expected token ')'.</span>
<span class="pysrc-output">A -&gt; ((P(x)Q(x)) -&gt; Z</span>
<span class="pysrc-output">           ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (all x y) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">A -&gt; (all x y) -&gt; Z</span>
<span class="pysrc-output">             ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (exists x y.) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: ')'.  Expression expected.</span>
<span class="pysrc-output">A -&gt; (exists x y.) -&gt; Z</span>
<span class="pysrc-output">                 ^</span>
<span class="pysrc-output"></span><span class="pysrc-prompt">&gt;&gt;&gt; </span>try: lexpr(r<span class="pysrc-string">'A -&gt; (exists x -&gt; y) -&gt; Z'</span>)
<span class="pysrc-more">... </span><span class="pysrc-keyword">except</span> LogicalExpressionException <span class="pysrc-keyword">as</span> e: <span class="pysrc-keyword">print</span>(e)
<span class="pysrc-output">Unexpected token: '-&gt;'.  Expression expected.</span>
<span class="pysrc-output">A -&gt; (exists x -&gt; y) -&gt; Z</span>
<span class="pysrc-output">               ^</span></pre>
</td>
</tr></table></td></tr>
</table></div>
</div>
</div>
</div>
</div>
</body>
</html>
